<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>kaizeiã¨yimi</title>
  
  <link href="/site/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-04-05T13:05:40.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>kaizei</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>swift 2.2 ç±»å‹è½¬æ¢å°å‘</title>
    <link href="http://yoursite.com/2016/03/28/swift_type_convert/"/>
    <id>http://yoursite.com/2016/03/28/swift_type_convert/</id>
    <published>2016-03-28T06:00:00.000Z</published>
    <updated>2016-04-05T13:05:40.000Z</updated>
    
    <content type="html">&lt;p&gt;XCodeå‡çº§åˆ°äº†7.3, swiftåˆ°äº†2.2. ä¹‹å‰å‘ç°çš„å‘åœ¨è¿™é‡ŒéªŒè¯äº†ä¸€ä¸‹, ä¾ç„¶æ²¡å•¥å˜åŒ–. ç‰¹æ­¤è®°å½•ä¸€ä¸‹.&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦å¡«ä¸€ä¸‹ç±»å‹è½¬æ¢çš„å‘, åŒ…æ‹¬ &lt;code&gt;=&lt;/code&gt;, &lt;code&gt;as&lt;/code&gt;, &lt;code&gt;is&lt;/code&gt;, &lt;code&gt;Optional&lt;/code&gt;, &lt;code&gt;å‡½æ•°å‚æ•°&lt;/code&gt;,&lt;code&gt;é—­åŒ…&lt;/code&gt; ä»¥åŠ&lt;code&gt;Tuple&lt;/code&gt;. æ€»ä¹‹, &lt;code&gt;class&lt;/code&gt;å’Œ&lt;code&gt;éclass&lt;/code&gt;çš„å¾…é‡æ˜¯ä¸ä¸€æ ·çš„, Anyå’ŒAnyObjectçš„åŒºåˆ«ä¹Ÿæ˜¯å¾ˆé‡è¦çš„.
&lt;code&gt;=&lt;/code&gt;, &lt;code&gt;as&lt;/code&gt;, &lt;code&gt;is&lt;/code&gt;ä¸»è¦æ˜¯é’ˆå¯¹Arrayç±»å‹, å…¶ä»–&lt;code&gt;CollectionType&lt;/code&gt;ä¹Ÿç±»ä¼¼.&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä»£ç ä¸­çš„é€šç”¨å®šä¹‰:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;P&lt;/span&gt; &lt;/span&gt;{}    &lt;span class=&quot;hljs-comment&quot;&gt;//swift protocol without @objc&lt;/span&gt;

&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;A&lt;/span&gt; &lt;/span&gt;{}
&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;B&lt;/span&gt;: &lt;span class=&quot;hljs-title&quot;&gt;A&lt;/span&gt; &lt;/span&gt;{}

&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;AP&lt;/span&gt;: &lt;span class=&quot;hljs-title&quot;&gt;P&lt;/span&gt; &lt;/span&gt;{}
&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;BP&lt;/span&gt;: &lt;span class=&quot;hljs-title&quot;&gt;AP&lt;/span&gt; &lt;/span&gt;{}

&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;S&lt;/span&gt; &lt;/span&gt;{}
&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;SP&lt;/span&gt;: &lt;span class=&quot;hljs-title&quot;&gt;P&lt;/span&gt; &lt;/span&gt;{}

&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; arrayA = [&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()], arrayB = [&lt;span class=&quot;hljs-type&quot;&gt;B&lt;/span&gt;()], arrayS = [&lt;span class=&quot;hljs-type&quot;&gt;S&lt;/span&gt;()], arrayPA: [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;] = [&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()], arrayPS: [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;] = [&lt;span class=&quot;hljs-type&quot;&gt;S&lt;/span&gt;()]&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;as-is-ä»¥åŠ-Optional&quot;&gt;&lt;a href=&quot;#as-is-ä»¥åŠ-Optional&quot; class=&quot;headerlink&quot; title=&quot;as is, = ä»¥åŠ Optional&quot;&gt;&lt;/a&gt;as is, = ä»¥åŠ Optional&lt;/h2&gt;&lt;p&gt;ä¸‰è€…çš„å‘ç±»ä¼¼, ä¸»è¦æ˜¯arrayç±»å‹çš„æ¨æ–­. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;as&lt;/code&gt;æ“ä½œç¬¦å°†ä¸€ä¸ªç±»å‹è½¬æ¢æˆå¹³çº§ç±»å‹æˆ–è€…çˆ¶ç±»å‹, ä¾‹å¦‚ &lt;code&gt;&amp;quot;abc&amp;quot; as NSString&lt;/code&gt;å¯ä»¥çœ‹æˆæ˜¯å¹³çº§è½¬æ¢, &lt;code&gt;b as A&lt;/code&gt; æ˜¯è½¬æ¢åˆ°çˆ¶ç±»å‹.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;as!&lt;/code&gt;å’Œ&lt;code&gt;as?&lt;/code&gt;æ˜¯ç”¨äºå°†çˆ¶ç±»å‹å˜é‡è½¬æ¢ä¸ºå­ç±»å‹.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is&lt;/code&gt;æ˜¯checkçˆ¶ç±»å‹å˜é‡æ˜¯å¦ä¸ºå­ç±»å‹.&lt;/li&gt;
&lt;li&gt;æŸç§ç¨‹åº¦ä¸Š, &lt;code&gt;Optional&lt;/code&gt;å¯ä»¥çœ‹åšæ˜¯å…¶&lt;code&gt;T&lt;/code&gt;çš„çˆ¶ç±»å‹.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ™®é€šç±»å‹è¿›è¡Œå„ç§è½¬æ¢æ£€æŸ¥éƒ½æ²¡ä»€ä¹ˆé—®é¢˜, ä½†æ˜¯å½“æ™®é€šç±»å‹ç¢°ä¸Š&lt;strong&gt;é›†åˆ&lt;/strong&gt;å‘¢? &lt;/p&gt;
&lt;p&gt;å…ˆçœ‹code:&lt;/p&gt;
&lt;p&gt;as:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;arrayA &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;]  &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: array cannot be bridged from Objective-C&lt;/span&gt;
arrayA &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;Any&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: array cannot be bridged from Objective-C&lt;/span&gt;
arrayA &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;AnyObject&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;// OK&lt;/span&gt;
arrayB &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;]            &lt;span class=&quot;hljs-comment&quot;&gt;// OK&lt;/span&gt;

arrayS &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;// compiler, Cannot convert value of type &#39;[C]&#39; to type &#39;[P]&#39; in coercion&lt;/span&gt;
arrayS &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;Any&lt;/span&gt;]    &lt;span class=&quot;hljs-comment&quot;&gt;// compiler, Cannot convert value of type &#39;[C]&#39; to type &#39;[Any]&#39; in coercion&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;is:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;arrayPA &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;// OK&lt;/span&gt;
arrayPS &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;S&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: can&#39;t unsafeBitCast between types of different sizes&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;èµ‹å€¼:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; a: [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;] = arrayA &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: array cannot be bridged from Objective-C&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; a: [&lt;span class=&quot;hljs-type&quot;&gt;Any&lt;/span&gt;] = arrayA &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: array cannot be bridged from Objective-C&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; a: [&lt;span class=&quot;hljs-type&quot;&gt;AnyObject&lt;/span&gt;] = arrayA &lt;span class=&quot;hljs-comment&quot;&gt;// OK&lt;/span&gt;

&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; s: [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;] = arrayS &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: array cannot be bridged from Objective-C&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; s: [&lt;span class=&quot;hljs-type&quot;&gt;Any&lt;/span&gt;] = arrayS &lt;span class=&quot;hljs-comment&quot;&gt;// runtime, fatal error: array cannot be bridged from Objective-C&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¤§æ¦‚æ˜¯å› ä¸ºOCçš„runtimeå§. å¯ä¸æ˜¯ä¹ˆ? æ–‡æ¡£æœ‰æåˆ°&lt;code&gt;@objc&lt;/code&gt; å°†æŒ‡å®šçš„æ–¹æ³•æˆ–è€…å±æ€§æš´éœ²ç»™OC, è€Œ&lt;code&gt;AnyObject&lt;/code&gt;æ˜¯å¸¦æœ‰è¿™ä¸ªæ ‡è®°çš„, å› æ­¤åœ¨ç±»å‹æ£€æŸ¥å’Œè½¬æ¢æ—¶è¡Œä¸ºè·Ÿ&lt;code&gt;NSArray&lt;/code&gt;å·®ä¸å¤š. &lt;code&gt;Any&lt;/code&gt;æ²¡æœ‰&lt;code&gt;@objc&lt;/code&gt;. &lt;code&gt;protocol&lt;/code&gt; ä¸å¸¦&lt;code&gt;@objc&lt;/code&gt;æ—¶å’Œ&lt;code&gt;Any&lt;/code&gt;ä¸€æ ·, å¸¦ä¸Šäº†&lt;code&gt;@objc&lt;/code&gt;å°±å’Œ&lt;code&gt;AnyObject&lt;/code&gt;ä¸€æ ·. &lt;code&gt;Optional&lt;/code&gt;ä¹Ÿæ˜¯swiftç‰¹æœ‰, å› æ­¤è¡Œä¸ºä¸Šå’ŒAnyç±»ä¼¼.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;arrayA &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;NSArray&lt;/span&gt;    &lt;span class=&quot;hljs-comment&quot;&gt;// OK&lt;/span&gt;
arrayS &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;NSArray&lt;/span&gt;     &lt;span class=&quot;hljs-comment&quot;&gt;// // compiler, Cannot convert value of type &#39;[S]&#39; to type &#39;NSArray&#39; in coercion&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åªè¦ä¸ç‰µæ‰¯åˆ°swiftç‰¹æœ‰çš„ä¸œè¥¿(struct, ä¸å¸¦@objcçš„protocol, Optional), å¤§éƒ¨åˆ†çš„è½¬æ¢éƒ½å¯ä»¥çœ‹æˆæ˜¯åˆ°NSArrayçš„è½¬æ¢, å½“ç„¶swiftä¹Ÿæœ‰ç±»å‹æ£€æŸ¥, ä¸èƒ½ä¹±è½¬. &lt;/p&gt;
&lt;p&gt;ç„¶è€Œäº‹æƒ…æ€»æœ‰æ„å¤–...&lt;/p&gt;
&lt;p&gt;çœŸçš„åªèƒ½è¿™æ ·äº†ä¹ˆ? ä¸æ˜¯çš„. å­—é¢é‡æ•°ç»„å¯ä»¥èº²è¿‡ä¸€äº›åŠ«éš¾. å› ä¸ºç±»å‹æ¨æ–­çš„ç¼˜æ•…. ç»§ç»­çœ‹code:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;[&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()] &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;]
[&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()] &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;Any&lt;/span&gt;]
[&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()] &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;AnyObject&lt;/span&gt;]

[&lt;span class=&quot;hljs-type&quot;&gt;S&lt;/span&gt;()] &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;]
[&lt;span class=&quot;hljs-type&quot;&gt;S&lt;/span&gt;()] &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; [&lt;span class=&quot;hljs-type&quot;&gt;Any&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç±»å‹æ¨æ–­è‡³ä¸Šè€Œä¸‹, è¡¨è¾¾å¼çš„ç±»å‹æœ€ç»ˆä¸º[P], å€’æ¨å·¦å€¼éœ€è¦ä¸º[P], æ­¤æ—¶å·¦å€¼åªçŸ¥é“æ˜¯Array, æœªæ¨æ–­T, è¿›è€Œç»§ç»­æ¨æ–­å…¶Generator.Elementéœ€è¦ä¸ºP. è€ŒAå¯ä»¥è½¬æ¢ä¸ºP, æ‰€ä»¥å­—é¢é‡æ•°ç»„åˆ›å»ºå‡ºæ¥å°±æ˜¯[P]ç±»å‹è€Œä¸å­˜åœ¨è½¬æ¢. è¿™æ˜¯ç¼–è¯‘å™¨åšçš„.&lt;/p&gt;
&lt;p&gt;èµ‹å€¼çš„æ“ä½œç±»ä¼¼, åªè¦æŠŠå³å€¼æ¢æˆå¯¹åº”çš„å­—é¢é‡æ•°ç»„å°±å¯ä»¥æˆåŠŸèµ‹å€¼, è€Œ&lt;code&gt;is&lt;/code&gt;æ“ä½œå› ä¸ºç±»å‹æ¨æ–­, å­—é¢é‡æ•°ç»„æœ€ç»ˆçš„ç±»å‹å°±æ˜¯å³å€¼, æ²¡æœ‰æ„ä¹‰. &lt;/p&gt;
&lt;p&gt;å“¦, ç±»å‹æ¨æ–­å“ª...&lt;/p&gt;
&lt;h2 id=&quot;å‡½æ•°å‚æ•°-å’Œ-é—­åŒ…&quot;&gt;&lt;a href=&quot;#å‡½æ•°å‚æ•°-å’Œ-é—­åŒ…&quot; class=&quot;headerlink&quot; title=&quot;å‡½æ•°å‚æ•° å’Œ é—­åŒ…&quot;&gt;&lt;/a&gt;å‡½æ•°å‚æ•° å’Œ é—­åŒ…&lt;/h2&gt;&lt;p&gt;å‡½æ•°æœ‰å…¥å‚å’Œè¿”å›å€¼, è°ƒç”¨å‡½æ•°æ—¶ä¼ é€’å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªèµ‹å€¼çš„è¿‡ç¨‹, å› æ­¤å¯ä»¥å‚è€ƒä¸Šæ–‡çš„ç°è±¡. ä¹Ÿå°±æ˜¯è¯´ä¼ é€’è¿›æ¥çš„å‚æ•°è¦èƒ½æ­£ç¡®è½¬æ¢æˆå‡½æ•°éœ€è¦çš„ç±»å‹, å‡½æ•°å†…éƒ¨çš„è¿”å›å€¼ä¹Ÿè¦èƒ½æ­£ç¡®è½¬æ¢ä¸ºå£°æ˜çš„ç±»å‹. åªè¦ç¬¦åˆè¿™äº›æ¡ä»¶, è°ƒç”¨å°±æ²¡æœ‰é—®é¢˜.&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†, é—­åŒ…ä¹Ÿæ˜¯å‡½æ•°, é—­åŒ…çš„ç±»å‹å¦‚ä½•è½¬æ¢?&lt;/p&gt;
&lt;p&gt;åˆæ¥ä¸€ä»½code:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(f: A -&amp;gt; P)&lt;/span&gt;&lt;/span&gt; {}
&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(p: P)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt; {}

test(param)    &lt;span class=&quot;hljs-comment&quot;&gt;// OK&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åŸç†å¹¶ä¸éš¾, å…ˆçœ‹é—­åŒ…çš„å…¥å‚, éœ€æ±‚ä¸ºAç±»å‹, ä¹Ÿå°±æ„å‘³ç€åœ¨&lt;code&gt;test&lt;/code&gt;æ–¹æ³•å†…éƒ¨ä¼šä¼ é€’ä¸€ä¸ªå˜é‡ç»™&lt;code&gt;f&lt;/code&gt;, è¿™ä¸ªå˜é‡ä¼šåœ¨ä¼ é€’ç»™&lt;code&gt;f&lt;/code&gt;æ—¶è½¬æ¢ä¸º&lt;code&gt;A&lt;/code&gt;ç±»å‹. ä¹Ÿå°±æ˜¯è¯´&lt;code&gt;f&lt;/code&gt;åº”è¯¥èƒ½å¤Ÿå¤„ç†&lt;code&gt;A&lt;/code&gt;ç±»å‹çš„å…¥å‚.å› æ­¤, å¦‚æœæˆ‘ä»¬ä¼ é€’çš„é—­åŒ…çš„å…¥å‚æ˜¯&lt;code&gt;A&lt;/code&gt;çš„çˆ¶ç±»å‹&lt;code&gt;P&lt;/code&gt;, å®ƒä¹Ÿèƒ½å¤„ç†ç±»å‹ä¸º&lt;code&gt;A&lt;/code&gt;çš„å‚æ•°, è€Œå¦‚æœæ˜¯å­ç±»å‹&lt;code&gt;B&lt;/code&gt;åˆ™å¯èƒ½å‡ºé”™. &lt;/p&gt;
&lt;p&gt;&lt;code&gt;A&lt;/code&gt;ä¸€å®šæ˜¯&lt;code&gt;P&lt;/code&gt;ä½†ä¸ä¸€å®šæ˜¯&lt;code&gt;B&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;åŒæ ·, å¯¹äºè¿”å›å€¼, &lt;code&gt;test&lt;/code&gt;æ–¹æ³•è¦è¿”å›&lt;code&gt;P&lt;/code&gt;ç±»å‹, å› æ­¤æˆ‘ä»¬å¯ä»¥è¿”å›&lt;code&gt;P&lt;/code&gt;ç±»å‹çš„å­ç±»å‹&lt;code&gt;A&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;å‰æ–‡æåˆ°, æŸç§ç¨‹åº¦ä¸Šå¯ä»¥å°†&lt;code&gt;Optional&lt;/code&gt;çœ‹åšæ˜¯å…¶&lt;code&gt;T&lt;/code&gt;çš„çˆ¶ç±»å‹, å› ä¸ºç¼–ç è¿‡ç¨‹ä¸­å‘ç°å®ƒåœ¨ç±»å‹è½¬æ¢ä¸Šçš„ç»“æœå’Œçˆ¶ç±»å‹å­ç±»å‹çš„ä¸€è‡´.å› æ­¤ä¸‹é¢çš„codeä¹Ÿä¸éœ€è¦ç‰¹åˆ«å¤„ç†:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;testNil&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;? {
    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; a = &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a         &lt;span class=&quot;hljs-comment&quot;&gt;// ç¼–è¯‘å™¨è‡ªåŠ¨wrap&lt;/span&gt;
}&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;Tuple&quot;&gt;&lt;a href=&quot;#Tuple&quot; class=&quot;headerlink&quot; title=&quot;Tuple&quot;&gt;&lt;/a&gt;Tuple&lt;/h2&gt;&lt;p&gt;Tupleæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„, å°±æ˜¯ç±»å‹è½¬æ¢çš„æ—¶å€™ä¸ç®¡ç±»å‹ç»§æ‰¿, å½“ç„¶, å­—é¢é‡æ–¹å¼é™¤å¤–. çœ‹èµ·æ¥å°±åƒæ˜¯å­—ç¬¦ä¸²æ¯”è¾ƒ:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; value = (&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;(), &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;()) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;, &lt;span class=&quot;hljs-type&quot;&gt;P&lt;/span&gt;)    &lt;span class=&quot;hljs-comment&quot;&gt;// value æ˜¯ (P, P)ç±»å‹&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; value &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;, &lt;span class=&quot;hljs-type&quot;&gt;A&lt;/span&gt;) {

} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {
    &lt;span class=&quot;hljs-comment&quot;&gt;// will got here&lt;/span&gt;
}&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;æ€»ç»“-4&quot;&gt;&lt;a href=&quot;#æ€»ç»“-4&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å†™çš„æ—¶å€™å°½é‡æ³¨æ„å§, ä¸è¦ä»¥ä¸ºbuildè¿‡äº†å°±æ²¡äº‹, ä¸€äº›è½¬æ¢çš„å‘åœ¨runtimeç­‰ä½ å‘¢(çœ‹ä¸Šè¾¹çš„æŠ¥é”™çš„æ³¨é‡Šå§). æ‹¿ä¸å‡†å°±ä¸»åŠ¨åšä¸ªmapå§.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;XCodeå‡çº§åˆ°äº†7.3, swiftåˆ°äº†2.2. ä¹‹å‰å‘ç°çš„å‘åœ¨è¿™é‡ŒéªŒè¯äº†ä¸€ä¸‹, ä¾ç„¶æ²¡å•¥å˜åŒ–. ç‰¹æ­¤è®°å½•ä¸€ä¸‹.&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦å¡«ä¸€ä¸‹ç±»å‹è½¬æ¢çš„å‘, åŒ…æ‹¬ &lt;code&gt;=&lt;/code&gt;, &lt;code&gt;as&lt;/code&gt;, &lt;code&gt;is&lt;/code&gt;, &lt;cod
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="XCode" scheme="http://yoursite.com/tags/XCode/"/>
    
  </entry>
  
  <entry>
    <title>2016 å¹´åå°æ€»ç»“</title>
    <link href="http://yoursite.com/2016/03/15/%E5%B9%B4%E5%90%8E%E5%B0%8F%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2016/03/15/å¹´åå°æ€»ç»“/</id>
    <published>2016-03-15T07:00:00.000Z</published>
    <updated>2016-04-05T13:05:40.000Z</updated>
    
    <content type="html">&lt;p&gt;kaizeiçš„2015å°æ€»ç»“. æ€»ç®—ä¹Ÿæ˜¯å†™äº†æ€»ç»“äº†...&lt;/p&gt;
&lt;p&gt;é—®: ä¸åº”è¯¥å¹´å‰å†™æ€»ç»“ä¹ˆ?&lt;/p&gt;
&lt;p&gt;ç­”: æ˜¯çš„, ä½†æ˜¯... hehe
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±å¯ä»¥å¡«åœ¨ä½†æ˜¯åé¢çš„è¯, æˆ‘çš„æ˜¯ä»€ä¹ˆ? ä¸å‘Šè¯‰ä½ .&lt;/p&gt;
&lt;h2 id=&quot;æ­£æ–‡&quot;&gt;&lt;a href=&quot;#æ­£æ–‡&quot; class=&quot;headerlink&quot; title=&quot;æ­£æ–‡&quot;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;è¿‡å®Œå¹´äº†, å—¯, ä¸ç”¨æé†’æˆ‘å·²ç»è¿‡äº†1ä¸ªå¤šæœˆäº†. å»å¹´ä¸€å¹´å¾ˆé¢ ç°¸, è·³äº†ä¸¤æ¬¡æ§½, 2æœˆä»½ç¦»å¼€äººäººå»äº†tango, ç„¶å8æœˆä»½ç¦»å¼€tangoæ¥åˆ°äº†ç°åœ¨çš„å…¬å¸--è´¢è¯´. &lt;/p&gt;
&lt;p&gt;æŠ€æœ¯ä¸Šè¿˜æ˜¯é‚£æ ·, iOSä¸ºä¸», å…¬å¸ä½¿ç”¨swiftå¼€å‘, ç»å†äº†1åˆ°2çš„è¿ç§», æˆ‘ä»¬çš„ä»£ç è´¨é‡è›®é«˜, ç»“æ„ä¹Ÿæ¯”è¾ƒåˆç†, å¾ˆå°‘çš„æ—¶é—´å°±å®Œæˆäº†. å¹´åº•ç”¨swiftå¼€å‘äº†å‡ ä¸ªåº“, &lt;a href=&quot;https://github.com/kaizeiyimi/XLYAnimatedImage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;åŠ¨å›¾æ’­æ”¾&lt;/a&gt;, &lt;a href=&quot;https://github.com/kaizeiyimi/XAutoLayout&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XAutoLayout&lt;/a&gt;,  &lt;a href=&quot;https://github.com/kaizeiyimi/XLYTextKitExtension&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ‰©å±•TextKit&lt;/a&gt;, &lt;a href=&quot;https://github.com/kaizeiyimi/Phantom&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Phantom&lt;/a&gt;, å‰ä¸¤ä¸ªçš„è´¨é‡é«˜ä¸€äº›, åé¢ä¸¤ä¸ªæ›´åƒæ˜¯è¯•éªŒå“. åæ§½ä¸€å¥: ç”¨swiftå¼€å‘å’Œåªæ˜¯ç«™åœ¨æ—è¾¹å­¦ä¹ æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„. ğŸ˜›&lt;/p&gt;
&lt;p&gt; æœ‰ç©ºå€’è…¾äº†ä¸€ä¸‹webæŠ€æœ¯, æ„Ÿè§‰webæŠ€æœ¯æ‰æ˜¯æœªæ¥çš„éœ¸ä¸». æ–­æ–­ç»­ç»­çœ‹äº†ä¸€äº›jsçš„ä¹¦ç±, ä¹Ÿå€’è…¾äº†ä¸€äº›å·¥å…·, &lt;code&gt;gulp&lt;/code&gt;, &lt;code&gt;browser-sync&lt;/code&gt;ä¹‹ç±»çš„, è¿˜æŒºæœ‰æ„æ€çš„.&lt;/p&gt;
&lt;p&gt;ç”Ÿæ´»ä¸Šæœ‰ç‚¹å„¿æ‚²å‚¬. å·¥ä½œæ€§è´¨åŠ ä¸Šæˆ‘ä¸€èˆ¬æ¯”è¾ƒæŠ•å…¥, ä¹…åè¾ƒå¤š, äººèƒ–äº†, æ°”è‰²å·®äº†, å¤´å‘å°‘äº†, è„¾æ°”ä¹Ÿæ²¡ä»¥å‰å¥½äº†, æ€»ä¹‹æ•´ä¸ªäººéƒ½ä¸å¥½äº†. æ¬å®¶ä¹Ÿæ¬äº†ä¸¤æ¬¡, ç§Ÿæˆ¿ä½çš„æ‚²å“€. ç°åœ¨åˆå›åˆ°äº†æœ€å¼€å§‹çš„åœ°è’--ç«‹æ°´æ¡¥. ç«‹æ°´æ¡¥è¿˜æ˜¯é‚£ä¸ªç«‹æ°´æ¡¥, ä½†æ˜¯æˆ¿ç§Ÿå·²ç»ä¸æ˜¯é‚£ä¸ªä»·ä½çš„æˆ¿ç§Ÿäº†. å–æ–¹å¸‚åœºä¸‹çš„æˆ‘ä»¬ä¹Ÿåªèƒ½æŒ£æ‰å´æ— æ³•æ‘†è„±å¹´å¹´æ¶¨ç§Ÿçš„é—®é¢˜.&lt;/p&gt;
&lt;p&gt;ä»Šå¹´è¦å¤šå¤šé”»ç‚¼èº«ä½“, å¤šçœ‹ç‚¹å„¿æ–‡å­¦ä¹¦ç±. ç¯®çƒå·²ç»ç˜ªäº†, è¦æ‰“æ°”äº†. å‰ä»–ä¸Šçš„ç°å¾ˆå¤š, è¦æ“¦ä¸€ä¸‹äº†. &lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color:rgb(179,62,170)&quot;&gt;darling&lt;/span&gt;è¯´, èº«ä¸Šçš„è‚‰è‚¥äº†, å†ä¸é”»ç‚¼å°±è¯¥å‰²äº†!&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;kaizeiçš„2015å°æ€»ç»“. æ€»ç®—ä¹Ÿæ˜¯å†™äº†æ€»ç»“äº†...&lt;/p&gt;
&lt;p&gt;é—®: ä¸åº”è¯¥å¹´å‰å†™æ€»ç»“ä¹ˆ?&lt;/p&gt;
&lt;p&gt;ç­”: æ˜¯çš„, ä½†æ˜¯... hehe
    
    </summary>
    
      <category term="æ—¥å¸¸" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
      <category term="å¹´ç»ˆæ€»ç»“" scheme="http://yoursite.com/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>XLYAutoLayoutEasy</title>
    <link href="http://yoursite.com/2014/12/08/XLYAutoLayoutEasy/"/>
    <id>http://yoursite.com/2014/12/08/XLYAutoLayoutEasy/</id>
    <published>2014-12-08T08:00:00.000Z</published>
    <updated>2016-04-04T10:07:09.000Z</updated>
    
    <content type="html">&lt;p&gt;å¼€å‘AutoLayoutEasyçš„ç›®çš„æ˜¯ä¸ºäº†è®©ä»£ç ç¼–å†™AutoLayoutæ›´åŠ æ–¹ä¾¿ç›´è§‚, æé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§. å› ä¸ºæˆ‘ä¸ªäººè§‰å¾—iOSæä¾›çš„åˆ›å»ºçº¦æŸçš„æ–¹å¼çœŸå¿ƒä¸æ•¢æ­ç»´, NSLayoutConstraintçš„ç±»æ–¹æ³•å†™èµ·æ¥å¥½é•¿, VFLåˆä¸å¥½æ“ä½œå…·ä½“çº¦æŸ, å†™å‡ºæ¥çš„ä»£ç å¯è¯»æ€§ä¹Ÿä¸æ˜¯å¾ˆé«˜.&lt;/p&gt;
&lt;h2 id=&quot;å¦‚ä½•åˆ›å»ºä¸€ä¸ªçº¦æŸ&quot;&gt;&lt;a href=&quot;#å¦‚ä½•åˆ›å»ºä¸€ä¸ªçº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•åˆ›å»ºä¸€ä¸ªçº¦æŸ&quot;&gt;&lt;/a&gt;å¦‚ä½•åˆ›å»ºä¸€ä¸ªçº¦æŸ&lt;/h2&gt;&lt;p&gt;è‹¹æœåœ¨NSLayoutConstraintä¸­æä¾›äº†ä¸€ä¸ªç±»æ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;+(instancetype)constraintWithItem:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)view1 
                        attribute:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutAttribute&lt;/span&gt;)attr1 
                        relatedBy:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutRelation&lt;/span&gt;)relation
                           toItem:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)view2 
                        attribute:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutAttribute&lt;/span&gt;)attr2 
                       multiplier:(&lt;span class=&quot;hljs-built_in&quot;&gt;CGFloat&lt;/span&gt;)multiplier 
                         constant:(&lt;span class=&quot;hljs-built_in&quot;&gt;CGFloat&lt;/span&gt;)c;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨äºåˆ›å»ºä¸¤ä¸ªitemä¹‹é—´çš„çº¦æŸ, ä¸€æ¬¡åªèƒ½æè¿°æŸä¸¤ä¸ªå±æ€§çš„å…³ç³». æ¯”å¦‚éœ€è¦view1çš„leftå’Œview2çš„rightä¿æŒ10çš„åç§»é‡. é‚£ä¹ˆè¿™é‡Œçš„è°ƒç”¨å°±æ˜¯è¿™æ ·:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutConstraint&lt;/span&gt; constraintWithItem:view1 
                             attribute:&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutAttributeLeft&lt;/span&gt;
                             relatedBy:&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutRelationEqual&lt;/span&gt;
                                toItem:view2
                             attribute:&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutAttributeRight&lt;/span&gt;
                            multiplier:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;
                              constant:&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¥½é•¿æœ‰æœ¨æœ‰, ä½†æ˜¯å¾ˆæ¸…æ™°, è‡³å°‘æ˜ç¡®åœ°è¡¨è¾¾äº†ä¸¤ä¸ªviewçš„ä¸¤ä¸ªå±æ€§é—´çš„å…³ç³». VFLçš„æå†™æ–¹å¼å°±ä¸å†™äº†. è¿™é‡Œè·å–åˆ°äº†ä¸€ä¸ªconstraintå¯¹è±¡, ä¸‹ä¸€æ­¥æˆ‘éœ€è¦è®©å®ƒç”Ÿæ•ˆ, æˆ‘éœ€è¦æ‰¾åˆ°ä¸€ä¸ªviewå»è°ƒç”¨&lt;code&gt;[view addConstraint:constraint]&lt;/code&gt;, è¿™ä¸ªviewå¿…é¡»æ˜¯view1å’Œview2çš„ä¸€ä¸ªå…¬å…±çˆ¶view. å®Œæˆæ“ä½œå, ç­‰åˆ°ä¸‹ä¸€ä¸ªåˆ·æ–°å‘¨æœŸçº¦æŸå°±ä¼šç”Ÿæ•ˆäº†.&lt;/p&gt;
&lt;h2 id=&quot;XLYAutoLayoutEasy&quot;&gt;&lt;a href=&quot;#XLYAutoLayoutEasy&quot; class=&quot;headerlink&quot; title=&quot;XLYAutoLayoutEasy&quot;&gt;&lt;/a&gt;XLYAutoLayoutEasy&lt;/h2&gt;&lt;p&gt;è™½ç„¶åˆ›å»ºçº¦æŸçš„æ–¹æ³•å¾ˆç›´è§‚, ä½†æ˜¯æˆ‘ä»ç„¶è®¤ä¸ºå®ƒå¤ªå¤æ‚, å¤ªé•¿äº†. å±å¹•æ€æ‰‹. å…ˆçœ‹ä¸€çœ¼æˆ‘çš„libå¦‚ä½•æå†™ä¸€ä¸ªçº¦æŸ.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;  view1.layoutLeft.equalTo(view2.layoutRight).constant(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ€ä¹ˆçœ‹éƒ½æ›´åŠ ç®€å•. &lt;strong&gt;ç®€åŒ–çº¦æŸçš„åˆ›å»ºæ˜¯XLYAutoLayoutEasyçš„æ ¸å¿ƒ&lt;/strong&gt;, æ‰€æœ‰çš„çº¦æŸåˆ›å»ºéƒ½ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•. å¦‚æœfirstItemå’ŒsecondItemä½¿ç”¨ç›¸åŒçš„layoutå±æ€§, å¯ä»¥ä¸ç”¨ä¹¦å†™secondItemçš„layoutå±æ€§. å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;//view1çš„å®½åº¦ç­‰äºview2çš„å®½åº¦ä¹˜1å†åŠ ä¸Š10&lt;/span&gt;
  view1.layoutWidth.equalTo(view2).constant(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœæ˜¯æ ¹superViewçš„å¯¹åº”å±æ€§åšçº¦æŸ, ç”šè‡³å¯ä»¥å†™æˆè¿™æ ·:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;//ç­‰åŒview1.layoutLeading.equalTo(superView.layoutLeading).constant(100);&lt;/span&gt;
  view1.layoutLeading.equalTo(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢çš„å•è¡Œä»£ç åˆ›å»ºçš„æ˜¯XLYConstraintå¯¹è±¡, éœ€è¦è°ƒç”¨resultConstraintæ¥è·å–NSLayoutConstraintå¯¹è±¡.&lt;/p&gt;
&lt;p&gt;XLYAutoLayoutEasyè¿˜é¡ºå¸¦æä¾›äº†ä¸€äº›helperæ–¹æ³•, è¾…åŠ©æ¿€æ´», æ›´æ–°å’Œé‡å»ºçº¦æŸ. &lt;/p&gt;
&lt;h4 id=&quot;æ‰¹é‡åˆ›å»ºçº¦æŸ&quot;&gt;&lt;a href=&quot;#æ‰¹é‡åˆ›å»ºçº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;æ‰¹é‡åˆ›å»ºçº¦æŸ&quot;&gt;&lt;/a&gt;æ‰¹é‡åˆ›å»ºçº¦æŸ&lt;/h4&gt;&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; makeConstraints:^{
  testView.layoutTop.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.topLayoutGuideView.layoutBottom).constant(&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;);
  testView.layoutTrailing.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.view).constant(&lt;span class=&quot;hljs-number&quot;&gt;-50&lt;/span&gt;);
  testView.layoutLeading.equalToConstant(&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;);
  testView.layoutHeight.equalToConstant(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);
}];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨makeConstraintçš„æ–¹æ³•ä¼šè‡ªåŠ¨å°†blocké‡Œé¢åˆ›å»ºçš„çº¦æŸæ¿€æ´», æ— éœ€å†è‡ªè¡Œå¯»æ‰¾å…¬å…±çˆ¶viewè¿›è¡Œæ·»åŠ .&lt;/p&gt;
&lt;h4 id=&quot;æ›´æ–°çº¦æŸ&quot;&gt;&lt;a href=&quot;#æ›´æ–°çº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°çº¦æŸ&quot;&gt;&lt;/a&gt;æ›´æ–°çº¦æŸ&lt;/h4&gt;&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; updateConstraints:^{
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutLeading.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.view).constant(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutHeight.equalTo(&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;);
}];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ‰€æœ‰åœ¨updateConstraintsé‡Œé¢åˆ›å»ºçš„çº¦æŸä¼šé¦–å…ˆæŸ¥æ‰¾æœ‰æ²¡æœ‰ä¸€ä¸ªçº¦æŸå’Œåˆ›å»ºå‡ºæ¥çš„çº¦æŸç›¸ä¼¼(åæ–‡ä¼šè§£é‡Šç›¸ä¼¼çš„åˆ¤å®š), å¦‚æœæœ‰, åˆ™ä¿®æ”¹constant, å¦åˆ™æ·»åŠ æ–°åˆ›å»ºçš„çº¦æŸ. 
å¦‚æœä½¿ç”¨iOSçš„æ–¹æ³•, åˆ™éœ€è¦è®°å½•ä¸‹ä¹‹å‰åˆ›å»ºçš„çº¦æŸæ¥ä¿®æ”¹constant. &lt;/p&gt;
&lt;h4 id=&quot;é‡å»ºçº¦æŸ&quot;&gt;&lt;a href=&quot;#é‡å»ºçº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;é‡å»ºçº¦æŸ&quot;&gt;&lt;/a&gt;é‡å»ºçº¦æŸ&lt;/h4&gt;&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; remakeConstraints:^{  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutBottom.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.bottomLayoutGuideView.layoutTop).constant(&lt;span class=&quot;hljs-number&quot;&gt;-100&lt;/span&gt;);
    &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutWidth.equalTo(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);
    &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutHeight.equalTo(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);
    &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutLeading.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.view.layoutLeading);
}];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ–¹æ³•ä¼šè®°å½•æ‰€æœ‰åœ¨remakeConstraintsä¸­å‡ºç°çš„ä½œä¸ºfirstItemçš„view, å¹¶æŠŠè·Ÿè¿™äº›viewç›¸å…³çš„æ‰€æœ‰çº¦æŸå»æ‰(ä¸åŒ…å«hugging, compression resistance çš„çº¦æŸ), ç„¶åé‡æ–°æ¿€æ´»æ–°åˆ›å»ºçš„çº¦æŸ.&lt;/p&gt;
&lt;h2 id=&quot;çµæ„Ÿ&quot;&gt;&lt;a href=&quot;#çµæ„Ÿ&quot; class=&quot;headerlink&quot; title=&quot;çµæ„Ÿ&quot;&gt;&lt;/a&gt;çµæ„Ÿ&lt;/h2&gt;&lt;p&gt;å¤§å‰ææ˜¯&lt;code&gt;translatesAutoresizingMaskIntoConstraints = NO&lt;/code&gt;. å¦åˆ™æ— æ³•ç©è€äº†. æ—¢ç„¶ä½¿ç”¨äº†autoLayoutå°±ä¸è¦å†æ­ç€AutoResizingMaskäº†.&lt;/p&gt;
&lt;p&gt;ç®€å•æè¿°ä¸€ä¸‹XLYAutoLayoutEasyçš„è®¾è®¡çµæ„Ÿæ¥æº. åœ¨storyboardä¸­ç¼–è¾‘ä¸€ä¸ªçº¦æŸæ—¶, æˆ‘å‘ç°xcodeæ ‡æ³¨äº†firstItem, relation, secondItem, constant, priority, multiplier. å…¶ä¸­firstItemå’ŒsecondItemæ˜¾ç¤ºçš„æ˜¯view.widthè¿™æ ·çš„å½¢å¼, æ•´ä¸ªçº¦æŸçœ‹èµ·æ¥ååˆ†æ¸…æ™°. äºæ˜¯æƒ³åˆ°å¦‚æœèƒ½åœ¨ä»£ç é‡Œé¢ç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;null hljs&quot;&gt;view1&lt;span class=&quot;hljs-selector-class&quot;&gt;.width&lt;/span&gt; equalTo view2&lt;span class=&quot;hljs-selector-class&quot;&gt;.width&lt;/span&gt;, constant &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;, priority &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;, multiplier &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·çš„å½¢å¼æè¿°é‚£å¤šå¥½.ä¸€ä¸‹å°±çœ‹æ˜ç™½äº†. äºæ˜¯æƒ³åˆ°ç»™UIViewæ·»åŠ åˆ†ç±», æä¾›ç±»ä¼¼width, height, leadingè¿™æ ·çš„property. ä¸ºäº†å‡†ç¡®è¡¨è¾¾æ˜¯å¸ƒå±€çš„å±æ€§, åœ¨å‰é¢æ·»åŠ äº†layout, äºæ˜¯å°±æˆäº†layoutWidth, layoutHeight, layoutLeading. æ²¡æœ‰æ·»åŠ xly_çš„å‰ç¼€æ˜¯ä¸ºäº†ä¹¦å†™æ–¹ä¾¿.
 é¦–å…ˆå®šä¹‰äº†æœ€åŸºç¡€çš„API:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;view.layoutWidth.equalTo(view2.layoutWidth);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…³ç³»æœ‰ç­‰äº, å¤§äºç­‰äº, å°äºç­‰äº. constant, priorityä»¥åŠmultiplieréƒ½æœ‰é»˜è®¤å€¼, åˆ†åˆ«æ˜¯0, 1000, 1. å¦‚æœéœ€è¦ä¿®æ”¹çš„è¯, å°±åœ¨ä¸Šé¢çš„è¡¨è¾¾å¼åé¢ç»§ç»­ä¹¦å†™:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;view.layoutWidth.equalTo(view2.layoutWidth).constant(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;).priority(&lt;span class=&quot;hljs-number&quot;&gt;750&lt;/span&gt;).multiplier(&lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸‰ä¸ªå±æ€§ä¹¦å†™çš„é¡ºåºå¯ä»¥éšæ„äº¤æ¢.ä½†æ˜¯ä¸€å®šæ˜¯åœ¨å…³ç³»ä¹‹å.&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„å½¢å¼æ›´åƒcæˆ–è€…swiftçš„è¯­æ³•, OCé‡Œé¢æ€ä¹ˆåšå‘¢? ç”¨block. blockåœ¨è°ƒç”¨æ—¶æ˜¯block()çš„å½¢å¼. åªè¦è¿”å›å€¼å¯ä»¥ä½¿ç”¨&lt;code&gt;.&lt;/code&gt; è¿›è¡Œè°ƒç”¨çš„è¯è¿™æ ·çš„ä¹¦å†™å°±æ²¡æœ‰é—®é¢˜. å› æ­¤å°±è¯ç”Ÿäº†å¦‚ä¸‹çš„æ–¹æ³•:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;    - (XLYConstraint *(^)(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt; attr))equalTo;
    - (XLYConstraint *(^)(&lt;span class=&quot;hljs-built_in&quot;&gt;CGFloat&lt;/span&gt; constant))constant;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”¨blockä½œä¸ºè¿”å›å€¼, ç„¶åç”¨()è¿›è¡Œè°ƒç”¨, å¾—åˆ°XLYConstraintçš„å¯¹è±¡, ç„¶åé‡å¤. è¿™æ ·å°±èƒ½å†™å‡ºä¸Šé¢æ‰€å±•ç¤ºçš„é‚£ç§ä»£ç äº†. æˆ‘è§‰å¾—è¿™é‡Œå¦‚æœç”¨&lt;code&gt;[]&lt;/code&gt; è¿›è¡Œæ–¹æ³•è°ƒç”¨çš„è¯, å¯è¯»æ€§ä¼šæ¯”è¾ƒå·®, æ‰€ä»¥...&lt;/p&gt;
&lt;p&gt;&lt;code&gt;view.layoutXXX&lt;/code&gt;è¿™æ ·çš„å±æ€§æ˜¯XLYViewAttributeç±»å‹, è°ƒç”¨equalToç­‰æè¿°å…³ç³»çš„æ–¹æ³•åæ‰äº§ç”ŸXLYConstraintå¯¹è±¡, è¿™æ ·åšä¸€æ–¹é¢æ˜¯ä¸ºäº†ä»æ¦‚å¿µä¸ŠåŒºåˆ†å‡ºçº¦æŸçš„itemå’Œå…¶ä»–å‚æ•°, å¦ä¸€æ–¹é¢ä¹Ÿæ–¹ä¾¿äº†ä»£ç çš„åˆ†å¸ƒ.&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™æ ·çš„è°ƒç”¨æœ€ç»ˆç”Ÿæˆçš„XLYConstraintå¯¹è±¡è®°å½•äº†ä¸€ä¸ªçº¦æŸæ‰€éœ€è¦çš„8ä¸ªå‚æ•°. ç„¶åè°ƒç”¨å…¶&lt;code&gt;resultConstraint&lt;/code&gt;æ–¹æ³•å°†ç”Ÿæˆæ‰€å¯¹åº”çš„NSLayoutConstraintå¯¹è±¡.&lt;/p&gt;
&lt;h2 id=&quot;helperæ–¹æ³•&quot;&gt;&lt;a href=&quot;#helperæ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;helperæ–¹æ³•&quot;&gt;&lt;/a&gt;helperæ–¹æ³•&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ªçº¦æŸè¢«åˆ›å»ºåéœ€è¦æ¿€æ´». ios7åŠä»¥ä¸‹ç³»ç»Ÿéœ€è¦è‡ªå·±å¯»æ‰¾å…¬å…±çˆ¶viewå¹¶æ·»åŠ , å› æ­¤æˆ‘éœ€è¦ä¸€ä¸ªå¯»æ‰¾ä¸¤ä¸ªviewå…¬å…±çˆ¶viewçš„æ–¹æ³•. ios8åŠä»¥ä¸Šç³»ç»Ÿåªéœ€è¦è®¾ç½®activeä¸ºYESå³å¯.
åœ¨æ›´æ–°çº¦æŸæ—¶, æˆ‘éœ€è¦å¯»æ‰¾åˆ°å’Œå½“å‰çº¦æŸ&amp;#39;ç±»ä¼¼&amp;#39;çš„çº¦æŸ. 
åœ¨é‡å»ºçº¦æŸæ—¶, æˆ‘éœ€è¦æ‰¾åˆ°è·Ÿä¸€ä¸ªviewç›¸å…³è”çš„æ‰€æœ‰çº¦æŸ.&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯make, updateå’Œremakeæ‰€ä¾èµ–çš„æ ¸å¿ƒæ–¹æ³•.&lt;/p&gt;
&lt;h4 id=&quot;æ¿€æ´»çº¦æŸ&quot;&gt;&lt;a href=&quot;#æ¿€æ´»çº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;æ¿€æ´»çº¦æŸ&quot;&gt;&lt;/a&gt;æ¿€æ´»çº¦æŸ&lt;/h4&gt;&lt;p&gt;ç»™NSLayoutConstraintæ·»åŠ äº†ä¸€ä¸ªåˆ†ç±», æä¾›äº†xly_install å’Œ xly_uninstallæ–¹æ³•æ¥è¿›è¡Œæ¿€æ´»å’Œç§»é™¤æ“ä½œ, æ–¹æ³•ä¸­æ ¹æ®ç³»ç»Ÿç‰ˆæœ¬è¿›è¡ŒåŒºåˆ«è°ƒç”¨. å¦‚æœæ˜¯ios8åŠä»¥ä¸Šåªéœ€è®¾ç½®activeå±æ€§, ios7åŠä»¥ä¸‹åˆ™éœ€è¦å¯»æ‰¾æœ€ä½å…¬å…±çˆ¶viewæ¥è¿›è¡Œæ·»åŠ .&lt;/p&gt;
&lt;h4 id=&quot;æ›´æ–°çº¦æŸ-1&quot;&gt;&lt;a href=&quot;#æ›´æ–°çº¦æŸ-1&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°çº¦æŸ&quot;&gt;&lt;/a&gt;æ›´æ–°çº¦æŸ&lt;/h4&gt;&lt;p&gt;æ›´æ–°çº¦æŸæ—¶, é¦–å…ˆæ˜¯åˆ›å»ºäº†åœ¨blocké‡Œé¢ä¹¦å†™çš„çº¦æŸ, ç„¶åå»å¯»æ‰¾æ˜¯å¦æœ‰ä¸€ä¸ªç›¸ä¼¼çš„çº¦æŸ, å¦‚æœæ²¡æœ‰çš„è¯å°±ç›´æ¥æ¿€æ´»çº¦æŸ, å¦‚æœæœ‰å°±æ›¿æ¢constantçš„å€¼.&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯ç›¸ä¼¼? ä»NSLayoutConstraintä¸­èƒ½çœ‹å‡ºæ¥, åˆ›å»ºå®Œä¸€ä¸ªçº¦æŸåèƒ½ä¿®æ”¹çš„å€¼åªæœ‰priorityå’Œconstant, priorityè¿˜ä¸å»ºè®®åœ¨çº¦æŸæ¿€æ´»åå†ä¿®æ”¹. è™½ç„¶ç»è¿‡æµ‹è¯•å‘ç°åªè¦ä¼˜å…ˆçº§ä¸æ˜¯1000, å¹¶ä¸”æ”¹åŠ¨åçš„å€¼ä¹Ÿä¸æ˜¯1000å°±æ²¡æœ‰é—®é¢˜, å¦åˆ™å´©æºƒ. è¿™é‡Œå°Šé‡è‹¹æœçš„æ–‡æ¡£, æŠŠä¼˜å…ˆçº§ä¸åŒçš„çº¦æŸå½“æˆä¸åŒçš„çº¦æŸ. å› æ­¤,ç›¸ä¼¼çš„æ¦‚å¿µå°±æ˜¯é™¤äº†constantä»¥å¤–, å…¶ä»–çš„å€¼æ˜¯&lt;strong&gt;é€»è¾‘ç›¸ç­‰&lt;/strong&gt;çš„. ä¸ºä»€ä¹ˆä¸æ˜¯å®Œå…¨ç›¸ç­‰? å› ä¸ºçº¦æŸå¹¶ä¸æ˜¯å•å‘çš„, å®ƒæ˜¯ä¸€ä¸ªåŒå‘çš„é™åˆ¶, çº¦æŸçš„å…¬å¼å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;null hljs&quot;&gt;view1.attr1 = view2.attr2 * multiplier + &lt;span class=&quot;hljs-built_in&quot;&gt;constant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸ªè®¡ç®—è§„åˆ™ç­‰åŒäºä¸‹é¢è¿™ä¸€ä¸ª:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;null hljs&quot;&gt;view2.attr2 = view1.attr1 * ( &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;/multiplier) - &lt;span class=&quot;hljs-built_in&quot;&gt;constant&lt;/span&gt;/multiplier&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å› æ­¤, åœ¨å¯»æ‰¾ç›¸ä¼¼çš„çº¦æŸæ—¶å¿…é¡»è€ƒè™‘ç¬¬äºŒç§å½¢å¼. æˆ‘å®šä¹‰ç›¸ä¼¼çš„ç»“æœä¸º3ç§, ç›¸ä¼¼, é€†å‘ç›¸ä¼¼ä»¥åŠä¸ç›¸ä¼¼. æŸ¥æ‰¾æ—¶è¿˜å¾—å°å¿ƒä¸€ç§å¾ˆç‰¹åˆ«çš„çº¦æŸ, æ˜¯é€šè¿‡è®¾ç½®viewçš„huggingå’Œcompression resistanceç”Ÿæˆçš„. è¿™ç§çº¦æŸçš„ç±»æ˜¯&lt;code&gt;NSContentSizeLayoutConstraint&lt;/code&gt;, éœ€è¦è¿‡æ»¤æ‰. æœ€åä¸€ä¸ªç»†èŠ‚å°±æ˜¯ç›¸ä¼¼çš„çº¦æŸå¯èƒ½ä¸æ­¢ä¸€ä¸ª, è¿™ç§æƒ…å†µä¸‹å¤šåŠæ˜¯ä»£ç æœ‰é—®é¢˜, çº¦æŸåŠ å¤šäº†, ä½†æ˜¯ä¸ç®¡æ€ä¹ˆç€, æˆ‘åªå–æœ€æ–°çš„ä¸€ä¸ª, å³æœ€åæ·»åŠ çš„é‚£ä¸ª, å› æ­¤æˆ‘ä¼šå€’åºéå†constraintsæ•°ç»„æ¥è¿›è¡ŒæŸ¥æ‰¾.&lt;/p&gt;
&lt;h4 id=&quot;é‡å»ºçº¦æŸ-1&quot;&gt;&lt;a href=&quot;#é‡å»ºçº¦æŸ-1&quot; class=&quot;headerlink&quot; title=&quot;é‡å»ºçº¦æŸ&quot;&gt;&lt;/a&gt;é‡å»ºçº¦æŸ&lt;/h4&gt;&lt;p&gt;é‡å»º, å°±å¾—å…ˆæ¯ç­å†é‡ç”Ÿ. åº”è¯¥è¢«æ¯ç­çš„æ˜¯å“ªäº›å‘¢? æˆ‘å–„åšä¸»å¼ , å°†æ‰€æœ‰å…³è”çš„çº¦æŸå…¨éƒ¨å¹²æ‰. æ¯”å¦‚ä»£ç è¿™ä¹ˆå†™:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;[&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; remakeConstraints:^{  
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutBottom.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.bottomLayoutGuideView.layoutTop).constant(&lt;span class=&quot;hljs-number&quot;&gt;-100&lt;/span&gt;);
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutWidth.equalTo(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutHeight.equalTo(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.testView.layoutLeading.equalTo(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.view.layoutLeading);
  &lt;span class=&quot;hljs-comment&quot;&gt;//è¿™é‡Œä¸å†å¤šå†™äº†, view2ä¹Ÿè¿›è¡Œé‡å»º&lt;/span&gt;
  &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.view2 ...
}];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;blocké‡Œåˆ›å»ºäº†å¤šä¸ªçº¦æŸ, ä½œä¸ºfirstItemå‡ºç°çš„æ˜¯testViewå’Œview2, å› æ­¤æ‰€æœ‰å’ŒtestViewå’Œview2æœ‰å…³è”çš„çº¦æŸå…¨éƒ¨å¹²æ‰. çº¦æŸæ˜¯åŒå‘çš„, æœ‰å…³è”å°±æ˜¯çº¦æŸçš„firstItemæˆ–è€…secondItemç­‰äºè¿™ä¸ªview. åœ¨å¯»æ‰¾å…³è”çš„çº¦æŸæ—¶åªèƒ½ä»è‡ªå·±å¼€å§‹, é€æ­¥å¾€windowéå†æ‰€æœ‰çš„çº¦æŸ, å°†å…³è”çš„çº¦æŸè®°ä¸‹. è¿™é‡Œæœ¬æ¥æƒ³åˆ©ç”¨runtimeå»æ›¿æ¢addConstantå’ŒsetActiveæ–¹æ³•, åœ¨æ–¹æ³•ä¸­è¿›è¡Œè®°å½•çš„, ä½†æ˜¯å‘ç°äº†iOSçš„ä¸€äº›è¯¡å¼‚å¾—æ— æ³•è§£é‡Šçš„ç°è±¡, æ”¾å¼ƒäº†è¿™æ¡è·¯, åªèƒ½æ¯æ¬¡éå†æŸ¥æ‰¾äº†, æ•ˆç‡ç›¸å¯¹ä½ç‚¹å„¿. è¿™é‡ŒåŒæ ·è¦å»æ‰&lt;code&gt;NSContentSizeLayoutConstraint&lt;/code&gt;ç±»å‹çš„çº¦æŸ.&lt;/p&gt;
&lt;h2 id=&quot;å…¼é¡¾swift&quot;&gt;&lt;a href=&quot;#å…¼é¡¾swift&quot; class=&quot;headerlink&quot; title=&quot;å…¼é¡¾swift&quot;&gt;&lt;/a&gt;å…¼é¡¾swift&lt;/h2&gt;&lt;p&gt;ä»¥ä¸Šçš„ä»£ç å¦‚æœbridgeåˆ°swiftä½¿ç”¨å°†æ˜¾å¾—å¾ˆfunny. å› ä¸ºæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªé—­åŒ…, OCç›´æ¥ä½¿ç”¨()å°±å¯ä»¥è·Ÿåœ¨åé¢ç»§ç»­è°ƒç”¨, ä½†æ˜¯swiftä¼šå˜æˆè¿™æ ·:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;swift hljs&quot;&gt;  view1.layoutLeft.equalTo()(view2.layoutRight).constant()(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å› æ­¤, æˆ‘ä¸“é—¨ä¸ºswiftæ·»åŠ äº†ä¸¤ä¸ªå¤´æ–‡ä»¶, ä½¿å¾—swifté‡Œé¢ä¹Ÿèƒ½è·ŸOCçš„å†™æ³•ä¸€æ ·.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//å…¶ä¸­ä¸€ä¸ª, å¦ä¸€ä¸ªè§ä»£ç &lt;/span&gt;
- (XLYConstraint *)equalTo:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)attr;
- (XLYConstraint *)greaterThanOrEqualTo:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)attr;
- (XLYConstraint *)lessThanOrEqualTo:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)attr;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¹Ÿä¸“é—¨å¼„äº†ä¸€ä¸ªç»™swift bridge headerç”¨çš„&lt;code&gt;XLYAutoLayoutEasy-swift.h&lt;/code&gt;ä»¥åŒºåˆ†importçš„å¤´æ–‡ä»¶.&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“-3&quot;&gt;&lt;a href=&quot;#æ€»ç»“-3&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ç”¨helperæ–¹æ³•é…åˆç®€åŒ–çº¦æŸçš„å†™æ³•, å°±èƒ½ç”¨è¾ƒçŸ­çš„ä»£ç é‡å†™å‡ºæˆ‘è®¤ä¸ºæ›´åŠ æ¸…æ™°å¯è¯»çš„å¸ƒå±€ä»£ç . æ›´æ–°é‡å»ºçš„æ“ä½œä¹Ÿèƒ½æ›´åŠ å®¹æ˜“. &lt;/p&gt;
&lt;p&gt;å†™ä»£ç , å¤šæ€è€ƒ, æƒ³æ¸…æ¥šäº†éœ€è¦ä»€ä¹ˆå†å†™. å¤šç”»å›¾æœ‰åŠ©äºæ€è€ƒ.&lt;/p&gt;
&lt;p&gt;å¦å¤–, æ„Ÿè°¢æˆ‘çš„å¥¹å¯¹æˆ‘çš„åŒ…å®¹å’Œæ”¯æŒ.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å¼€å‘AutoLayoutEasyçš„ç›®çš„æ˜¯ä¸ºäº†è®©ä»£ç ç¼–å†™AutoLayoutæ›´åŠ æ–¹ä¾¿ç›´è§‚, æé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§. å› ä¸ºæˆ‘ä¸ªäººè§‰å¾—iOSæä¾›çš„åˆ›å»ºçº¦æŸçš„æ–¹å¼çœŸå¿ƒä¸æ•¢æ­ç»´, NSLayoutConstraintçš„ç±»æ–¹æ³•å†™èµ·æ¥å¥½é•¿, VFLåˆä¸å¥½æ“ä½œå…·ä½“çº¦æŸ, å†™å‡ºæ¥çš„ä»£ç å¯è¯»æ€§
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="GitHub" scheme="http://yoursite.com/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>AutoLayoutçš„å°åæ§½</title>
    <link href="http://yoursite.com/2014/12/08/talk_about_autolayout/"/>
    <id>http://yoursite.com/2014/12/08/talk_about_autolayout/</id>
    <published>2014-12-08T03:00:00.000Z</published>
    <updated>2016-04-04T10:07:40.000Z</updated>
    
    <content type="html">&lt;p&gt;çªç„¶æœ‰ä¸€å¤©, è‹¹æœè¿˜åœ¨ios6çš„æ—¶å€™, å®ƒå‘å¸ƒäº†æ–°çš„å¸ƒå±€æ–¹å¼, å–åå«&lt;strong&gt;AutoLayout&lt;/strong&gt;, å¬ç€å¾ˆé«˜å¤§ä¸Š--è‡ªåŠ¨å¸ƒå±€. ä½†æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« é™¤äº†ç®€å•ä»‹ç»ä¸€ä¸‹å®ƒä»¥å¤–æ›´å¤šçš„æ˜¯è¦åæ§½çš„, å…¶å®ä¹Ÿå°±ç¨å¾®åä¸€ç‚¹ç‚¹å®ƒçš„ä½¿ç”¨é—®é¢˜.&lt;/p&gt;
&lt;h2 id=&quot;AutoResizing-AutoLayoutä¹‹å‰çš„å¸ƒå±€&quot;&gt;&lt;a href=&quot;#AutoResizing-AutoLayoutä¹‹å‰çš„å¸ƒå±€&quot; class=&quot;headerlink&quot; title=&quot;AutoResizing -- AutoLayoutä¹‹å‰çš„å¸ƒå±€&quot;&gt;&lt;/a&gt;AutoResizing -- AutoLayoutä¹‹å‰çš„å¸ƒå±€&lt;/h2&gt;&lt;p&gt;åšappå¿…ç„¶æ¶‰åŠåˆ°å¸ƒå±€, ç°åœ¨æ”¹ä¸ºè‡ªåŠ¨å¸ƒå±€çš„è¯, é‚£ä¹ˆä»¥å‰çš„å¸ƒå±€æ˜¯ä»€ä¹ˆ, AutoLayoutè§£å†³äº†ä»€ä¹ˆé—®é¢˜?&lt;/p&gt;
&lt;p&gt; ä»¥å‰çš„å¸ƒå±€æ–¹å¼æˆ‘è§‰å¾—å¯ä»¥å«åšåŠè‡ªåŠ¨å¸ƒå±€. å› ä¸ºAutoResizingæ˜¯ä¸€ç§spring-strutæ–¹å¼, ä»…æè¿°äº†viewåœ¨å…¶superViewå¤§å°å˜åŒ–æ—¶è‡ªèº«å¦‚ä½•å˜åŒ–. å®ƒå¯ä»¥æè¿°ä¸€ä¸ªviewç›¸å¯¹äºsuperViewçš„ä¸Šä¸‹å·¦å³å››ä¸ªè¾¹è·æ˜¯å¦å›ºå®š, è‡ªèº«çš„å®½é«˜æ˜¯å¦å¯ä»¥æ‹‰ä¼¸è¿™ä¹ˆ6ä¸ªå±æ€§, å¯¹äºå¤§éƒ¨åˆ†çš„appæ¥è®²AutoResizingå·²ç»è¶³å¤Ÿæè¿°å¸ƒå±€è§„åˆ™äº†. &lt;/p&gt;
&lt;p&gt; ä½†æ˜¯å¦‚æœviewçš„å¤§å°ä¸å¥½è®¡ç®—(ä¾èµ–å†…å®¹)æˆ–è€…æœ‰å¤šä¸ªviewæœ‰ç›¸äº’ä¾èµ–çš„å…³ç³», AutoResizingå°±ä¸å¤Ÿç”¨äº†, å¹¶ä¸”å¸ƒå±€å°†å˜å¾—å¾ˆç¹çæ— èŠå®¹æ˜“å‡ºé”™.&lt;/p&gt;
&lt;p&gt; å¸ƒå±€çš„æ–¹å¼å¤§è‡´å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å¯èƒ½éœ€è¦å¯¹viewè°ƒç”¨sizeToFit æˆ–è€…å…¶ä»–æ–¹æ³•æ¥å°†viewçš„frameè°ƒæ•´åˆ°ä¸€ä¸ªåˆé€‚çš„å¤§å°.&lt;/li&gt;
&lt;li&gt;ä¹Ÿå¯ä»¥åœ¨æŸä¸ªçˆ¶viewçš„layoutSubviewsæ–¹æ³•ä¸­æ ¹æ®éœ€æ±‚è°ƒæ•´è¿™äº›viewçš„å¤§å°å¹¶è®¡ç®—è¿™äº›viewçš„å„ç§ä½ç½®. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­æœ€éº»çƒ¦çš„å°±æ˜¯å­—ä½“ç›¸å…³çš„å¸ƒå±€è®¡ç®—, å› ä¸ºæ–‡å­—æ¸²æŸ“åçš„è¡Œé«˜éƒ½ç•¥å¤§äºå­—å·, æ²¡æ³•ç›´æ¥è®¾å®šlabelé«˜åº¦, å¿…é¡»ç”¨NSStringçš„ä¸€ä¸ªåˆ†ç±»æ–¹æ³•è®¡ç®—åœ¨ä¸€å®šæ¡ä»¶ä¸‹çš„æ¸²æŸ“å¤§å°, ç„¶åæ‰èƒ½å‚ä¸è®¡ç®—.&lt;/p&gt;
&lt;h2 id=&quot;AutoLayout-è§£å†³çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#AutoLayout-è§£å†³çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;AutoLayout è§£å†³çš„é—®é¢˜&quot;&gt;&lt;/a&gt;AutoLayout è§£å†³çš„é—®é¢˜&lt;/h2&gt;&lt;p&gt;AutoLayoutè¯•å›¾è§£å†³æ§ä»¶å¤§å°å˜åŒ–ä»¥åŠä½ç½®å˜åŒ–çš„é—®é¢˜. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ§ä»¶å¤§å°çš„é—®é¢˜: æ¯”å¦‚labelæ§ä»¶é»˜è®¤æƒ…å†µä¸‹ä¼šæœ‰æ¯”è¾ƒä½çš„ä¼˜å…ˆçº§é˜»æ­¢è‡ªèº«å˜å¤§, ç›¸å¯¹è¾ƒé«˜çš„ä¼˜å…ˆçº§é˜»æ­¢è‡ªèº«è¢«å‹ç¼©, åœ¨ä¸å¼•èµ·å˜å¤§æˆ–è€…å‹ç¼©çš„æƒ…å†µä¸‹, labelä¼šä¿æŒå’Œå†…å®¹ä¸€æ ·å¤§. ä½ ä»ç„¶å¯ä»¥å›ºå®šå®ƒçš„å¤§å°, ä½†æ˜¯ä¸å»ºè®®. å½“ä½ æ”¹å˜äº†text, labelè‡ªåŠ¨å°±ä¼šè°ƒæ•´å¤§å°, ä¸éœ€è¦ä½ å†å»ä¸ºäº†labelçš„å®½é«˜æŠ“ç‹‚äº†. å½“ç„¶, æœ‰çš„åœºæ™¯ä»ç„¶éœ€è¦æ‰‹åŠ¨è®¡ç®—æ–‡å­—æ¸²æŸ“åå¤§å°.  å¦å¤–ä¸€ç§å¤§å°é—®é¢˜æ˜¯ç›¸å¯¹è®¡ç®—çš„, æ¯”å¦‚ä¸€ä¸ªviewçš„å¤§å°æˆ–è€…ä½ç½®ä¼šå½±å“åˆ°å¦ä¸€ä¸ªviewçš„å¤§å°, å½“è¿™ä¸ªviewå˜åŒ–æ—¶å¦ä¸€ä¸ªçš„å¤§å°ä¹Ÿä¼šç›¸åº”å˜åŒ–.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ§ä»¶ä½ç½®é—®é¢˜: AutoLayoutæœ€ç›´æ¥çš„è¡¨ç°å°±æ˜¯èƒ½å¤Ÿå®šä¹‰ä¸¤ä¸ªæ§ä»¶ä¹‹é—´çš„ç›¸å¯¹ä½ç½®. æ¯”å¦‚view1ç›¸å¯¹view2ä¿æŒ10çš„é—´è·, é‚£ä¹ˆå½“view1çš„originæ”¹å˜æ—¶, view2çš„originä¹Ÿä¼šéšä¹‹å˜åŒ–.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ˜¾ç„¶ç”¨AutoLayoutè¿›è¡Œå¸ƒå±€çœ‹èµ·æ¥æ˜¯å¾ˆå¥½çš„, äº‹å®ä¸Šä¹Ÿæ˜¯å¾ˆå¥½çš„, å°½ç®¡ä¸æ˜¯é‚£ä¹ˆå®Œç¾. storyboardå’ŒAutoLayoutå¯ä»¥å¸®åŠ©å¼€å‘è€…å°†ç»å¤§éƒ¨åˆ†çš„UIé€»è¾‘å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»å¼€, å¹¶ä¸”ä¿®æ”¹å’Œç»´æŠ¤çš„å¤æ‚æ€§ä¹Ÿè¿˜èƒ½æ¥å—, ä¹ æƒ¯äº†çš„è¯ä¹Ÿæ˜¯èƒ½å¾ˆè¾ƒå¿«é€Ÿåœ°è°ƒæ•´çº¦æŸçš„.&lt;/p&gt;
&lt;p&gt;AutoLayoutä¸­ä¸€æ¬¡åªèƒ½æè¿°ä¸€ä¸ªviewçš„å®½é«˜æˆ–è€…æè¿°ä¸¤ä¸ªviewä¹‹é—´çš„å…³ç³». èƒ½æè¿°çš„å±æ€§å¾ˆå¤š, ä½†æ˜¯ä¸æ˜¯éšä¾¿ç”¨çš„, æ¯”å¦‚ä¸èƒ½æè¿°ä¸€ä¸ªviewçš„å®½å’Œå¦ä¸€ä¸ªviewçš„leadingç›¸ç­‰, iOSç›´æ¥å´©æºƒå¹¶å‘Šè¯‰ä½ è¿™ä¸¤ä¸ªå±æ€§ä¸èƒ½é…å¯¹. å½“ä½ æè¿°å¥½äº†ä¸€ä¸ªçº¦æŸå, ä½ éœ€è¦å°†å…¶æ¿€æ´», æ€ä¹ˆæ¿€æ´»? UIViewæœ‰ä¸€ä¸ªaddConstraintçš„æ–¹æ³•, éœ€è¦ä½ è‡ªå·±æ·»åŠ . é‚£ä¹ˆè¯¥è®©è°æ¥addå‘¢? ç»è¿‡ä¸€äº›æµ‹è¯•å‘ç°, è¿™ä¸ªè°ƒç”¨addçš„viewå¿…é¡»æ˜¯çº¦æŸä¸­ä¸¤ä¸ªviewçš„å…¬å…±çˆ¶view, ä¸ä¸€å®šæ˜¯æœ€ä½çš„é‚£ä¸ª, åªè¦æ˜¯å…¬å…±çˆ¶viewå³å¯. ä½†æ˜¯å»ºè®®æ·»åŠ åœ¨æœ€ä½å…¬å…±çˆ¶viewä¸­. å¦‚æœä¸æƒ³è¦ä¸€ä¸ªçº¦æŸäº†æ€ä¹ˆåŠ? UIViewä¹Ÿæœ‰removeConstraintçš„æ–¹æ³•, å»æ‰ä½ ä¸æƒ³è¦çš„å³å¯.&lt;/p&gt;
&lt;h2 id=&quot;å¼€å§‹åæ§½&quot;&gt;&lt;a href=&quot;#å¼€å§‹åæ§½&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹åæ§½&quot;&gt;&lt;/a&gt;å¼€å§‹åæ§½&lt;/h2&gt;&lt;p&gt;ç„¶åæˆ‘è¦å¼€å§‹åæ§½äº†. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ¿€æ´»çš„é—®é¢˜.
 è¿™ç®—ä»€ä¹ˆ? æˆ‘è‡ªå·±å»æ‰¾å…¬å…±çˆ¶view? kidding me? è¿™ä¸ªè¿‡ç¨‹æ˜æ˜¾å¯ä»¥è‡ªåŠ¨æå®šå•Š. ç„¶åå‘ç°iOS8æ”¯æŒäº†æ–°çš„API. NSLayoutConstraintä¸­å¤šäº†ä¸€ä¸ªactiveå±æ€§, è®¾ç½®ä¸ºYESå³æ¿€æ´», NOå³å¹²æ‰. ä½†æ˜¯å¯¹äºiOS7åŠä»¥ä¸‹ç³»ç»Ÿä»ç„¶éœ€è¦è‡ªå·±æ‰¾viewå»addå’Œremove.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;NSLayoutConstraintç±»æ–¹æ³•åˆ›å»ºçº¦æŸ
NSLayoutConstraintæœ‰ä¸€ä¸ªç±»æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ªçº¦æŸ, è¿™ä¸ªæ–¹æ³•æœ‰7ä¸ªå‚æ•°. è¿™7ä¸ªå‚æ•°ä¸åŒ…å«priority, å¦‚æœè¦è®¾ç½®è¦ä¼˜å…ˆçº§è¿˜éœ€è¦åœ¨åˆ›å»ºçº¦æŸåä¿®æ”¹. è¿™ä¸ªæ–¹æ³•å†™èµ·æ¥ç®€ç›´å°±æ˜¯å±å¹•æ€æ‰‹, å¦‚æœè¦è§„èŒƒä¸€ç‚¹ä¸€ä¸ªå‚æ•°ä¸€è¡Œ,é‚£ä¹ˆå°±æ˜¯7è¡Œ, å¤šå†™å‡ ä¸ªå°±è½»æ¾è¿‡ä¸€å±. å¦‚æœä¸æŠ˜è¡Œ, é‚£å †åœ¨ä¸€èµ·çš„ä»£ç ç®€ç›´è®©äººå—ä¸äº†. é‚£çœŸæ˜¯ä¸€å¨ä¸€å¨çš„.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;VFL
ä¹Ÿè®¸è‹¹æœä¹Ÿè§‰å¾—ç”¨ä¸€ä¸ªå¸¦7ä¸ªå‚æ•°çš„æ–¹æ³•å»åˆ›å»º1ä¸ªçº¦æŸçš„æ–¹å¼æœ‰ç‚¹å„¿ä¸é‚£ä¹ˆç¾è§‚å’Œæ–¹ä¾¿, äºæ˜¯å¼€å‘äº†Visual Format Language, ç›®çš„æ˜¯ä¸ºäº†å¸®åŠ©å¼€å‘è€…å¿«é€Ÿåˆ›å»ºçº¦æŸ. ä½†æ˜¯é—®é¢˜æ˜¯, è¿™çœŸçš„æœ‰æ•ˆä¹ˆ? ä½¿ç”¨VFLèƒ½ä¸€æ¬¡æ€§åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šåˆ›å»ºå¤šä¸ªçº¦æŸ, ç„¶åè¿”å›ä¸€ä¸ªæ•°ç»„. ä½†æ˜¯, å¦‚æœæˆ‘éœ€è¦æ ¹æ®éœ€æ±‚è°ƒæ•´å…¶ä¸­ä¸€ä¸ªçº¦æŸå‘¢? æˆ‘æ€ä¹ˆè·å–åˆ°æˆ‘æƒ³è¦çš„é‚£ä¸ªçº¦æŸ? å¾ˆé—æ†¾, ä½ å¿…é¡»æŠŠVFLæ‹†æ•£, å¯¹äºä½ è¦çš„é‚£ä¸€ä¸ªçº¦æŸ, è¦ä¹ˆä½ ç”¨NSLayoutConstraintçš„ç±»æ–¹æ³•å»åˆ›å»º, è¦ä¹ˆä½ ç”¨VFLå»æè¿°ä½ è¦çš„é‚£ä¸€ä¸ªçº¦æŸ, ç„¶åæ•°ç»„é‡Œé¢åº”è¯¥å°±åªæœ‰é‚£ä¸€ä¸ªä½ è¦çš„çº¦æŸäº†.
å¦å¤–ä¸€ç‚¹, ç”¨VFLè¦æ³¨æ„çš„å°±æ˜¯metricså’Œviewsä¸¤ä¸ªå­—å…¸, ä¸€ä¸ªæ˜¯è®°å½•formaté‡Œé¢çš„å„ç§æ ‡é‡, å¦ä¸€ä¸ªè®°å½•å‡ºç°åœ¨formaté‡Œé¢çš„view, ä¹ŸæŒºéº»çƒ¦çš„.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åŠ¨ç”»
è²Œä¼¼è‹¹æœè¿˜æ²¡æœ‰æƒ³å¥½æ€ä¹ˆæ¯”è¾ƒæ–¹ä¾¿åœ°å°†çº¦æŸå’ŒåŠ¨ç”»ç»“åˆèµ·æ¥. æ¯æ¬¡æƒ³åŠ¨ç”»å‘ˆç°çº¦æŸçš„å˜åŒ–, éƒ½éœ€è¦å…ˆæ”¹constant, ç„¶åå•ç‹¬å†™ä¸€ä¸ªåŠ¨ç”», åœ¨blocké‡Œé¢æ‰¾åˆ°ä¸€ä¸ªviewè°ƒç”¨layoutIfNeeded. â•®(â•¯â–½â•°)â•­, ä¸ºä»€ä¹ˆå°±ä¸èƒ½ç¨å¾®æ–¹ä¾¿ä¸€ç‚¹, åœ¨animationçš„blocké‡Œé¢ä¿®æ”¹çº¦æŸå°±è‡ªåŠ¨åŠ¨ç”»æèµ·å‘¢? æŠ€æœ¯ä¸Šå®Œå…¨å¯è¡Œçš„è¯´, å› ä¸ºä¿®æ”¹frame, alphaè¿™äº›å‚æ•°éƒ½æ˜¯OKçš„.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åæ§½çš„åŸºæœ¬ä¸Šéƒ½æ˜¯ä»£ç ä¸­ç¼–å†™AutoLayoutç›¸å…³ä»£ç çš„éƒ¨åˆ†, å®é™…é¡¹ç›®ä¸­ä¹Ÿç¡®å®æœ‰ä¸å°‘éœ€æ±‚æ˜¯éœ€è¦æ¯”è¾ƒåŠ¨æ€çš„å¸ƒå±€çš„. å¦‚æœappæ¯”è¾ƒç®€å•, ä½¿ç”¨storyboardå°±èƒ½å®Œæˆå¸ƒå±€æè¿°çš„è¯å°±æœ€å¥½äº†, é‚£æ ·å°†çœæ‰éå¸¸å¤šçš„ç¼–è¾‘å’Œè°ƒè¯•çº¦æŸçš„æ—¶é—´, å¹¶ä¸”ä»¥åçš„ç»´æŠ¤ä¹Ÿç›¸å¯¹æ–¹ä¾¿.&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“-5&quot;&gt;&lt;a href=&quot;#æ€»ç»“-5&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;AutoLayoutæ•´ä½“å¾ˆå¼ºå¤§, è€Œä¸”åœ¨iOSç¯å¢ƒä¸­å¾ˆæœ‰å¿…è¦. ç°åœ¨å·²ç»æœ‰å¤šç§å°ºå¯¸çš„è®¾å¤‡äº†, ä½¿ç”¨AutoLayoutä¼šå¤§å¤§å‡å°‘å¼€å‘è€…é€‚é…çš„å·¥ä½œ, æ˜¯æ—¶å€™äº†éªšå¹´.&lt;/p&gt;
&lt;p&gt;å¦å¤–, æœ¬äººå¼€å‘äº†ä¸€ä¸ªç”¨äºç®€åŒ–ä»£ç ç¼–å†™AutoLayoutçº¦æŸçš„å°åº“ &lt;a href=&quot;https://github.com/kaizeiyimi/XLYAutoLayoutEasy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYAutoLayoutEasy&lt;/a&gt;, ä¸ªäººæ„Ÿè§‰æ›´å…·æœ‰å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§, è¿˜æ”¯æŒswiftå“¦.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;çªç„¶æœ‰ä¸€å¤©, è‹¹æœè¿˜åœ¨ios6çš„æ—¶å€™, å®ƒå‘å¸ƒäº†æ–°çš„å¸ƒå±€æ–¹å¼, å–åå«&lt;strong&gt;AutoLayout&lt;/strong&gt;, å¬ç€å¾ˆé«˜å¤§ä¸Š--è‡ªåŠ¨å¸ƒå±€. ä½†æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« é™¤äº†ç®€å•ä»‹ç»ä¸€ä¸‹å®ƒä»¥å¤–æ›´å¤šçš„æ˜¯è¦åæ§½çš„, å…¶å®ä¹Ÿå°±ç¨å¾®åä¸€ç‚¹ç‚¹å®ƒçš„ä½¿ç”¨é—®é¢˜.&lt;/p&gt;
&lt;h2 id=&quot;A
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOS present åœºæ™¯åˆ‡æ¢çš„æ¼”åŒ–å’Œè¦ç‚¹</title>
    <link href="http://yoursite.com/2014/10/14/iOS_present_introduce_and_points/"/>
    <id>http://yoursite.com/2014/10/14/iOS_present_introduce_and_points/</id>
    <published>2014-10-14T06:30:00.000Z</published>
    <updated>2016-04-04T10:09:36.000Z</updated>
    
    <content type="html">&lt;p&gt;iOSä¸­çš„åœºæ™¯åˆ‡æ¢æœ‰å¤šç§æ–¹å¼, containerå†…éƒ¨çš„åˆ‡æ¢æœ‰UINavigationControllerçš„push popæ“ä½œ, UITabbarControllerçš„tabåˆ‡æ¢. å¤–éƒ¨çš„è½¬æ¢æœ‰popover(iPadä¸“ç”¨), å’Œéå¸¸å¸¸ç”¨çš„present. å½“ç„¶, UISplitViewControllerçš„replaceåœ¨storyboardä¹Ÿè¢«è®¤ä¸ºæ˜¯ä¸€ç§åˆ‡æ¢(iPadä¸“ç”¨, too). æœ¬æ–‡å°†è®¨è®ºpresentåœ¨ä¸åŒç‰ˆæœ¬çš„iOS SDKä¸­çš„å˜åŒ–ä»¥åŠpresentçš„ä¸€äº›éœ€è¦æ³¨æ„çš„é—®é¢˜. æœ¬æ–‡çš„æµ‹è¯•å’Œè®²è¿°éƒ½æ˜¯åœ¨xcode6.0.1ä¸­ä½¿ç”¨SDK8ç‰ˆæœ¬.&lt;/p&gt;
&lt;p&gt;presentæ˜¯åœ¨appä¸­å¯ä»¥å¸®åŠ©ç”¨æˆ·ç†è§£appè¡Œä¸º, åˆ’åˆ†appåŠŸèƒ½æ¨¡å—, æ˜¯ä¸€ç§æå…¶å¸¸ç”¨çš„åœºæ™¯åˆ‡æ¢æ–¹å¼. æœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;[ViewControllerA presentViewController:ViewControllerB animated:&lt;span class=&quot;hljs-literal&quot;&gt;YES&lt;/span&gt; completion:&lt;span class=&quot;hljs-literal&quot;&gt;nil&lt;/span&gt;];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è°ƒç”¨åä¼šåœ¨Açš„ä¸Šæ–¹å±•ç¤ºB, ç”¨æˆ·éœ€è¦åœ¨Bä¸­è¿›è¡Œä¸€äº›æ“ä½œæ‰èƒ½ä¼šèƒ½å›åˆ°A, åœ¨Bå±•ç¤ºçš„æœŸé—´, Aä¸èƒ½ç›´æ¥ä¸ç”¨æˆ·äº¤äº’.&lt;/p&gt;
&lt;h2 id=&quot;segue-from-iOS5&quot;&gt;&lt;a href=&quot;#segue-from-iOS5&quot; class=&quot;headerlink&quot; title=&quot;segue from iOS5&quot;&gt;&lt;/a&gt;segue from iOS5&lt;/h2&gt;&lt;p&gt;åœ¨å¾ˆä¹…ä»¥å‰, presentèƒ½å¤Ÿå®šåˆ¶çš„åœ°æ–¹å¾ˆå°‘, å±•ç¤ºçš„æ–¹å¼åœ¨iPhoneå°ºå¯¸ä¸Šåªèƒ½å…¨å±, iPadæœ‰formSheetç­‰å¯ä»¥è¿›è¡Œéå…¨å±çš„å±•ç¤º. è€ŒåŠ¨ç”»åˆ™åªèƒ½åœ¨4ä¸ªé»˜è®¤è®¾ç½®ä¸­é€‰æ‹©(ç›´ä¸Šç›´ä¸‹, åè½¬, ç¿»é¡µ, æ·¡å…¥æ·¡å‡º). iOS5å¼€å§‹æä¾›äº†segueæ¥æŠ½è±¡ä¸€ä¸ªè·³è½¬, å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„segueå»åšåŠ¨ç”», ä½†æ˜¯è¿™æ ·çš„åšæ³•ä¼šå¯¼è‡´åœºæ™¯åˆ‡æ¢çš„åŠ¨ç”»å’Œåˆ‡æ¢çš„é€»è¾‘è¿‡ç¨‹æ˜¯åˆ†ç¦»çš„, viewWillAppearå’ŒviewDidAppearçš„è°ƒç”¨æ—¶æœºæ˜¯ä¸æ­£ç¡®çš„. ç®€å•æ¥è¯´å°±æ˜¯ç”¨åŠ¨ç”»æ¨¡æ‹Ÿäº†åˆ‡æ¢çš„è¿‡ç¨‹, ä½†å…¶å®åˆ‡æ¢æ˜¯ä¸€ç¬é—´, ä¸€èˆ¬å®ç°æ˜¯åœ¨åŠ¨ç”»ç»“æŸçš„completioné‡Œé¢è°ƒç”¨æ— åŠ¨ç”»çš„present. å…ˆçœ‹çœ‹è‹¹æœç»™å‡ºçš„ä»£ç :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)perform
{
&lt;span class=&quot;hljs-comment&quot;&gt;// Add your own animation code here.&lt;/span&gt;
    [[&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt; sourceViewController] presentModalViewController:[&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt; destinationViewController] animated:&lt;span class=&quot;hljs-literal&quot;&gt;NO&lt;/span&gt;];
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœæŒ‰ç…§è‹¹æœæ–‡æ¡£ä¸Šç»™çš„ä»£ç å»å¡«ä¸ŠåŠ¨ç”»,  æ¯”å¦‚:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)perform
{
    &lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; *toView = [&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.destinationViewController view];
    &lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; *sourceView = [&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.sourceViewController view];
    &lt;span class=&quot;hljs-comment&quot;&gt;//å¯»æ‰¾ä¸€ä¸ªä¸´æ—¶çš„viewä½œä¸ºsuperview, å¦åˆ™æ²¡æœ‰åŠ¨ç”»æ•ˆæœ, å› ä¸ºviewä¸åœ¨windowä¸Š&lt;/span&gt;
    [sourceView.superview addSubview:toView];
    toView.transform = &lt;span class=&quot;hljs-built_in&quot;&gt;CGAffineTransformMakeScale&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;);
    [&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; animateWithDuration:&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt; animations:^{
        toView.transform = &lt;span class=&quot;hljs-built_in&quot;&gt;CGAffineTransformIdentity&lt;/span&gt;;
    } completion:^{&lt;span class=&quot;hljs-comment&quot;&gt;/* ... */&lt;/span&gt;}];
    [&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.sourceViewController presentViewController:&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.destinationViewController animated:&lt;span class=&quot;hljs-literal&quot;&gt;NO&lt;/span&gt; completion:&lt;span class=&quot;hljs-literal&quot;&gt;nil&lt;/span&gt;];
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¾ˆä¸å¹¸, è¿™ä¸ªé€»è¾‘æ˜¯æœ‰é—®é¢˜çš„. é—®é¢˜å°±åœ¨addSubviewé‚£é‡Œ. ä¸ºäº†åšåŠ¨ç”», viewéœ€è¦åœ¨windowä¸Š, è€ŒaddSubviewçš„æ—¶å€™toViewè¿›å…¥window, ç„¶åviewWillAppearå’ŒviewDidAppearå°±ä¼šç«‹å³è¢«è°ƒç”¨, è¿™ä¸­è°ƒç”¨æ—¶æœºæ˜¯ä¸å¯¹çš„. ç„¶åä¸‹é¢åˆç«‹å³åšäº†present, SDK8ä¸­ä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªwarning: &lt;code&gt;Unbalanced calls to begin/end appearance transitions for &amp;lt;YourViewController: 0x7fc46bd7e860&amp;gt;.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæŠŠpresentçš„è¯­å¥æ”¾åˆ°åŠ¨ç”»çš„completionä¸­, æ²¡æœ‰warning, ä½†æ˜¯viewWillAppearå’ŒviewDidAppearä¼šåœ¨addSubviewå¤„è¿ç»­è°ƒç”¨ä¸€æ¬¡, ç„¶ååŠ¨ç”»ç»“æŸæ—¶è°ƒç”¨presentåˆè¢«è¿ç»­è°ƒç”¨ä¸€æ¬¡, å¯¼è‡´å„è¢«è°ƒç”¨ä¸¤æ¬¡. æ³¨æ„è¿™é‡Œ&lt;strong&gt;ä¸ä¼š&lt;/strong&gt;è°ƒç”¨disappearç›¸å…³çš„ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•. æ˜¯ä¸æ˜¯å¾ˆæ— è¯­? è€Œå¦‚æœå»æ‰addSubviewçš„è°ƒç”¨, å°†æ²¡æœ‰åŠ¨ç”»æ•ˆæœ.&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šæœ‰ä¸€äº›å¸–å­é‡Œé¢çš„æ–¹æ³•ä¼šåœ¨completionä¸­, åœ¨presentä¹‹å‰å¤šä¸€ä¸ª&lt;code&gt;[toView removeFromSuperview]&lt;/code&gt;çš„è°ƒç”¨. å¾ˆä¸å¹¸, è¿™æ ·å¸¦æ¥çš„é—®é¢˜æ›´å¤šäº†, åœ¨SDK8ä¸­,ä¼šå¾—åˆ°willAppear, didAppear, åŠ¨ç”»ç»“æŸæ—¶å¾—åˆ°willDisappear, willAppear, æ²¡æœ‰didAppear! ç„¶ååˆå¾—åˆ°å‰æ–‡æåˆ°çš„warning. è¿™çœŸæ˜¯è®©äººæ²®ä¸§çš„äº‹æƒ….&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘çš„å»ºè®®æ˜¯ä¸è¦ä½¿ç”¨è‡ªå®šä¹‰çš„segue, viewControllerçš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨å¾—ä¸åˆ°ä¿éšœ. ä½¿ç”¨segueå»æ¨¡æ‹Ÿçš„æ–¹å¼ä¼šå¯¼è‡´ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è°ƒç”¨å’Œè§†è§‰è¿‡ç¨‹ä¸ä¸€è‡´. å¯¼è‡´å¼€å‘è€…åœ¨ä¸åŒç”Ÿå‘½å‘¨æœŸé‡Œé…ç½®çš„ä¸åŒçš„é€»è¾‘çš„æ‰§è¡Œé¡ºåºå’Œæ—¶æœºéƒ½ä¸æ­£ç¡®.&lt;/p&gt;
&lt;h2 id=&quot;Transitioning-from-iOS7&quot;&gt;&lt;a href=&quot;#Transitioning-from-iOS7&quot; class=&quot;headerlink&quot; title=&quot;Transitioning from iOS7&quot;&gt;&lt;/a&gt;Transitioning from iOS7&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ªçœŸæ­£çš„åœºæ™¯åˆ‡æ¢å¯¹äºç›®æ ‡viewControlleræ¥è®²åº”è¯¥æ˜¯viewWillAppear, ç„¶ååŠ¨ç”», ç„¶åæ‰æ˜¯viewDidAppear.  iOS7ä¸­æä¾›äº†transitionçš„æ¦‚å¿µ, ç”¨äºç»™åœºæ™¯åˆ‡æ¢æä¾›è‡ªå®šä¹‰åŠ¨ç”». è¿™å¥—æœºåˆ¶æŠŠåœºæ™¯åˆ‡æ¢çš„è¿‡ç¨‹è¿›è¡Œäº†æ‹†åˆ†, å°†å…¶ä¸­çš„åŠ¨ç”»éƒ¨åˆ†äº¤ç”±å¼€å‘è€…æä¾›, presentè°ƒç”¨è¿˜å’Œä»¥å‰ä¸€æ ·, ä¹Ÿä»ç„¶å¯ä»¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„segue(ç³»ç»Ÿå†…éƒ¨æ˜¯æ­£ç¡®çš„, åªæ˜¯å¼€å‘è€…æ²¡æœ‰åŠæ³•), åªæ˜¯åœ¨çœŸæ­£å¼€å§‹presentæµç¨‹å‰è®¾ç½®ä¸€ä¸‹presentedViewController.transitioningDelegate = someDelegate. è¿™æ ·ä¿è¯äº†viewControlleråˆ‡æ¢æ—¶çš„ç”Ÿå‘½å‘¨æœŸè°ƒç”¨æ—¶æœº, è€Œä¸”ä¹Ÿå¯ä»¥åˆ›é€ å‡ºå„ç§å„æ ·çš„åŠ¨ç”»æ•ˆæœ. ç®€å•çœ‹çœ‹ä½¿ç”¨æ–¹å¼:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)prepareForSegue:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIStoryboardSegue&lt;/span&gt; *)segue sender:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)sender
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (![segue.identifier isEqualToString:&lt;span class=&quot;hljs-string&quot;&gt;@&quot;your present segue identifier&quot;&lt;/span&gt;]) {
        &lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *viewController = segue.destinationViewController;
        viewController.transitioningDelegate = someDelegate;        
        &lt;span class=&quot;hljs-comment&quot;&gt;//æ–‡æ¡£è¦æ±‚è®¾ç½®ä¸ºcustomæ‰ä¼šæ ¹æ®delegateå»è·å–è‡ªå®šä¹‰åŠ¨ç”»,å®é™…æµ‹è¯•ç»“æœæ˜¯ä¸éœ€è¦è®¾ç½®ä¹ŸOK. è€Œä¸”è®¾ç½®äº†åè€Œä¼šåœ¨ios8ä¸­äº§ç”Ÿå¦å¤–çš„é—®é¢˜, åæ–‡æè¿°&lt;/span&gt;
        viewController.modalPresentationStyle = &lt;span class=&quot;hljs-built_in&quot;&gt;UIModalPresentationCustom&lt;/span&gt;;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è‹¹æœçš„æ–‡æ¡£è¯´æ˜:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Discussion
  When this view controllerâ€™s &lt;em&gt;modalPresentationStyle&lt;/em&gt; property is &lt;em&gt;UIModalPresentationCustom&lt;/em&gt;, UIKit uses the object in this property to retrieve the objects needed to present this view controller onscreen. The transitioning delegate must conform to the &lt;em&gt;UIViewControllerTransitioningDelegate&lt;/em&gt; protocol. Its job is to vend the animator objects used to animate this view controllerâ€™s view onscreen &lt;strong&gt;and an optional presentation controller to provide any additional chrome and animations&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŠ ç²—çš„æ˜¯ios8æ‰æœ‰çš„. ä¸‹é¢æ˜¯someDelegateå®ç°çš„æ–¹æ³•:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewControllerAnimatedTransitioning&lt;/span&gt;&amp;gt;)animationControllerForPresentedController:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *)presented presentingController:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *)presenting sourceController:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *)source
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [CustomPresentAnimation new];
}

- (&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewControllerAnimatedTransitioning&lt;/span&gt;&amp;gt;)animationControllerForDismissedController:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *)dismissed
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [CustomDismissAnimation new];
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™é‡Œåªæ˜¯ç®€å•åˆ—ä¸¾ä¸€ä¸‹æ–¹æ³•, ä½¿ç”¨çš„åŠ¨ç”»å¯¹è±¡æ²¡æœ‰è‡ªå®šä¹‰çš„å±æ€§å› æ­¤å°±ç›´æ¥newäº†. åŠ¨ç”»å¯¹è±¡éœ€è¦å®ç°&lt;em&gt;UIViewControllerAnimatedTransitioning&lt;/em&gt; æˆ–è€… &lt;em&gt;UIViewControllerInteractiveTransitioning&lt;/em&gt; åè®®, åè€…ä»åå­—ä¸Šèƒ½çœ‹å‡ºæ¥æ˜¯äº¤äº’å¼åˆ‡æ¢. ä»å±å¹•å·¦è¾¹å¾€å³æ»‘åŠ¨å»è§¦å‘popæ“ä½œ, å¹¶ä¸”è®©UIè·Ÿéšæ‰‹æŒ‡è¿åŠ¨çš„åˆ‡æ¢æ–¹å¼å°±æ˜¯äº¤äº’å¼çš„.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)animateTransition:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewControllerContextTransitioning&lt;/span&gt;&amp;gt;)transitionContext
{
    &lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; *containerView = [transitionContext containerView];
    &lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; *fromView = [transitionContext viewForKey:&lt;span class=&quot;hljs-built_in&quot;&gt;UITransitionContextFromViewKey&lt;/span&gt;];
    &lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; *toView = [transitionContext viewForKey:&lt;span class=&quot;hljs-built_in&quot;&gt;UITransitionContextToViewKey&lt;/span&gt;];
    [containerView insertSubview:toView atIndex:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];
    toView.alpha = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;
    [&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; animateWithDuration:[&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt; transitionDuration:transitionContext] animations:^{
        fromView.transform = &lt;span class=&quot;hljs-built_in&quot;&gt;CGAffineTransformMakeScale&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;);
        fromView.alpha = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;
        toView.alpha = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;
    } completion:^(&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt; finished) {
        [transitionContext completeTransition:&lt;span class=&quot;hljs-literal&quot;&gt;YES&lt;/span&gt;];
    }];
}

- (&lt;span class=&quot;hljs-built_in&quot;&gt;NSTimeInterval&lt;/span&gt;)transitionDuration:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewControllerContextTransitioning&lt;/span&gt;&amp;gt;)transitionContext
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1.0&lt;/span&gt;;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢è¿™æ®µä»£ç å¯¹äºpresentæˆ–è€…dismisséƒ½å¯ä»¥ä½¿ç”¨, æ•ˆæœå°±æ˜¯å½“å‰fromViewä¼šå˜å¤§å¹¶å˜é€æ˜, toViewä¼šä»é€æ˜åˆ°å®Œå…¨ä¸é€æ˜. æ›´æ·±å…¥çš„ç”¨æ³•ä»¥åŠäº¤äº’å¼åŠ¨ç”»çš„æ§åˆ¶è¿™é‡Œä¸è®¨è®º, è‹¹æœçš„æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç éƒ½æœ‰å¾ˆå¥½çš„è¯´æ˜. &lt;/p&gt;
&lt;p&gt;å…³äºæ˜¯å¦è®¾ç½®&lt;em&gt;UIModalPresentationCustom&lt;/em&gt;çš„é—®é¢˜, è™½ç„¶æ–‡æ¡£è¦æ±‚è®¾ç½®, ä½†æ˜¯æµ‹è¯•æ˜¯ä¸éœ€è¦. å¦‚æœè®¾ç½®äº†delegateå¹¶ä¸”ä½¿ç”¨&lt;em&gt;UIModalPresentationCurrentContext&lt;/em&gt;, ä¼šè¾¾åˆ°currentContextèµ·ä½œç”¨å¹¶ä¸”è‡ªå®šä¹‰åŠ¨ç”»ä¹Ÿèµ·ä½œç”¨çš„ç°è±¡. ç®—bugä¹ˆ? (å…³äºcurrentContextçš„ä½¿ç”¨åæ–‡æœ‰ä»‹ç»)&lt;/p&gt;
&lt;p&gt;å°½ç®¡åœ¨iOS7ä¸­å¼€æ”¾äº†åœºæ™¯åˆ‡æ¢çš„åŠ¨ç”»æ§åˆ¶, å¯¹äºpresentçš„ä¸€äº›éœ€æ±‚ä»ç„¶æ²¡æœ‰è¾¾åˆ°. ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­: æˆ‘ä¸æƒ³åœ¨presentè°ƒç”¨åå°†presenterçš„Viewä»windowä¸Šç§»é™¤, å› ä¸ºæˆ‘éœ€è¦å®ƒä½œä¸ºä¸€ä¸ªèƒŒæ™¯, å°±åƒiPadä¸Šçš„formSheetä¸€æ ·. ä½†æ˜¯å¾ˆé—æ†¾, iPhoneä¸Šä¸å¯ä»¥, presentingViewControllerçš„viewä¼šè¢«ç§»é™¤, å½“ç„¶ä½ å¯ä»¥æˆªå±, ä½†æ˜¯æ— æ³•åŒæ­¥å†…å®¹äº†, æˆ–è€…, å¯ä»¥åˆ›å»ºä¸€ä¸ªwindow, æŒ‡å®šä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„windowLevel, å°†presentedControlleræ”¾åˆ°æ–°çš„windowä¸­æ¥è¾¾åˆ°éœ€æ±‚(è¿™ä¹Ÿæ˜¯æˆ‘ç°åœ¨çš„åšæ³•...). ä½†æ˜¯ç”¨windowçš„éº»çƒ¦å°±æ˜¯ä¸å®¹æ˜“æ§åˆ¶, appä¸­å…¶ä»–çš„éƒ¨åˆ†å’Œè¿™ä¸ªviewControlleråªæœ‰æ•°æ®äº¤äº’, viewControllerå’Œviewçš„å±‚çº§ç»“æ„è¢«å®Œå…¨å‰¥ç¦»äº†. ä¸æ˜¯å¾ˆå¥½çš„è§£å†³æ–¹æ³•.&lt;/p&gt;
&lt;h2 id=&quot;UIPresentation-from-iOS8&quot;&gt;&lt;a href=&quot;#UIPresentation-from-iOS8&quot; class=&quot;headerlink&quot; title=&quot;UIPresentation from iOS8&quot;&gt;&lt;/a&gt;UIPresentation from iOS8&lt;/h2&gt;&lt;h3 id=&quot;UIPresentationController&quot;&gt;&lt;a href=&quot;#UIPresentationController&quot; class=&quot;headerlink&quot; title=&quot;UIPresentationController&quot;&gt;&lt;/a&gt;UIPresentationController&lt;/h3&gt;&lt;p&gt;iOS8ä¸­å†æ¬¡å¼ºåŒ–äº†presentçš„ä½¿ç”¨. æ™®é€šçš„ä½¿ç”¨å½“ç„¶æ²¡æœ‰é—®é¢˜, ä½†æ˜¯å¦‚æœæƒ³æ›´å¥½åœ°æ§åˆ¶presentçš„è¿‡ç¨‹å’Œç»†èŠ‚, é‚£ä¹ˆiOS8ä¸­çš„UIPresentationControllerå°±æ˜¯å®Œæˆè¿™ä¸ªä»»åŠ¡çš„. å®ƒæè¿°çš„æ˜¯ä¸€ä¸ªpresentä»å¼€å§‹åˆ°ç»“æŸçš„å…¨è¿‡ç¨‹, è¿™é‡Œä¸åŒ…å«å¦‚ä½•åšè¿‡åœºåŠ¨ç”», ä½†æ˜¯æœ‰æ–¹æ³•å¯ä»¥åŒå…¶&lt;strong&gt;äº¤æµ&lt;/strong&gt;(åæ–‡ä¼šè§£é‡Š), è¿‡åœºåŠ¨ç”»ä»ç„¶ç”±iOS7çš„æ–¹å¼æ¥æ§åˆ¶. ä»å¼€å§‹åˆ°ç»“æŸæ˜¯ä¸€ä¸ªæ€æ ·çš„è¿‡ç¨‹? æ˜¯ä»æŸä¸€ä¸ªviewcontrollerè°ƒç”¨presentå¼€å§‹, ä¸€ç›´åˆ°dismissæ‰è¢«å±•ç¤ºçš„presentedViewController. æœŸé—´çš„å¤§å°å˜åŒ–, å¸ƒå±€ç­‰éƒ½å±äºè¿™ä¸ªè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†. UIPresentationControlleræä¾›çš„ä¿¡æ¯å¾ˆå¤š, å¦‚:æ­£åœ¨å±•ç¤ºçš„å’Œè¢«å±•ç¤ºçš„viewController, å±•ç¤ºçš„æ–¹å¼, åœºæ™¯åˆ‡æ¢æ—¶çš„containerView, ç„¶åæ˜¯ä¸€äº›æ–¹æ³•æä¾›è¯¸å¦‚æ˜¯å¦éœ€è¦ç§»é™¤presentingView, æ˜¯å¦å…¨å±å±•ç¤º, è¿˜æœ‰å¸ƒå±€ç›¸å…³çš„ä¸€äº›å›è°ƒå’Œæ–¹æ³•. è¯¦ç»†çš„å†…å®¹å’Œç”¨æ³•è¿™é‡Œä¸èµ˜è¿°äº†, å¯ä»¥çœ‹å¤´æ–‡ä»¶ä»¥äº†è§£æ›´å¤š, å¦ä¸€ç¯‡åšå®¢ä¸­ä¼šå•ç‹¬ä»‹ç».&lt;/p&gt;
&lt;p&gt;è¦æƒ³ä½¿ç”¨UIPresentationControllerå»æ§åˆ¶presentè¿‡ç¨‹, å°±éœ€è¦å°†presentedViewControllerçš„&lt;em&gt;modalPresentationStyle&lt;/em&gt; è®¾ç½®ä¸º &lt;em&gt;UIModalPresentationCustom&lt;/em&gt;, å¦åˆ™å°†ä¸ä¼šå°è¯•è·å–UIPresentationControllerçš„å®ä¾‹. è€Œæ˜¯å¦æœ‰presentationControlleræ¥æ§åˆ¶presentè¿‡ç¨‹å¾—åˆ°çš„æ•ˆæœä¹Ÿä¸ä¸€æ ·, æœ€æ˜æ˜¾çš„ä¸€ä¸ªå°±æ˜¯é»˜è®¤ä¸ç§»é™¤presenterçš„view. åªéœ€è¦è®¾ç½®ä¸º&lt;em&gt;UIModalPresentationCustom&lt;/em&gt;, ä¸éœ€è¦è®¾ç½®transitionDelegateå°±å¯ä»¥çœ‹åˆ°æ•ˆæœ. ä½†æ˜¯å¦‚æœä¸è®¾ç½®transitionDelegateè€Œè·‘åœ¨ios7çš„è®¾å¤‡ä¸­ä¼šå¾—åˆ°å¦‚ä¸‹warning: &lt;em&gt;UIModalPresentationCustom presentation style can only be used with an animator or with unanimated presentations.&lt;/em&gt;  å¦‚æœè®¾ç½®äº†delegate, å¯ä»¥å¤šå®ç°ä¸€ä¸ªæ–¹æ³•å»è¿”å›è‡ªå®šä¹‰çš„presentationController, å¯ä»¥å®šåˆ¶ç‰¹åˆ«å¤šçš„ç»†èŠ‚, æ¯”å¦‚chromeå’Œcontentçš„å¤§å°, åœºæ™¯åˆ‡æ¢ç›¸å…³çš„é™„åŠ åŠ¨ç”». &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;    &lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; *dimView = [[&lt;span class=&quot;hljs-built_in&quot;&gt;UIView&lt;/span&gt; alloc] initWithFrame:&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.containerView.bounds];
    dimView.backgroundColor = [&lt;span class=&quot;hljs-built_in&quot;&gt;UIColor&lt;/span&gt; colorWithRed:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; green:&lt;span class=&quot;hljs-number&quot;&gt;170&lt;/span&gt; blue:&lt;span class=&quot;hljs-number&quot;&gt;170&lt;/span&gt; alpha:&lt;span class=&quot;hljs-number&quot;&gt;0.8&lt;/span&gt;];
    dimView.alpha = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;
    dimView.autoresizingMask = &lt;span class=&quot;hljs-built_in&quot;&gt;UIViewAutoresizingFlexibleWidth&lt;/span&gt; | &lt;span class=&quot;hljs-built_in&quot;&gt;UIViewAutoresizingFlexibleHeight&lt;/span&gt;;
    [&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.containerView insertSubview:dimView atIndex:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];

[&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.presentedViewController.transitionCoordinator animateAlongsideTransition:^(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewControllerTransitionCoordinatorContext&lt;/span&gt;&amp;gt; context) {
        dimView.alpha = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;
    } completion:&lt;span class=&quot;hljs-literal&quot;&gt;nil&lt;/span&gt;];&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;iPadä¸ŠformSheetå¼¹å‡ºæ—¶å‘¨å›´ä¸æ˜¯å˜é»‘ä¹ˆ? è¿™é‡Œçš„ä»£ç å°±æ˜¯å˜æˆå¤©è“è‰². æ³¨æ„é‚£ä¸ªanimateAlongSideTransitionæ–¹æ³•, è¿™ä¸ªæ–¹æ³•çš„æ„æ€æ˜¯blocké‡Œåœ°åŠ¨ç”»æ˜¯å’Œè¿‡åœºåŠ¨ç”»ä¸€èµ·æ‰§è¡Œçš„, æµ‹è¯•äº†ä¸€ä¸‹, æ•ˆæœæˆ–è€…è¯´å®é™…åšæ³•å°±æ˜¯æŠŠè¿™ä¸ªblockåŠ åˆ°äº†è¿‡åœºåŠ¨ç”»çš„blockåé¢åç»„æˆä¸€ä¸ªæ–°çš„blockæ¥åšåŠ¨ç”», è¿™å°±æ˜¯å‰æ–‡æ‰€è¿°çš„&amp;quot;äº¤æµ&amp;quot;. å¼€å‘ä¸­æˆ‘æœ‰æ—¶å€™ä¹Ÿä¼šè¿™æ ·æä¾›ä¸€äº›å›è°ƒå’Œè®¾ç½®æ¥è§£å†³ä¸€äº›åŠ¨ç”»çš„åŒæ­¥é—®é¢˜. è¿˜æœ‰ä¸€äº›å…³äºsizeæ§åˆ¶çš„å°±ä¸å¤šè¯´äº†.&lt;/p&gt;
&lt;p&gt; é™¤äº†å¼€å‘è€…å¯ä»¥å®šåˆ¶presentè¿‡ç¨‹, è‹¹æœè‡ªå·±ä¹Ÿå¯¹ç³»ç»Ÿæ§ä»¶åšäº†å¾ˆå¤šæ”¹é€ . UIPresentationControlleræ˜¯ä¸€ä¸ªçˆ¶ç±», iOSè‡ªå·±å®ç°äº†ä¸€äº›å­ç±»å¦‚ç§æœ‰çš„å…¨å±å±•ç¤ºControllerè¿˜æœ‰UIPopoverPresentationController, è€Œä¸”å°†å¾ˆå¤šä»¥å‰çš„æ§ä»¶è¿›è¡Œäº†æ”¹é€ , UIAlertView, UIActionSheet, popover, searchDisplayControlleréƒ½è¢«æ”¹é€ äº†. è‹¹æœçš„å·¥ç¨‹å¸ˆåº”è¯¥æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„: è¿™äº›ä¸œè¥¿éƒ½æ˜¯åœ¨ç°æœ‰çš„viewControllerä¸Šå±•ç¤ºä¸€äº›æ–°çš„å†…å®¹, è®¤ä¸ºä»–ä»¬çš„è¡Œä¸ºå…¶å®å°±æ˜¯present. å› æ­¤ä»iOS8å¼€å§‹æˆ‘ä»¬å¤šäº†UIAlertControlleræ¥åŒ…å«alertå’ŒactionSheetçš„å±•ç¤º, å¹¶ä¸”æ˜¯åŸºäºblockçš„. popoverä¸æ˜¯æä¾›æ–°çš„viewController, è€Œæ˜¯æä¾›äº†ä¸€ç§å±•ç¤ºæ–¹å¼&lt;code&gt;UIModalPresentationPopover&lt;/code&gt; ä»¥åŠ UIPopoverPresentationControlleræ¥æä¾›ç®¡ç†,  UISearchDisplayControllerè¢«æ›¿æ¢ä¸ºUISearchController.(wwdcçš„è§†é¢‘é‡Œé¢, å·¥ç¨‹å¸ˆè‡ªå–·äº†ä¸€ä¸‹ä»¥å‰ä½¿ç”¨çš„æ˜¯view, é€šè¿‡addsubviewå»æ·»åŠ , å´è¦è£…å¾—å¥½åƒä¸€ä¸ªviewController, è¯´æ˜¯ä»˜å‡ºäº†å¾ˆå¤š, å›æŠ¥å¾ˆå°‘çš„æ ·å­...).&lt;/p&gt;
&lt;p&gt;çœ‹è‹¹æœçš„æ„æ€æ˜¯è¦ç”¨viewControlleræ¥åŒºåˆ†æ‰€æœ‰çš„åœºæ™¯, å¹¶ç”¨presentationæ¥ç®¡ç†åœºæ™¯åˆ‡æ¢(ä¸åŒ…å«å®¹å™¨å†…éƒ¨çš„åˆ‡æ¢). ä»¥å‰çš„alertå’ŒactionSheetçš„è‡ªå·±åˆ›å»ºwindow, ä»¥åŠUISearchDisplayControllerå»addsubviewçš„æ–¹å¼è¢«å¦å®šäº†. çš„ç¡®è¿™æ˜¯å¾ˆä¸å¥½çš„, å°±æ‹¿UIAlertViewæ¥è¯´, å› å…¶è‡ªå·±å¤„åœ¨ä¸€ä¸ªç‹¬ç«‹çš„windowä¸­, å¦‚æœè°ƒç”¨showçš„viewControlleræ¶ˆå¤±äº†, å´æ²¡æœ‰è®¾ç½®alertViewæ¶ˆå¤±, å°±ä¼šå¯¼è‡´ä¸€ä¸ªå¾ˆå°´å°¬çš„ç°è±¡, å†…å®¹éƒ½æ²¡äº†, ä½ alertä¸ªå•¥å‘¢? è€Œä¸”, å¦‚æœalertViewçš„delegateæ­£å¥½æ˜¯è¿™ä¸ªviewControllerçš„è¯, ç‚¹å‡»alertViewçš„æŒ‰é’®è¿˜ä¼šå¯¼è‡´å´©æºƒ, å› ä¸ºdelegateå±æ€§æ˜¯assignä¸æ˜¯weak (è¦æ³¨æ„, assignæ˜¯æ­£ç¡®çš„è®¾è®¡). å½“ç„¶å¯ä»¥åœ¨viewControllerçš„viewWillDisappearæˆ–è€…deallocç­‰åœ°æ–¹æ·»åŠ ä¸€ä¸‹å¹²æ‰alertViewçš„é€»è¾‘, ä½†æ˜¯è¿™æ ·å°±ä¼šç»™viewControlleræ·»åŠ å˜é‡äº†, å¹¶ä¸”æœ‰æ—¶å€™ä¼šæ·»åŠ å¾ˆå¤š... å¯¹äºUIAlertView, ç³»ç»Ÿè¿˜æœ‰ä¸€ä¸ªè¡Œä¸ºæ¯”è¾ƒæœ‰æ„æ€, alertViewå¯ä»¥åœ¨ä¸Šä¸€ä¸ªæ²¡æœ‰æ¶ˆå¤±çš„æƒ…å†µä¸‹ç»§ç»­å¼¹å‡º, å¼¹å‡ºæ—¶ä¼šæš‚æ—¶éšè—ä¸Šä¸€ä¸ª, å¾…è¿™ä¸€ä¸ªå¤„ç†å®Œæ¯•åå†é‡æ–°æ˜¾ç¤º. åœ¨å¼¹çª—æ­£åœ¨å±•ç¤ºçš„æœŸé—´å¦‚æœappåˆ‡åˆ°åå°, å†åˆ‡å›å‰å°, alertViewä¼šé‡æ–°ä»æ— åˆ°æœ‰çš„å±•ç¤ºä¸€æ¬¡. è€Œæ¢æˆalertControllerä»¥å, å±•ç¤ºçš„å…¶å®å°±æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥è·ŸalertViewä¸€æ ·çš„viewController, ç³»ç»Ÿæ˜¯ä¸å…è®¸ä¸€ä¸ªpresentingViewControlleråŒæ—¶presentä¸¤ä¸ªviewControllerçš„, å› æ­¤alertViewçš„é‚£ç§å…è®¸è¿ç»­å¼¹å¤šä¸ªalertçš„æœ‰è¶£çš„ç°è±¡æ²¡æœ‰äº†, å¹¶ä¸”ä¹Ÿä¸ä¼šåœ¨å‰åå°åˆ‡æ¢æ—¶å‡ºç°å‰è¿°çš„é‡æ–°å±•ç¤ºçš„ç°è±¡. å¦‚æœæœ‰äººä»¥å‰ä¾èµ–äº†è¿™äº›é€»è¾‘å°±ä¸€å®šè¦å°å¿ƒäº†, UIAlertControlleréœ€è¦ä¾èµ–ä¸€ä¸ªviewControlleræ‰èƒ½è¿›è¡Œå±•ç¤º, ä¸èƒ½è‡ªè¡Œåˆ›å»ºwindowè¿›è¡Œå±•ç¤º. ä¹Ÿå°±ä¸å­˜åœ¨ç¼“å­˜ä¹‹å‰çš„alertä¸€è¯´äº†.&lt;/p&gt;
&lt;h3 id=&quot;adaptive-è‡ªé€‚åº”&quot;&gt;&lt;a href=&quot;#adaptive-è‡ªé€‚åº”&quot; class=&quot;headerlink&quot; title=&quot;adaptive è‡ªé€‚åº”&quot;&gt;&lt;/a&gt;adaptive è‡ªé€‚åº”&lt;/h3&gt;&lt;p&gt;è¿™é‡Œè¡¥å……è¯´ä¸€ç‚¹adaptive. è‹¹æœå¯¹iOS8ä¸­æ‰€ä½œçš„presentçš„æ”¹åŠ¨å’Œè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸æ˜¯æœ‰éå¸¸å¤§å…³ç³»çš„. ä¸ºä»€ä¹ˆå…è®¸åœ¨iPhoneç¯å¢ƒä¸­ä¹Ÿèƒ½ä½¿ç”¨popoverå’Œsplit? å…¶å®åœ¨å¯ç”¨size classeså, è‹¹æœæœŸæœ›å¼€å‘è€…èƒ½æ›´å¤šåœ°å…³æ³¨ç°åœ¨çš„å°ºå¯¸ä¸­å®½åº¦å’Œé«˜åº¦æœ‰æ²¡æœ‰è¢«å‹ç¼©,  &lt;em&gt;UITraitCollection&lt;/em&gt; æè¿°äº†ç°åœ¨æ‰€å¤„çš„ç¯å¢ƒ, åŒ…å«å®½åº¦, é«˜åº¦çš„æƒ…å†µ, å±å¹•çš„scale, è®¾å¤‡.(æ›´å¤šåœ°ç»†èŠ‚çœ‹wwdcè§†é¢‘å’Œæ–‡æ¡£). åœ¨æœ‰size classesçš„æƒ…å†µä¸‹, æ‹¿popoveræ¥ä¸¾ä¾‹, åŒä¸€æ®µä»£ç å°±å¯èƒ½å…è®¸äºä¸åŒå°ºå¯¸çš„è®¾å¤‡ä¸­, iPadä¸­å®½åº¦å’Œé«˜åº¦éƒ½æ˜¯æ­£å¸¸, èƒ½åƒæœŸæœ›åœ°é‚£æ ·å¼¹å‡ºpopover, æ•ˆæœä¸å˜. è€Œåœ¨iPhoneä¸­ä¹Ÿå°±æ˜¯å®½åº¦æˆ–è€…é«˜åº¦è¢«å‹ç¼©æ—¶, popoverä¸èƒ½å±•ç¤º, ç³»ç»Ÿçš„UIPopoverPresentationControllerçš„é»˜è®¤è¡Œä¸ºæ˜¯å¸®ä½ æ”¹æˆå…¨å±present. å¦‚æœä½ æƒ³å†ç¨å¾®å®šåˆ¶ä¸‹å…¨å±å±•ç¤ºæ—¶çš„æ ·å¼æ¯”å¦‚æ·»åŠ ä¸€ä¸ªnavigationControlleræ¥åŒ…å«å°†è¦å±•ç¤ºçš„viewController, é‚£ä¹ˆå¯ä»¥å®ç°UIPresentationControllerçš„ä»£ç†æ–¹æ³•æ¥æä¾›è°ƒæ•´:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//viewControllerä¸­&lt;/span&gt;
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)prepareForSegue:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIStoryboardSegue&lt;/span&gt; *)segue sender:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)sender
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ([segue.identifier isEqualToString:&lt;span class=&quot;hljs-string&quot;&gt;@&quot;popover&quot;&lt;/span&gt;]) {
        &lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *viewController = segue.destinationViewController;
        viewController.presentationController.delegate = &lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;;
    }
}

&lt;span class=&quot;hljs-comment&quot;&gt;//ä»£ç†æ–¹æ³•&lt;/span&gt;
- (&lt;span class=&quot;hljs-built_in&quot;&gt;UIModalPresentationStyle&lt;/span&gt;)adaptivePresentationStyleForPresentationController:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIPresentationController&lt;/span&gt; *)controller
{
&lt;span class=&quot;hljs-comment&quot;&gt;//ç³»ç»Ÿé»˜è®¤çš„åº”è¯¥æ˜¯UIModalPresentationFullScreen, æ²¡æœ‰overè¿™ä¸ªå•è¯&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;UIModalPresentationOverFullScreen&lt;/span&gt;;
}

&lt;span class=&quot;hljs-comment&quot;&gt;//must implement the above one to give a chance to call this one...&lt;/span&gt;
- (&lt;span class=&quot;hljs-built_in&quot;&gt;UIViewController&lt;/span&gt; *)presentationController:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIPresentationController&lt;/span&gt; *)controller viewControllerForAdaptivePresentationStyle:(&lt;span class=&quot;hljs-built_in&quot;&gt;UIModalPresentationStyle&lt;/span&gt;)style
{
    &lt;span class=&quot;hljs-built_in&quot;&gt;UINavigationController&lt;/span&gt; *navVC = [[&lt;span class=&quot;hljs-built_in&quot;&gt;UINavigationController&lt;/span&gt; alloc] initWithRootViewController:controller.presentedViewController];
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navVC;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä¸å®ç°ç¬¬ä¸€ä¸ªæ–¹æ³•çš„è¯å°±ä¸ä¼šè°ƒç”¨ç¬¬äºŒä¸ªä»£ç†æ–¹æ³•, è™½ç„¶é»˜è®¤çš„ä¹Ÿæ˜¯å…¨å±, è€Œä¸”ä½ åªèƒ½è¿”å›å…¨å±(æœ‰ä¸¤ä¸ªå€¼éƒ½å¯ä»¥). ç„¶åä¹Ÿè¦æ³¨æ„: &lt;strong&gt;å¦‚æœæ²¡æœ‰ä½¿ç”¨size classes, åªä¿ç•™iPhone sizeæ—¶, ç¬¬ä¸€ä¸ªä»£ç†æ–¹æ³•è¿”å›UIModalPresentationFullScreen, åˆ™ä¸ä¼šè°ƒç”¨ç¬¬äºŒä¸ªä»£ç†æ–¹æ³•. éœ€è¦è¿”å›UIModalPresentationOverFullScreenæ‰è¡Œ&lt;/strong&gt;. æŸç§ç¨‹åº¦ä¸Šå¯ä»¥è®¤ä¸ºæ˜¯ä¸ªå°bug. ä¸è¿‡å¸¦overçš„å˜é‡æ˜¯iOS8æ‰æœ‰çš„, ç†è®ºä¸Šä¹Ÿåº”è¯¥ä½¿ç”¨æ–°çš„å˜é‡æ‰å¯¹. &lt;/p&gt;
&lt;p&gt;å¦å¤–å¯ä»¥å¼ºåˆ¶ä¸ä½¿ç”¨adaptive, åªéœ€è¦è¿”å›UIModalPresentationNoneå³å¯. åœ¨å‹ç¼©çš„ç©ºé—´å†…ä¹Ÿå¯ä»¥å±•ç¤ºä¸ºpopover. è¿™ç‚¹å¾ˆå¥½~&lt;/p&gt;
&lt;h1 id=&quot;Present-çš„ä¸€äº›è¦ç‚¹&quot;&gt;&lt;a href=&quot;#Present-çš„ä¸€äº›è¦ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;Present çš„ä¸€äº›è¦ç‚¹&quot;&gt;&lt;/a&gt;Present çš„ä¸€äº›è¦ç‚¹&lt;/h1&gt;&lt;p&gt;å‰é¢è¯´äº†å¾ˆå¤špresentçš„æ¼”åŒ–, ä»segueåˆ°transitionå†åˆ°presentationController, éƒ½æ˜¯åœ¨åŠ å¼ºpresent, è¯•å›¾ç»™å¼€å‘è€…æ›´å¤šçš„ç©ºé—´. ä¸‹é¢è¯´ä¸€äº›presentçš„è¦ç‚¹, ä¸»è¦è¯´ä¸€ä¸‹presentä¸­viewControllerçš„å±‚çº§ç»“æ„ä»¥åŠå¦‚ä½•ä¿®æ”¹ç¡®å®šå±‚çº§å…³ç³».&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªappè¿è¡Œèµ·æ¥, windowä¸Šæœ‰ä¸€ä¸ªrootViewController, å¯èƒ½æ˜¯ä¸€ä¸ªNavigationControlleræˆ–è€…ä¸€ä¸ªTabbarController, æˆ‘ä»¬å¯ä»¥è¿›è¡Œpushæ“ä½œæ·±å…¥åˆ°ä¸€ä¸ªChildViewControllerä¸­, å‡å¦‚A-&amp;gt;B-&amp;gt;C, Aæ˜¯navigationController, pushè¿›å…¥åˆ°C. è¿™æ—¶å€™æˆ‘ä»¬åœ¨Cä¸Šæœ‰ä¸€ä¸ªéœ€æ±‚éœ€è¦presentå±•ç¤ºD. è¿™ä¸ªè¿‡ç¨‹éœ€è¦çŸ¥é“ä¸€äº›viewControlleræ‰èƒ½çœŸæ­£å¼€å§‹. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;presentingViewController: è¿™ä¸ªpresentåˆ°åº•æ˜¯è°åœ¨åšæ”¯æŒ?&lt;/li&gt;
&lt;li&gt;presentedViewController: è¿™ä¸ªpresentä¸­è¢«å±•ç¤ºçš„æ˜¯è°?&lt;/li&gt;
&lt;li&gt;sourceViewController: è¿™ä¸ªpresentæ˜¯è°å‘èµ·çš„?
è¦æ³¨æ„, sourceå’Œpresentingå¾€å¾€æ˜¯ä¸ä¸€æ ·çš„. åœ¨æœ¬ä¾‹ä¸­, Aæœ€ç»ˆä¼šæˆä¸ºpresenting, Cæ˜¯source, è€ŒDæ˜¯presented. è¡¨ç¤ºå¦‚ä¸‹:&lt;pre&gt;
D
|
A-&gt;B-&gt;C
&lt;/pre&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Dç°åœ¨æ˜¯å’ŒAè¿›è¡Œäº†å…³è”, å½¢æˆäº†presentingå’Œpresentedçš„å…³ç³». viewControlleræœ‰ä¸¤ä¸ªreadOnlyçš„å±æ€§, åˆ†åˆ«æ˜¯presentingViewControllerå’ŒpresentedViewController. å‰è€…æ˜¯æŒ‡å½“å‰viewControlleræ­£åœ¨è¢«è°å±•ç¤º, åè€…æ˜¯æŒ‡æ­£åœ¨è¢«å½“å‰viewControllerå±•ç¤ºçš„æ˜¯è°. è¿™ä¸¤ä¸ªå±æ€§å…¶å®æ˜¯è®¡ç®—å±æ€§, ä»–ä»¬éƒ½æ˜¯é€’å½’å¾€parentå¯»æ‰¾, ç›´åˆ°æ‰¾åˆ°çœŸæ­£åœ¨åšpresentçš„viewController. æœ¬ä¾‹ä¸­åœ¨Cçš„presentingViewControllerä¸ºnil, presentedViewControllerä¸ºD. è¿™ä¸ªç»“æœå¯¹äºA, B, Céƒ½æ˜¯ä¸€æ ·çš„, å› ä¸ºBå’ŒCéƒ½æ˜¯Açš„childViewController. Dçš„presentingViewcontrolleråˆ™æ˜¯A, presentedViewControlleræ˜¯nil. å¦‚æœDä¹Ÿæ˜¯ä¸€ä¸ªå®¹å™¨, å‡å¦‚ä»ç„¶æ˜¯navigationController, é‚£ä¹ˆDä¹Ÿpushåˆ°E.&lt;/p&gt;
&lt;pre&gt;
D-&gt;E
|
A-&gt;B-&gt;C
&lt;/pre&gt;
A, B, C, Dçš„é‚£ä¸¤ä¸ªå±æ€§çš„å€¼éƒ½æ²¡æœ‰å˜åŒ–, Eçš„presentingViewControlleræ˜¯A, presentedViewControlleræ˜¯nil. æˆ‘ä»¬å¯ä»¥åœ¨Eä¸Šç»§ç»­presentåˆ°F, Få†pushåˆ°G.
&lt;pre&gt;
F-&gt;G
|
D-&gt;E
|
A-&gt;B-&gt;C
&lt;/pre&gt;

&lt;p&gt;è¿™æ˜¯Dçš„presentedViewControllerå°±æ˜¯F. å…¶ä½™å€¼ä¹Ÿèƒ½å“åº”æ¨æ–­å‡ºæ¥. &lt;/p&gt;
&lt;p&gt;ä»å¦å¤–ä¸€ä¸ªæ–¹å¼æ¥ç†è§£, presentæ„å‘³ç€å±•ç¤ºæ–°çš„æ¨¡å—, æ–°æ¨¡å—åº”è¯¥åœ¨é€»è¾‘ä¸Šæ˜¯å¦å¤–ä¸€å±‚, é»˜è®¤æƒ…å†µä¸‹, presentæ–°çš„ä¸€å±‚ç”±å½“å‰å±‚çš„æ ¹å…ƒç´ æ¥æ“ä½œ. æ‰€ä»¥æ˜¯Aå±•ç¤ºäº†D, Då±•ç¤ºäº†F. ä¸ºä»€ä¹ˆè¯´æ˜¯é»˜è®¤æƒ…å†µ?  å› ä¸ºviewControllerè¿˜æœ‰ä¸€ä¸ªå±æ€§:&lt;em&gt;definesPresentationContext&lt;/em&gt;. é»˜è®¤å€¼ä¸ºNO. æ–‡æ¡£ä¸­æè¿°å¦‚æœå€¼ä¸ºYES, æ„å‘³ç€æœŸæœ›presentedViewControllerè¦†ç›–å½“å‰çš„viewçš„èŒƒå›´. ç›´è§‚åœ°æ¥è®², å°±æ˜¯viewControllerå‘Šè¯‰ç³»ç»Ÿ, å½“æˆ‘æˆ–è€…æˆ‘çš„childViewControlleråšpresentæ—¶, presentingæ˜¯æˆ‘, è¦†ç›–æˆ‘çš„æ˜¾ç¤ºèŒƒå›´. å¦‚æœçœŸçš„æƒ³è¦è¿™æ ·çš„æ•ˆæœ, è¿˜éœ€è¦ç»™presentedViewControllerè®¾ç½®&lt;em&gt;modalPresentationStyle&lt;/em&gt;çš„å€¼ä¸º&lt;em&gt;UIModalPresentationCurrentContext&lt;/em&gt;, æŒ‡å®špresentedViewControlleråœ¨å±•ç¤ºæ—¶ä½¿ç”¨å½“å‰çš„ä¸Šä¸‹æ–‡. &lt;/p&gt;
&lt;p&gt;å¦‚æœä¸¤ä¸ªå€¼éƒ½æ­£ç¡®è®¾ç½®äº†, å½“ä¸€ä¸ªchildViewControllerè°ƒç”¨presentæ—¶, å®ƒé¦–å…ˆæ£€æŸ¥è‡ªå·±, ç„¶åé€’å½’æ£€æŸ¥parentViewControlleræ˜¯å¦æœ‰è°çš„&lt;em&gt;definesPresentationContext&lt;/em&gt;æ˜¯YES. è¿™æ ·ä¼šæ‰¾åˆ°ä¸€ä¸ªviewControlleræ¥ä½œä¸ºpresenting, ç„¶åpresentå°±æ˜¯åœ¨è¿™ä¸ªviewControllerä¸Šåš. æ³¨æ„, å®ƒæœ‰å¯èƒ½ä¸æ˜¯å½“å‰å±‚çš„æ ¹, ä¹Ÿå°±æ„å‘³ç€æ ¹ä»ç„¶å¯ä»¥present. æ ¹presentçš„viewControllerçš„å±‚çº§åœ¨childä¹‹ä¸Š. &lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰åŒæ—¶è¾¾æˆä¸Šè¿°çš„ä¸¤ä¸ªå˜é‡è®¾ç½®, å¾—åˆ°çš„ç»“æœå°±æ˜¯é»˜è®¤ç”±å½“å‰å±‚çš„æ ¹è¿›è¡Œpresent, å¹¶ä¸”ä¸ä»¥æ ¹çš„æ˜¾ç¤ºèŒƒå›´åšæ§åˆ¶. è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„: å¦‚æœåœ¨ä¸€ä¸ªviewController (X)ä¸Šè®¾å®šäº†&lt;em&gt;definesPresentationContext&lt;/em&gt;ä¸ºYES, å¹¶ä¸”presentedViewController (Y)è®¾ç½®äº†&lt;em&gt;modalPresentationStyle&lt;/em&gt;ä¸º&lt;em&gt;UIModalPresentationCurrentContext&lt;/em&gt;, åœ¨Yä¸Šå†æ¬¡è¿›è¡Œpresentæ—¶,  ä¸‹ä¸€ä¸ªpresentedViewController (Z)&lt;strong&gt;æ²¡æœ‰è®¾ç½®&lt;/strong&gt; ä¸º&lt;em&gt;UIModalPresentationCurrentContext&lt;/em&gt;çš„è¯, å±•ç¤ºä¼šå˜æˆå…¨å±, æ­¤æ—¶çš„Zçš„presentingViewControllerå˜æˆäº†X. æ›´å¥‡æ€ªçš„æ˜¯ç»‘å®šçš„unwindSegueä¼šè«åå¤±æ•ˆ, å…¶å®ƒäº‹ä»¶è¿˜èƒ½æ­£ç¡®å“åº”. å¦‚æœZè®¾ç½®äº†&lt;em&gt;UIModalPresentationCurrentContext&lt;/em&gt;, åˆ™presentè¦†ç›–çš„è¿˜æ˜¯Xçš„èŒƒå›´, presentingViewControllerå±æ€§æŒ‡å‘çš„æ˜¯Y.&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“-1&quot;&gt;&lt;a href=&quot;#æ€»ç»“-1&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¾ˆä¹±æœ‰æœ¨æœ‰? æˆ‘ä¹Ÿè§‰å¾—å¾ˆä¹±. ä½†äº‹å®å°±æ˜¯è¿™æ ·. è‹¹æœè¿™æ¬¡çš„iOS8å‡çº§å¸¦æ¥çš„é—®é¢˜ä¸å°‘, æ·»åŠ äº†size classæ¥æè¿°ç”¨æˆ·ç•Œé¢çš„å˜åŒ–, é¡ºä¾¿ä¸€æ, å› ä¸ºå¼•å…¥size classçš„æ¦‚å¿µ, è½¬å±çš„æ–¹æ³•ä¹Ÿå…¨éƒ¨åºŸå¼ƒ, æ”¹ä¸ºå“åº”å°ºå¯¸çš„å˜åŒ–. å¼•å…¥UIPresentationControllerè¿›è¡Œpresentç®¡ç†, ç³»ç»Ÿæ§ä»¶çš„å±•ç¤ºä¹ŸåŸºæœ¬ä¸Šéƒ½å˜æˆäº†presentå±•ç¤º, è¡Œä¸ºå‘ç”Ÿäº†å¤§å¹…å˜åŒ–. &lt;em&gt;UIModalPresentationCustom&lt;/em&gt;çš„è®¾ç½®ä¸å¦ä¼šå¯¼è‡´ä¸åŒçš„ç»“æœ. å…è®¸adaptiveç‰¹æ€§æ¥è°ƒæ•´ä¸åŒå°ºå¯¸ä¸‹åœ°æ˜¾ç¤ºç­–ç•¥, ä½†æ˜¯ä¸å…¼å®¹iOS7åŠä»¥å‰çš„ç³»ç»Ÿ, åŸºæœ¬ä¸Šéƒ½æ˜¯äº›æ–°çš„APIå’Œè®¾è®¡. &lt;/p&gt;
&lt;p&gt;ç¨å¾®åæ§½ä¸‹: autoLayoutçš„ä½¿ç”¨ä»ç„¶æœ‰äº›é—®é¢˜, æœ‰äº›è®¾ç½®ä¸æ˜¯åœ¨æ‰€æœ‰ç‰ˆæœ¬ä¸­éƒ½æ”¯æŒçš„, è™½ç„¶ç»™å‡ºäº†warning, ä½†æ˜¯æ²¡æœ‰å»ºè®®å¦‚ä½•ä¿®æ”¹. ä½¿ç”¨autoLayoutåçš„åŠ¨ç”»ä¹Ÿæœ‰å„ç§å„æ ·çš„é—®é¢˜, ç»™ä½¿ç”¨äº†autolayoutçš„viewControlleråšè¿‡åœºåŠ¨ç”», æ”¹å˜viewçš„transformæ¥å®Œæˆæ•ˆæœ. å¦‚æœä½¿ç”¨currentContextçš„æ–¹å¼present å¹¶ä¸”æœ€ç»ˆæ˜¾ç¤ºèŒƒå›´å’ŒviewControllerçš„åˆå§‹å¤§å°ä¸ä¸€è‡´æ—¶, ä¼šçœ‹åˆ°å¾ˆå¥½ç©çš„ç»“æœ. åŠ¨ç”»æ•ˆæœå®Œå…¨å°±æ˜¯æ‰“è„¸. ä¹Ÿå°è¯•è¿‡ç»™animationåŠ ä¸ŠlayoutSubViewsçš„option, ç„¶ååˆå¾—åˆ°äº†å¦å¤–ä¸€ä¸ªæ‰“è„¸çš„åŠ¨ç”»æ•ˆæœ. åˆ†æäº†ä¸€ä¸‹ä»£ç , å‘ç°ä¸Šè¿°çš„æ”¹åŠ¨æ€»ç»“èµ·æ¥å°±æ˜¯å…ˆæ”¹åŠ¨äº†transformè®©å…¶ç¼©æ”¾å˜å°, ç„¶ååŠ¨ç”»blockä¸­é‡è®¾transform, ç„¶åæ”¹å˜viewçš„frame. æ˜¯çš„, å°±æ˜¯å› ä¸ºæ”¹å˜äº†frameå¯¼è‡´äº†å„ç§å¥‡è‘©çš„æ•ˆæœ, æœ‰å…´è¶£çš„è‡ªå·±è¯•è¯•å°±çŸ¥é“äº†. è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é—®é¢˜è¿™ç¯‡åšå®¢å°±ä¸åœ¨åæ§½äº†, å†å†™å°±å¤ªé•¿äº†.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;iOSä¸­çš„åœºæ™¯åˆ‡æ¢æœ‰å¤šç§æ–¹å¼, containerå†…éƒ¨çš„åˆ‡æ¢æœ‰UINavigationControllerçš„push popæ“ä½œ, UITabbarControllerçš„tabåˆ‡æ¢. å¤–éƒ¨çš„è½¬æ¢æœ‰popover(iPadä¸“ç”¨), å’Œéå¸¸å¸¸ç”¨çš„present. å½“ç„¶, UIS
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>XLYMultiCastDelegate å¤šæ’­ä»£ç†</title>
    <link href="http://yoursite.com/2014/10/10/XLYMultiCastDelegate/"/>
    <id>http://yoursite.com/2014/10/10/XLYMultiCastDelegate/</id>
    <published>2014-10-10T08:00:00.000Z</published>
    <updated>2016-04-04T10:12:18.000Z</updated>
    
    <content type="html">&lt;p&gt;é€šçŸ¥ä¸­å¿ƒNSNotificationCenter, å¤§å®¶éƒ½çŸ¥é“æ€ä¹ˆç”¨. éœ€è¦add observer, æŒ‡å®šselector, æŒ‡å®šç›‘å¬çš„é€šçŸ¥(å­—ç¬¦ä¸²), åœ¨selectorå¯¹åº”çš„æ–¹æ³•ä¸­è·å–userInfoå­—å…¸, æ ¹æ®keyè·å–valueè¿›è¡Œæ“ä½œ, æœ€åè¿˜å¾—åœ¨æŸä¸ªæ—¶æœºremove observer. è™½ç„¶æŒ‰ç…§è§„èŒƒå»ç¼–å†™ä»£ç ä¸å®¹æ˜“å‡ºé”™, ä½†æ˜¯ä»ç„¶æœ‰å¾ˆå¤šéº»çƒ¦, selectorçš„ä½¿ç”¨é”™è¯¯ä¸å®¹æ˜“åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥, é€šçŸ¥å’ŒuserInfoéƒ½æ˜¯ä½¿ç”¨å­—ç¬¦ä¸², éœ€è¦å¤§é‡å®šä¹‰å’Œç»´æŠ¤å­—ç¬¦ä¸²å¸¸é‡. è¿™ç‚¹æœ‰æ—¶å€™ç€å®ä¼šè®©äººå¾ˆçƒ¦æ¼. æœ¬æ–‡ä»‹ç»ä¸€ç§åˆ©ç”¨&lt;strong&gt;æ¶ˆæ¯è½¬å‘&lt;/strong&gt;å’Œ&lt;strong&gt;ä»£ç†&lt;/strong&gt;æ¥åšå¹¿æ’­çš„æƒ³æ³•.&lt;/p&gt;
&lt;p&gt;è®°å¾—åšç¬¬ä¸€ä¸ªé¡¹ç›®æ—¶(ä¸€å¹´å¤šå‰...), éœ€è¦åšèŠå¤©, å½“æ—¶å› ä¸ºå¾ˆå¤šåŸå› æ²¡æœ‰é‡æ–°å¼€å‘, è€Œæ˜¯ä½¿ç”¨äº†ä¹‹å‰é¡¹ç›®çš„èŠå¤©æ¨¡å—ä»£ç , ç»“æ„ååˆ†æ··ä¹±, å¤§é‡çš„ä½¿ç”¨äº†Notificationå¹¶ä¸”å¾ˆå¤šåœ°æ–¹çš„ç”¨æ³•æ˜¯é”™è¯¯çš„. è™½ç„¶å¼€å‘å¾—å¾ˆä¸çˆ½, æ€»ä¹‹æ˜¯ç¡¬æ‰›ä¸‹å»äº†, ä¸å ªå›é¦–. æœŸé—´ç§¯ç´¯äº†ä¸€äº›æƒ³æ³•, ä¹Ÿå†™è¿‡ä¸€äº›demoéªŒè¯äº†ä¸€äº›, å…¶ä¸­ä¸€ä¸ªå°±æ˜¯æœ¬æ–‡ä»‹ç»çš„&lt;code&gt;MultiCastDelegate&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é‡åˆ°äº†ä¸€ç±»é—®é¢˜, å½“æŸä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶, å¯èƒ½æœ‰å¤šä¸ªå¯¹è±¡æœŸæœ›å¾—åˆ°é€šçŸ¥, ä½†æ˜¯å„è‡ªæ‰€å¤„çš„çº¿ç¨‹æˆ–è€…Queueæ˜¯ä¸ä¸€æ ·çš„. NSNotificationCenteré™¤äº†åœ¨å‘é€é€šçŸ¥æ—¶çš„ä¸€äº›å¸¸é‡å®šä¹‰çš„é—®é¢˜å¤–è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§: é€šçŸ¥çš„è°ƒç”¨æ˜¯åœ¨postNotificationçš„è°ƒç”¨çº¿ç¨‹ä¸­åŒæ­¥æ‰§è¡Œ. å¦‚æœæˆ‘ä»¬æœ‰ä¸»çº¿ç¨‹å’Œåå°çš„å¯¹è±¡åŒæ—¶ç›‘å¬é€šçŸ¥, NSNotificationCenterå°±æ— æ³•æ»¡è¶³éœ€æ±‚äº†, æ€»æ˜¯è‡³å°‘æœ‰ä¸€ä¸ªobserverä¸æ˜¯åœ¨è‡ªå·±æ‰€å±çš„çº¿ç¨‹æˆ–è€…Queueè°ƒèµ·. éš¾é“è¿˜è¦è‡ªå·±å†æ¬¡dispatchä¸€ä¸‹?&lt;/p&gt;
&lt;h2 id=&quot;XLYMultiCastDelegate&quot;&gt;&lt;a href=&quot;#XLYMultiCastDelegate&quot; class=&quot;headerlink&quot; title=&quot;XLYMultiCastDelegate&quot;&gt;&lt;/a&gt;XLYMultiCastDelegate&lt;/h2&gt;&lt;h3 id=&quot;ä½¿ç”¨ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ç®€ä»‹&quot;&gt;&lt;/a&gt;ä½¿ç”¨ç®€ä»‹&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/kaizeiyimi/XLYMultiCastDelegate&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYMultiCastDelegate&lt;/a&gt;&lt;/strong&gt;æ¥æ‹¯æ•‘ä½ . å®ƒçš„ä¸­æ–‡åå­—å«å¤šæ’­ä»£ç†? å…¶å®æ˜¯å¹¿æ’­. å®ƒçš„ä½œç”¨è·Ÿé€šçŸ¥ä¸­å¿ƒNSNotificationCenterå¾ˆåƒ, è¦åšçš„äº‹æƒ…ä¹Ÿæ˜¯ä¸€å¯¹å¤šçš„é€šçŸ¥. å®ç°çš„æ€è·¯ä¸¥é‡ä¾èµ–Objective-Cçš„æ¶ˆæ¯è½¬å‘æœºåˆ¶. å®ƒä¸æ˜¯å®Œå…¨çš„é€šçŸ¥ä¸­å¿ƒçš„ä»£æ›¿å®ç°, multiCastDelegate å…¶å®éœ€è¦ä½¿ç”¨ä¸€ä¸ªprotocolæ¥åˆå§‹åŒ–. ä¹‹åæ·»åŠ çš„observeræˆ–è€…è¯´delegateå¿…é¡»è¦å®ç°è¿™ä¸ªprotocol, å¦åˆ™å°†ä¸èƒ½æ·»åŠ . å…ˆçœ‹çœ‹åŸºæœ¬ä½¿ç”¨, å†ç»§ç»­ä»‹ç».&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;@protocol&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;SimpleProtocol&lt;/span&gt; &amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;NSObject&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;@optional&lt;/span&gt;
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)someOptionalMethod;
&lt;span class=&quot;hljs-keyword&quot;&gt;@end&lt;/span&gt;

&lt;span class=&quot;hljs-comment&quot;&gt;//åˆ›å»º&lt;/span&gt;
XLYMultiCastDelegate *multiDelegate = [[XLYMultiCastDelegate alloc] initWithConformingProtocol:&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;@protocol&lt;/span&gt;(&lt;span class=&quot;hljs-title&quot;&gt;SimpleProtocol&lt;/span&gt;)];&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;//æ·»åŠ ä»£ç†&lt;/span&gt;
[multiDelegate addDelegate:&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt; dispatchQueue:dispatch_get_main_queue()];
&lt;span class=&quot;hljs-comment&quot;&gt;//éœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹æ¥ä¿å­˜multiCastDelegateå®ä¾‹&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.multiDelegate = (&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;&amp;lt;SimpleProtocol&amp;gt;)multiDelegate;
&lt;span class=&quot;hljs-comment&quot;&gt;//å¯ä»¥æ£€æŸ¥æ˜¯å¦å®ç°äº†åè®®&lt;/span&gt;
&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt; result = [&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;.multiDelegate conformsToProtocol:&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;@protocol&lt;/span&gt;(&lt;span class=&quot;hljs-title&quot;&gt;SimpleProtocol&lt;/span&gt;)];&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è°ƒç”¨å…¶å®å¾ˆç®€å•, é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªmultiDelegateå¯¹è±¡, SimpleProtocolçœŸçš„å¾ˆsimple, åªæœ‰ä¸€ä¸ªå¯é€‰æ–¹æ³•. æ·»åŠ ä»£ç†æ—¶å¯ä»¥æŒ‡å®šdispatchQueueå‚æ•°, è¿™ä¸ªQueueå°†æ˜¯ä»£ç†æ–¹æ³•è¢«è°ƒèµ·çš„Queue, è§£å†³äº†é€šçŸ¥ä¸­å¿ƒä¸èƒ½å¾€ä¸åŒçš„çº¿ç¨‹æˆ–Queueå‘é€é€šçŸ¥çš„é—®é¢˜. åˆ›å»ºäº†multiDelegateå¯¹è±¡å½“ç„¶éœ€è¦æ‰¾ä¸ªåœ°æ–¹å­˜èµ·æ¥. ä»¥åä¹Ÿå¯ä»¥éšæ—¶æ·»åŠ æˆ–è€…ç§»é™¤delegate. å½“ç„¶ä½ å¯ä»¥æ£€æŸ¥multiDelegateæ˜¯å¦å®ç°äº†åè®®, ç»“æœæ˜¯YES.&lt;/p&gt;
&lt;h3 id=&quot;åŸç†è¯´æ˜&quot;&gt;&lt;a href=&quot;#åŸç†è¯´æ˜&quot; class=&quot;headerlink&quot; title=&quot;åŸç†è¯´æ˜&quot;&gt;&lt;/a&gt;åŸç†è¯´æ˜&lt;/h3&gt;&lt;p&gt;ä¸‹é¢è¯¦ç»†è¯´æ˜ä¸€ä¸‹å®ç°çš„ç»†èŠ‚å’Œéœ€è¦æ³¨æ„çš„é—®é¢˜, ä¼šæ¶‰åŠåˆ°ä¸€äº›runtimeçš„çŸ¥è¯†, è¿™é‡Œä¸åšè¯¦ç»†çš„ä»‹ç», éœ€è¦äº†è§£çš„è¯·å‚é˜…&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è‹¹æœçš„æ–‡æ¡£&lt;/a&gt;. è¿™é‡Œå…ˆä»…å¯¹OCç¯å¢ƒè¿›è¡Œè¯´æ˜, swiftçš„åé¢å•ç‹¬è¯´æ˜.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åè®®æ£€æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åè®®æ˜¯ä¸€ä¸ª&lt;code&gt;Protocol *&lt;/code&gt;ç±»å‹. ä»£ç ä¸­å¯ä»¥è¿™æ ·å£°æ˜å˜é‡å’Œè·å–åè®®:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//å£°æ˜ä¸ºproperty&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;strong&lt;/span&gt;) Protocol *protocol;

&lt;span class=&quot;hljs-comment&quot;&gt;//è·å–&lt;/span&gt;
&lt;span class=&quot;hljs-built_in&quot;&gt;NSString&lt;/span&gt; *protocolName = &lt;span class=&quot;hljs-string&quot;&gt;@&quot;SimpleProtocol&quot;&lt;/span&gt;;
Protocol *protocol = objc_getProtocol(protocolName.UTF8String);

&lt;span class=&quot;hljs-comment&quot;&gt;//æˆ–è€…&lt;/span&gt;
Protocol *protocol = &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;@protocol&lt;/span&gt;(&lt;span class=&quot;hljs-title&quot;&gt;SimpleProtocol&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬éœ€è¦è®°å½•ä¸‹å½“å‰å¤šæ’­ä»£ç†æ‰€æ”¯æŒçš„åè®®, åè®®åœ¨runtimeç¯å¢ƒé‡Œé¢åº”è¯¥æ˜¯å•ä¾‹çš„å½¢å¼å­˜åœ¨çš„. åœ¨æ·»åŠ æ–°çš„delegateåˆ°å¤šæ’­ä»£ç†ä¸­æ—¶è¿›è¡Œçš„æ£€æŸ¥å¾ˆç®€å• &lt;code&gt;[delegate conformsToProtocol:self.protocol]&lt;/code&gt;, å¦‚æœé€šè¿‡åˆ™å…è®¸æ·»åŠ . å†…éƒ¨ä¼šåˆ›å»ºä¸€ä¸ªdelegateNodeå¯¹è±¡æ¥weakæŒæœ‰æ·»åŠ çš„delegate, å¹¶è®°å½•å¯¹åº”çš„delegateQueue. è¿˜æœ‰ä¸€äº›æ·»åŠ åˆ é™¤çš„ç®¡ç†delegateçš„æ–¹æ³•å°±ä¸å¤šè¯´, éƒ½æ˜¯äº›ç®€å•é€»è¾‘.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;runtimeæ”¯æŒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡å†™ &lt;code&gt;-[NSObject conformsToProtocol:]&lt;/code&gt;æ–¹æ³•, åˆ¤å®šæ˜¯å¦å®ç°äº†æŸä¸ªåè®®. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡å†™ &lt;code&gt;-[NSObject respondsToSelector:]&lt;/code&gt;æ–¹æ³•, éå†ç°æœ‰çš„ä»£ç†, åªè¦ä»»ä½•ä¸€ä¸ªèƒ½å¤Ÿå“åº”åˆ™è®¤ä¸ºèƒ½å¤Ÿå“åº”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡å†™ &lt;code&gt;-[NSObject methodSignatureForSelector:]&lt;/code&gt;æ–¹æ³•, è¯¦ç»†æ–‡æ¡£è¯´æ˜å‚è€ƒappleçš„runtimeæ–‡æ¡£, æˆ‘ä»¬è¿™é‡Œçš„åœºæ™¯æ˜¯multiDelegateè‡ªå·±ä¸èƒ½å“åº”æ–¹æ³•è°ƒç”¨, å› æ­¤éœ€è¦åšè°ƒç”¨è½¬å‘, è¿™ä¸ªæ—¶å€™è¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨æ¥ç»™&lt;code&gt;NSInvocation&lt;/code&gt;å¯¹è±¡è®¾ç½®æ–¹æ³•ç­¾å. æ˜¯ä¸ºè‡ªå·±ä¸èƒ½å“åº”çš„æ–¹æ³•å¯»æ‰¾æ–¹æ³•ç­¾å, ä»ç„¶éå†ç°æœ‰çš„ä»£ç†, æ‰¾åˆ°ä¸€ä¸ªæ­£ç¡®åœ°ç­¾åå³å¯. ç­¾åè®°å½•äº†è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ç±»å‹, receiverçš„ç±»å‹, ä»¥åŠå‚æ•°ä¸ªæ•°ç­‰ä¿¡æ¯. å¦‚æœæ²¡æœ‰delegateèƒ½å¤Ÿæä¾›ç­¾å, åˆ™é»˜è®¤æä¾›doNothingçš„æ–¹æ³•ç­¾å, æ­£å¦‚å…¶å, å•¥ä¹Ÿä¸åš, åªæ˜¯ä¸ºäº†ä¸å´©æºƒ. è¿™ä¸ªè¡Œä¸ºä¹Ÿå¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯æ²¡æœ‰æ¥å—è€…åˆ™ä¸¢å¼ƒ.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡å†™ &lt;code&gt;-[NSObject forwardInvocation:]&lt;/code&gt;æ–¹æ³•, è¿™é‡Œå°±æ˜¯æœ€é‡è¦çš„åœ°æ–¹. å½“ä¸€ä¸ªå¯¹è±¡ä¸èƒ½ç›¸åº”ä¸€ä¸ªselectorè°ƒç”¨æ—¶, æ»¡è¶³ä¸€äº›æ¡ä»¶çš„æƒ…å†µä¸‹æœ€ç»ˆä¼šèµ°åˆ°è¿™é‡Œ, æ¡ä»¶å¦‚ä½•è¾¾æˆè¯·å‚é˜…&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è‹¹æœæ–‡æ¡£&lt;/a&gt;, å½“ç„¶æˆ‘ä»¬è¿™é‡Œæ˜¯è¾¾æˆäº†, ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªinvocationå¯¹è±¡, å®ƒåŒ…å«äº†æ–¹æ³•ç­¾å, å‚æ•°ç­‰ä¿¡æ¯, æ˜¯å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ–¹æ³•è°ƒç”¨çš„ä¸€ä¸ªå°è£…. NSInvocationå¯¹è±¡æœ‰ä¸€ä¸ªæ–¹æ³•&lt;code&gt;-[NSInvocation invokeWithTarget:]&lt;/code&gt;, å…¶ä½œç”¨å°±æ˜¯å°†targetä½œä¸ºæ–¹æ³•è°ƒç”¨çš„receiverè¿›è¡Œè°ƒç”¨, å‚æ•°ä¸å˜. æ‰€ä»¥æˆ‘ä»¬å°†éå†æ‰€æœ‰çš„delegate, å¹¶åœ¨å®ƒä»¬çš„delegateQueueé‡Œé¢è¿›è¡Œè°ƒç”¨, è¿™æ ·å°±å®Œæˆäº†æ¶ˆæ¯è°ƒç”¨çš„è½¬å‘.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;éœ€è¦æ³¨æ„çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#éœ€è¦æ³¨æ„çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;éœ€è¦æ³¨æ„çš„é—®é¢˜&quot;&gt;&lt;/a&gt;éœ€è¦æ³¨æ„çš„é—®é¢˜&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;åˆ›å»ºXLYMultiCastDelegateå®ä¾‹, æ·»åŠ ç§»é™¤delegateç­‰ç®¡ç†æ“ä½œéƒ½æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„, éœ€è¦ä½¿ç”¨è€…ç»´æŠ¤.&lt;/li&gt;
&lt;li&gt;æœ¬è´¨ä¸Šæ˜¯æƒ³ç”¨ä»£ç†æ–¹æ³•è°ƒç”¨æ¥å®Œæˆé€šçŸ¥, å› æ­¤åº”è¯¥å°†å…¶åº”ç”¨äºæ²¡æœ‰è¿”å›å€¼çš„ä»£ç†æ–¹æ³•. å¦‚æœä¸€å®šè¦å‘é€å¸¦è¿”å›å€¼çš„æ–¹æ³•è°ƒç”¨, å†…éƒ¨é€»è¾‘ä¼šåœ¨å‘é€è°ƒç”¨çš„çº¿ç¨‹ä¸­åŒæ­¥å¯»æ‰¾ç¬¬ä¸€ä¸ªèƒ½å¤Ÿå“åº”æ­¤æ–¹æ³•çš„delegateå¹¶è°ƒç”¨. è¿™é‡Œä¸èƒ½ä½¿ç”¨dispatch_async, å¿…é¡»åŒæ­¥è°ƒç”¨, å¦åˆ™è°ƒç”¨è€…ä¼šç«‹å³å¾—åˆ°nilçš„è¿”å›å€¼.&lt;/li&gt;
&lt;li&gt;éå†delegateå¹¶è¿›è¡Œæ–¹æ³•è°ƒç”¨çš„forå¾ªç¯ä½¿ç”¨äº†ä¿¡å·é‡æ¥è¿›è¡ŒåŒæ­¥. Invocationä¸æ”¯æŒcopy, å¹¶ä¸”æœ‰ä¸€ä¸ªé—®é¢˜: å¦‚æœåœ¨ä¸åŒçš„çº¿ç¨‹åŒæ—¶å¯¹åŒä¸€ä¸ªinvocationå¯¹è±¡è°ƒç”¨&lt;code&gt;-[NSInvocation invokeWithTarget:]&lt;/code&gt;, å¯èƒ½ä¼šå‡ºé”™, è¿™ä¸ªé”™è¯¯ä¸æ˜¯å´©æºƒ, è€Œæ˜¯targetçš„å¤„ç†é”™è¯¯. æ¯”å¦‚å¯¹A,BåŒæ—¶è¿›è¡Œè°ƒç”¨, invokeè°ƒç”¨æ—¶åº”è¯¥ä¼šè®°å½•å½“å‰çš„receiver(æ ¹æ®ç»“æœç°è±¡æ¨æ–­çš„), ä¸­é—´è¿˜ä¼šç»è¿‡ä¸€äº›æ­¥éª¤æ‰ä¼šçœŸæ­£å‘èµ·è°ƒç”¨, Aå…ˆè¢«è®°å½•, åœ¨å‘èµ·è°ƒç”¨å‰, Båˆè¢«è®°å½•, åˆ™ä¸¤æ¬¡è°ƒç”¨çš„ç»“æœä¼šæ˜¯è°ƒç”¨äº†ä¸¤æ¬¡B. å› æ­¤éœ€è¦åŒæ­¥ä¸€ä¸‹, ä¿è¯invocationå¯¹è±¡çš„ä¸²è¡Œä½¿ç”¨.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;swiftæ”¯æŒ&quot;&gt;&lt;a href=&quot;#swiftæ”¯æŒ&quot; class=&quot;headerlink&quot; title=&quot;swiftæ”¯æŒ&quot;&gt;&lt;/a&gt;swiftæ”¯æŒ&lt;/h3&gt;&lt;p&gt;å¾ˆä¸å·§, è‹¹æœå‘å¸ƒçš„æ–°çš„ç¼–ç¨‹è¯­è¨€swiftå¯¹runtime, KVO, KVCçš„æ”¯æŒå¾ˆä¸å‹å¥½. swiftåŠ å…¥äº†æ¨¡å—çš„æ¦‚å¿µæ¥è§£å†³OCå¤šå¹´çš„å…¨å±€ç¬¦å·è¡¨çš„ç—›, è¿˜æœ‰å¯é€‰å€¼ä»€ä¹ˆçš„ä¸€äº›æ–°æ¦‚å¿µ. å…¶ä»–çš„ç‰¹æ€§å°±æ˜¯5ä»æœˆé¥¼. å¦‚æœèƒ½å¤Ÿä¹ æƒ¯OCä¸­çš„block, é—­åŒ…, é‚£ä¹ˆswifté‡Œé¢çš„ä¸œè¥¿å°±æ²¡å•¥é—®é¢˜äº†, éƒ½æ˜¯äº›è¯­è¨€ç»†èŠ‚, åº•å±‚ä¾ç„¶æ˜¯runtimeæ¥æ”¯æ’‘, å¯ä»¥å’ŒOCæ··åˆç¼–è¯‘. ç»†èŠ‚è¯·å‚é˜…&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;swift&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æƒ³ç›´æ¥ç”¨swifté‡æ–°å®ç°çš„, ç»“æœè¢«ç›´æ¥æ‹’ç»äº†. swiftä¸­ä¸å…è®¸ä½¿ç”¨NSInvocationå¯¹è±¡, åªèƒ½æ··ç¼–äº†. è·å–åè®®å¯¹è±¡æ—¶éœ€è¦æ³¨æ„æ˜¯å¦æ˜¯swiftä¸­å®šä¹‰çš„åè®®:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;null hljs&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//ä½¿ç”¨ocä¸­å®šä¹‰çš„åè®®æ²¡æœ‰æ¨¡å—&lt;/span&gt;
&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-title&quot;&gt;XLYMultiCastDelegate&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(protocolName: &lt;span class=&quot;hljs-string&quot;&gt;&quot;SimpleProtocol&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;hljs-comment&quot;&gt;//ä½¿ç”¨ swiftå®šä¹‰çš„åè®®éœ€è¦åŠ ä¸Šæ¨¡å—ä¿¡æ¯, å¦åˆ™æ— æ³•è·å–&lt;/span&gt;
&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-title&quot;&gt;XLYMultiCastDelegate&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(protocolName: &lt;span class=&quot;hljs-string&quot;&gt;&quot;XLYMultiCastDelegateDemo.SimpleSwiftProtocol&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶ååœ¨è°ƒç”¨æ—¶éœ€è¦ç”¨asè¿›è¡Œç±»å‹è½¬æ¢æ‰èƒ½è°ƒç”¨æ–¹æ³•. &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;null hljs&quot;&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;multiDelegate &lt;/span&gt;= &lt;span class=&quot;hljs-keyword&quot;&gt;multiDelegateUsingOCProtocol &lt;/span&gt;as SimpleProtocol&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿è¡Œæ—¶ä¼šä½¿ç”¨&lt;code&gt;-[NSObject respondsToSelector:]&lt;/code&gt;æ¥è¿›è¡Œæ£€æŸ¥æ˜¯å¦å¯ä»¥è½¬æ¢. è½¬æ¢æˆåŠŸåå°±å¯ä»¥è¿›è¡Œè°ƒç”¨äº†.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;null hljs&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;multiDelegate&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.someOptionalMethod&lt;/span&gt;!()&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;æ€»ç»“-2&quot;&gt;&lt;a href=&quot;#æ€»ç»“-2&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;æ¶ˆæ¯è½¬å‘æœºåˆ¶ç”±è¯­è¨€æ”¯æŒ, åº”è¯¥æ˜¯å—åˆ°äº†smalltalkçš„å½±å“, rubyä¹Ÿæœ‰ç±»ä¼¼çš„æœºåˆ¶. swiftæƒ³è¦åšæˆä¸€ä¸ªç±»å‹å®‰å…¨çš„è¯­è¨€, æ”¯æŒå¤ªå¤šåŠ¨æ€çš„ç‰¹æ€§ä¼šè®©å¾ˆå¤šä¸œè¥¿å¤±å»ä¿è¯. æ€»ä¹‹, å·¥æ¬²å–„å…¶äº‹, å¿…å…ˆåˆ©å…¶å™¨. å¤šäº†è§£ä¸€äº›è¯­è¨€çš„ç‰¹æ€§, èƒ½å¤Ÿå­¦åˆ°ä¸€äº›æŠ€æœ¯çš„è®¾è®¡æ€è·¯, è¿˜èƒ½å¸®åŠ©ç®€åŒ–ç¨‹åºè®¾è®¡, åŒæ—¶æé«˜é€¼æ ¼ğŸ˜œ.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;é€šçŸ¥ä¸­å¿ƒNSNotificationCenter, å¤§å®¶éƒ½çŸ¥é“æ€ä¹ˆç”¨. éœ€è¦add observer, æŒ‡å®šselector, æŒ‡å®šç›‘å¬çš„é€šçŸ¥(å­—ç¬¦ä¸²), åœ¨selectorå¯¹åº”çš„æ–¹æ³•ä¸­è·å–userInfoå­—å…¸, æ ¹æ®keyè·å–valueè¿›è¡Œæ“ä½œ, æœ€åè¿˜å¾—åœ¨æŸä¸ªæ—¶æœºrem
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="GitHub" scheme="http://yoursite.com/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>XLYMapping System</title>
    <link href="http://yoursite.com/2014/10/09/XLYMapping_System/"/>
    <id>http://yoursite.com/2014/10/09/XLYMapping_System/</id>
    <published>2014-10-09T10:00:00.000Z</published>
    <updated>2016-04-04T10:12:43.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/kaizeiyimi/XLYMapping/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYMapping&lt;/a&gt; æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå°†JSONå¯¹è±¡(NSDictionaryæˆ–è€…NSArray)æ˜ å°„åˆ°æœ¬åœ°å¯¹è±¡çš„åº“. å¯ä»¥ç®€åŒ–ä»æœåŠ¡ç«¯è¯·æ±‚åˆ°æ•°æ®åçš„å­—æ®µå¡«å……æ“ä½œ. å½“ç„¶, å®ƒæ˜¯æœ¬äººå¼€å‘çš„ğŸ˜ƒ.&lt;/p&gt;
&lt;p&gt;å¾ˆæ—©ä»¥å‰(ä¸€å¹´å¤š)æ¥è§¦äº†&lt;a href=&quot;https://github.com/RestKit/RestKit/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;restkit&lt;/a&gt;, å®ƒå¾ˆå¼ºå¤§, é’ˆå¯¹ restful çš„APIå°è£…äº†ç½‘ç»œè¯·æ±‚, JSONå¯¹è±¡çš„æ˜ å°„, åŒ…æ‹¬æ™®é€šå¯¹è±¡å’Œå—ç®¡å¯¹è±¡(&lt;code&gt;NSManagedObject&lt;/code&gt;), å¹¶ä¸”å¯¹å—ç®¡å¯¹è±¡è¿˜é¢å¤–æä¾›äº†è®¸å¤šä¾¿åˆ©çš„æ–¹æ³•. å®ƒé›†æˆäº†&lt;a href=&quot;https://github.com/AFNetworking/AFNetworking/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AFNetworking&lt;/a&gt;è¿™ä¸ªå…¬è®¤å¾ˆå¥½çš„ç½‘ç»œåº“æ¥æä¾›ç½‘ç»œè¯·æ±‚, ä½¿å¾—ä½¿ç”¨restkitçš„å¼€å‘è€…èƒ½å¤Ÿæå¤§å¾—å‡å°‘è¯·æ±‚å’Œæ•°æ®è½¬æ¢çš„ä»£ç é‡.&lt;/p&gt;
&lt;p&gt;éšç€æ—¶é—´è¿ç§», æˆ‘å¯¹å®ƒçš„çœ‹æ³•æŒä¸€äº›ä¿ç•™æ€åº¦äº†. ä¸æ˜¯è¯´æˆ‘è§‰å¾—ä»–ä¸å¥½, æˆ‘åªæ˜¯æ„Ÿè§‰å®ƒå¤ªæƒ³åšå¾—å¤§è€Œå…¨äº†. æˆ‘å¯¹å®ƒçš„æ¶æ„å¹¶æ²¡æœ‰åšè¿‡ç‰¹åˆ«æ·±å…¥çš„ç ”ç©¶, åªæ˜¯ä½¿ç”¨äº†å°†è¿‘1å¹´çš„æ—¶é—´, è€Œè¿™æœŸé—´æ¥è§¦æœ€å¤šçš„æ˜¯æ˜ å°„ç³»ç»Ÿ. å› ä¸ºæˆ‘ä»¬çš„appéœ€è¦åŒæœåŠ¡ç«¯åšç‰¹åˆ«å¤šçš„è¯·æ±‚, å¯¹åº”çš„å…ƒæ•°æ®çš„ç§ç±»ä¹Ÿç‰¹åˆ«å¤š, ç»å¸¸è¿˜ä¼šé‡åˆ°ä¸€ä¸ªæ¥å£ä¸‹å‘å®Œå…¨ä¸åŒçš„æ•°æ®, è¿˜å¥½æœ‰restkitæä¾›çš„ä¸°å¯Œçš„mappingæ–¹å¼, è®©æˆ‘ä»¬èƒ½å¤Ÿholdä½å„ç§å¥‡è‘©çš„éœ€æ±‚. é™¤äº†æ˜ å°„ç³»ç»Ÿ, restkitè¿˜æä¾›äº†ä¸€äº›å‹å¥½çš„æ¥å£æ¥ç”Ÿæˆè¯·æ±‚å¯¹è±¡, ç®¡ç†è¯·æ±‚é˜Ÿåˆ—, è·¯ç”±ç­‰, è¿˜æœ‰ä¸€äº›&lt;code&gt;CoreData&lt;/code&gt;çš„æ”¯æŒ, ä»¥åŠ&lt;code&gt;search, testing&lt;/code&gt;ç­‰(è¿™ä¸¤ä¸ªæˆ‘æ²¡æœ‰ç ”ç©¶è¿‡).&lt;/p&gt;
&lt;p&gt;æˆ‘è§‰å¾—å®ƒå¤ªå¤æ‚äº†. æˆ‘æ›¾ç»æƒ³æŠŠå®ƒçš„æ˜ å°„ç³»ç»Ÿæ‰’å‡ºæ¥, å¾ˆå¿«å°±æ”¾å¼ƒäº†. æƒ³æ‰’å‡ºæ¥çš„åŸå› æ˜¯è¿™æ ·: é¦–å…ˆ, coreDataæˆ‘æ¯”è¾ƒç†Ÿæ‚‰, restkitæä¾›çš„å…³äºcoreDataçš„æ“ä½œæˆ‘å¾ˆå¤šéƒ½ç”¨ä¸ä¸Š. å…¶æ¬¡, AFNetworkingå‡çº§åˆ°äº†2.x, æ¶æ„è¿›è¡Œäº†å¤§è°ƒæ•´, åŠ å…¥äº†&lt;code&gt;NSURLSession&lt;/code&gt;çš„æ”¯æŒ, æˆ‘æƒ³ç”¨, ä½†æ˜¯å¾ˆé—æ†¾, restkitåœ¨é›†æˆAFNetworkingæ—¶æ²¡æœ‰è¿›è¡Œå‘½åæ›¿æ¢, åŠ ä¸ŠOCä¸€äº›è‡ªèº«çš„åŸå› , æƒ³è¦ä½¿ç”¨2.xç‰ˆæœ¬çš„AFNetworkingå¾ˆä¸æ–¹ä¾¿. æœ€å, appæœ¬èº«ä¸€èˆ¬éƒ½ä¸ä¼šå¤ªå¤æ‚, restkitæä¾›çš„åŠŸèƒ½è‡³å°‘åœ¨æˆ‘æ‰€å¼€å‘çš„å‡ ä¸ªappä¸­å¤ªé‡é‡çº§äº†, å¯¹æˆ‘è€Œè¨€çœŸæ­£ç”¨å¾—ä¸Šçš„å°±æ˜¯æ˜ å°„ç³»ç»Ÿ. (è¿˜æœ‰ä¸€äº›åŸå› å°±ä¸æ–¹ä¾¿åœ¨è¿™é‡Œè¯´äº†, ğŸ˜)&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå›½åº†æ‰“ç®—å’Œä¸€ä¸ªåŒå­¦å¼€å‘ä¸€ä¸ªappç©å„¿, æ­£å¥½ä¹Ÿå°±æƒ³è‡ªå·±å®ç°ä¸€ä¸ªæ˜ å°„ç³»ç»Ÿ, æˆ‘å¯ä¸æƒ³åœ¨ä¸€ä¸ªé‚£ä¹ˆç®€å•çš„appé‡Œé¢ä½¿ç”¨restkit... æˆ‘ä¸€ç›´éƒ½ä¸å–œæ¬¢æŠŠä¸œè¥¿æå¾—å¤ªå¤æ‚, æ¶æ„çš„ç¾å°±åœ¨äºè¶³å¤Ÿç®€å•åˆèƒ½å¤Ÿè½»æ˜“æ‰©å±•å’Œä¿®æ”¹. äºæ˜¯èŠ±äº†2å¤©å·¦å³å®Œæˆäº†å¼€å‘, åé¢åˆæ ¹æ®éœ€æ±‚åšäº†ä¸€äº›è°ƒæ•´, æ”¯æŒæ˜ å°„åˆ°å­—å…¸, å†åæ¥è¿˜æ”¹äº†ä¸€ç‚¹å„¿ä¸œè¥¿æ¥æ”¯æŒåœ¨swifté‡Œé¢ä½¿ç”¨, è™½ç„¶è¦ä»˜å‡ºä¸€äº›ä»£ä»·.&lt;/p&gt;
&lt;p&gt;ä»£ç å¯ä»¥çœ‹æˆ‘çš„&lt;a href=&quot;https://github.com/kaizeiyimi/XLYMapping/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYMapping repo&lt;/a&gt;, æ€»ä¹‹, æ•´ä½“çš„è®¾è®¡æ€è·¯å…¶å®å¾ˆç®€å•, JSONå¯¹è±¡æ˜¯æ ‘å½¢ç»“æ„, äºæ˜¯æˆ‘ä¹Ÿç”¨æ ‘å‹ç»“æ„æ¥æ˜ å°„, åŸºæœ¬ä¸Šæ˜¯ä¸ªæ·±åº¦ä¼˜å…ˆçš„é€’å½’. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ‰willMapçš„å›è°ƒä»¥ä¿®æ”¹å°†è¦è¿›è¡Œæ˜ å°„çš„JSONå¯¹è±¡, è¿”å›nilå°†å–æ¶ˆæ˜ å°„. ä¹Ÿæœ‰dynamic mappingçš„å›è°ƒå…è®¸ç”¨æˆ·ä¸´æ—¶æ›´æ¢mappingè§„åˆ™. &lt;/li&gt;
&lt;li&gt;æŠ½è±¡äº†æ¯ä¸€æ¬¡çš„mapæ“ä½œ, å…è®¸åšå…³ç³»æ˜ å°„--å°†ä¸€ä¸ªå¯¹è±¡æ˜ å°„ä¸ºå¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§, ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢æ˜ å°„--ç”±ç”¨æˆ·è‡ªå·±è¿›è¡ŒæŸæ®µJSONçš„æ˜ å°„, æˆ–è€…é»˜è®¤æ˜ å°„--å•¥ä¹Ÿä¸æ”¹. &lt;/li&gt;
&lt;li&gt;æ¯æ˜ å°„ä¸€æ¬¡éƒ½ä¼šå¯¹ç»“æœè¿›è¡Œæ ¡æ­£, ä¸€æ–¹é¢é¿å…KVCè®¾ç½®å€¼æ—¶å¯¹è±¡çš„ç±»å‹ä¸åŒ¹é…, å¦ä¸€æ–¹é¢è¿‡æ»¤nullå€¼.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¶æ„æ˜¯æ”¯æŒæ‰©å±•çš„, ç°é˜¶æ®µæ²¡æœ‰æš´éœ²ç»§æ‰¿ç”¨çš„method, å—ç®¡å¯¹è±¡çš„æ˜ å°„ä¹Ÿæ˜¯ç»§æ‰¿è‡ªæ™®é€šå¯¹è±¡çš„æ˜ å°„å¹¶ä¸”å†™åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢çš„. æ¥å£å¾ˆç®€å•, åŒä¸€ä¸ªæ˜ å°„ç›®çš„å¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼æ¥ç»„åˆ, åŠŸèƒ½è¿˜æ˜¯å¾ˆå¼ºå¤§çš„. ä½¿ç”¨æ–¹å¼å’Œrestkitçš„å¾ˆç›¸ä¼¼, æ¯•ç«Ÿä¹Ÿå—åˆ°äº†ä¸€äº›å¯å‘. ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒ&lt;a href=&quot;https://github.com/kaizeiyimi/XLYMapping/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYMapping&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;ä¹Ÿåšäº†ä¸€äº›ç®€å•çš„æ€§èƒ½æµ‹è¯•, æ˜ å°„çš„æ–¹å¼å’ŒrestkitåŸºæœ¬ä¸€æ ·(ç›®æ ‡å¯¹è±¡çš„å±‚æ¬¡ç»“æ„, æ˜ å°„çš„è§„åˆ™). æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥å£å¯ä»¥è¿”å›5000ä¸ªæ•°æ®, æ¯ä¸ªæ•°æ®æœ‰15ä¸ªåŸºæœ¬å±æ€§, æœ‰1ä¸ªåµŒå¥—çš„å¯¹è±¡(ä½¿ç”¨relationshipMapping), 4ä¸ªä½¿ç”¨keyPathè®¿é—®çš„å±æ€§, è¿˜æœ‰ä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰æ˜ å°„æ„å»ºçš„å±æ€§, å¯¹äºæ¯ä¸ªæ•°æ®,éœ€è¦åˆ›å»º2ä¸ªå¯¹è±¡å¹¶å¯¹24ä¸ªå±æ€§è¿›è¡Œæ˜ å°„. é‡è¿˜æ˜¯ä¸å°çš„, 5000ä¸ªæ•°æ®, iPhone4sç”¨äº†2.55s. æ¨¡æ‹Ÿå™¨ä½¿ç”¨MACçš„CPUåˆ™èŠ±äº†0.21s. çŠ¹è®°å¾—å½“å¹´æˆ‘ä»¬1000ä¸ªæ•°æ®, åœ¨ipad2ä¸Šä½¿ç”¨restkitçš„mappingèŠ±äº†1åˆ†å¤šé’Ÿ...(é‚£æ˜¯é‚£ä¸ªå¹´ä»£çš„äº‹æƒ…, è¿‡äº†ä¸€å¹´äº†åº”è¯¥æœ‰æ”¹å–„å§?ğŸ˜œ)&lt;/p&gt;
&lt;p&gt;åœ¨swifté‡Œé¢ä¹Ÿå°è¯•äº†ä¸€ä¸‹. ä¸å¾—ä¸åæ§½ä¸€ä¸‹è‹¹æœ, ä½ XXçš„, swifté‡Œé¢kvcå’Œkvoå¼±çˆ†äº†, åˆ°å¤„éƒ½æ˜¯å‘, è€Œä¸”ä¸€äº›runtimeçš„ç‰¹æ€§ä¹Ÿè¢«å°æ€å’Œè°ƒæ•´äº†, å°±ç®—ç”¨OCç¼–å†™å†ç”¨bridge headeræš´éœ²ç»™swiftç”¨ä¹Ÿå­˜åœ¨å¾ˆå¤šé—®é¢˜, è¿™é‡Œå°±ä¸è¯¦ç»†åæ§½äº†ğŸ˜©. å¦‚æœå¾ˆå–œæ¬¢æˆ‘è¿™ä¸ªå°åº“, ä¸€å®šæƒ³è¦åœ¨swifté‡Œé¢åº”ç”¨çš„è¯, è¯·çœ‹&lt;a href=&quot;https://github.com/kaizeiyimi/XLYMapping/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYMapping&lt;/a&gt;é‡Œé¢çš„è§£é‡Š, å¸Œæœ›ä½¿ç”¨æ„‰å¿«.&lt;/p&gt;
&lt;p&gt;æ€»ä¹‹æ¬¢è¿ä½¿ç”¨å’Œæ‹ç –. æˆ‘çš„å°appå·²ç»ç”¨è¿™ä¸ª&lt;code&gt;mapping system&lt;/code&gt; å’Œ &lt;code&gt;AFNetworking 2&lt;/code&gt; æ¶æ„èµ·æ¥äº†, æ•´ä¸ªhttpè¯·æ±‚å±‚çš„æ ¸å¿ƒä»£ç ä¸åˆ°200è¡Œ. çˆ½åˆ°ä¸è¡Œå•Š~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/kaizeiyimi/XLYMapping/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XLYMapping&lt;/a&gt; æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå°†JSONå¯¹è±¡(NSDictionaryæˆ–è€…NSArray)æ˜ å°„åˆ°æœ¬
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="GitHub" scheme="http://yoursite.com/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>iOS ç¼–è¯‘è¿è¡Œéƒ¨ç½²å’Œå‘å¸ƒéƒ¨ç½²çš„ä¸€ä¸ªå·®å¼‚</title>
    <link href="http://yoursite.com/2014/06/17/difference_between_debug_run_and_Archive_run/"/>
    <id>http://yoursite.com/2014/06/17/difference_between_debug_run_and_Archive_run/</id>
    <published>2014-06-17T05:00:00.000Z</published>
    <updated>2016-04-04T10:14:09.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸çŸ¥é“æˆ‘æ ‡é¢˜è¯´æ˜ç™½äº†æ²¡æœ‰ï¼Œç¼–è¯‘è¿è¡Œéƒ¨ç½²å°±æ˜¯ä½¿ç”¨xcodeç›´æ¥build and runå°†ç¨‹åºç¼–è¯‘åç›´æ¥è¿è¡Œåˆ°æ‰‹æœºä¸Šï¼Œè¿™æ ·å¯ä»¥è°ƒè¯•ã€‚å‘å¸ƒéƒ¨ç½²å°±æ˜¯ä½¿ç”¨achiveæ‰“åŒ…ä¸€ä¸ªipaå†å°†ipaå®‰è£…åˆ°æ‰‹æœºä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™é‡Œå°±åªè¯´ä¸€ä¸ªé—®é¢˜ï¼Œä¸è¿‡æˆ‘è§‰å¾—è‚¯å®šè¿˜æœ‰å…¶å®ƒçš„å·®å¼‚ã€‚è¿™ä¸ªé—®é¢˜è¿˜æŒºçƒ¦äººçš„ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚æ—§ç‰ˆä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶Xè¢«å¤åˆ¶è¿›å…¥mainBundleä¸­ï¼Œä½†æ˜¯åœ¨æ–°ç‰ˆä¸­æˆ‘ä¸æœŸæœ›å†ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶Xäº†ï¼Œå› æ­¤åœ¨å·¥ç¨‹ä¸­å°†å…¶åˆ é™¤ï¼Œé‡æ–°ç¼–è¯‘åå»æŸ¥çœ‹äº†ç”Ÿæˆçš„appæ–‡ä»¶ï¼Œé‡Œé¢æ²¡æœ‰X,ç„¶årunåˆ°æ‰‹æœºä¸Šï¼Œæ‚²å‰§çš„å‘ç°æ­¤æ—¶æ–‡ä»¶Xè¿˜åœ¨ï¼Œå®ƒä»ç„¶å­˜åœ¨æ‰‹æœºappç›®å½•ä¸­ã€‚å¯ä»¥é€šè¿‡è¯»å–æ–‡ä»¶å»éªŒè¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›è½¯ä»¶å»æŸ¥çœ‹appçš„mainBundleéƒ½èƒ½è¯æ˜è¿™ä¸ªXå®ƒç¡®å®è¿˜å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœä½ ç”¨achiveæ‰“åŒ…ï¼Œå¾—åˆ°ä¸€ä¸ªipaï¼Œå°†è¿™ä¸ªipaè¦†ç›–å®‰è£…åˆ°æ‰‹æœºä¸Šï¼Œä½ ä¼šå‘ç°è¿™ä¸ªXä¼šè¢«å¹²æ‰ï¼Œiosè¿™ä¸ªæ—¶å€™å°±æ˜¯æ›¿æ¢æ‰äº†æ•´ä¸ªmainBundleã€‚&lt;/p&gt;
&lt;p&gt;Appleä½ è¦ä¸è¦è¿™æ ·ï¼Œè¿™æ ·æˆ‘ä»¬å¼€å‘è€…å¾ˆå›°æ‰°è¯¶ã€‚æ¯”å¦‚æˆ‘çš„æŸä¸ªAPIæ˜¯ä»mainBundleé‡Œé¢æ‰¾å¯»æ‰€æœ‰çš„æŸç±»æ–‡ä»¶ï¼Œç„¶åè¿›è¡Œå¤„ç†ï¼Œä»¥å‰æœ‰Xï¼Œç°åœ¨æˆ‘ä¸æƒ³è¦äº†ï¼Œç»“æœæˆ‘debugå‘ç°è¿™ä¸ªXä¸€ç›´åœ¨ï¼Œé™¤éæˆ‘åˆ æ‰ä»¥å‰çš„appé‡æ–°runï¼Œä½†æ˜¯æˆ‘å°±æ˜¯è¦æµ‹è¯•è¦†ç›–å®‰è£…è¡Œä¸ºå•Šã€‚ã€‚ã€‚å’‹æ•´ï¼Œæˆ‘èƒ½æƒ³åˆ°çš„å°±æ˜¯åœ¨runä¹‹å‰ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹è½¯ä»¶æ¯”å¦‚iFunBoxï¼ŒppåŠ©æ‰‹ç­‰å°†æ–°ç‰ˆä¸­è¦åˆ é™¤çš„æ–‡ä»¶æå‰åˆ æ‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ç§‘å­¦ï¼Appleå®Œå…¨å¯ä»¥å°†debugå’Œachiveå…³äºè¿™ç§æ–‡ä»¶Xçš„è¡Œä¸ºç»Ÿä¸€, æ¯•ç«Ÿç”¨æˆ·ä½¿ç”¨çš„achiveçš„åŒ…ï¼Œä»–ä»¬ä¸ä¼šå­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¸ºä»€ä¹ˆå¼€å‘è€…éœ€è¦æ¥å¤„ç†è¿™ç§æ ¹æœ¬ä¸éœ€è¦å¤„ç†çš„é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¸Œæœ›å¤§å®¶éƒ½æ³¨æ„ä¸€ä¸‹ï¼Œé¿å…å‡ºç°ä¸€äº›æ— æ³•ç†è§£çš„ç°è±¡ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸çŸ¥é“æˆ‘æ ‡é¢˜è¯´æ˜ç™½äº†æ²¡æœ‰ï¼Œç¼–è¯‘è¿è¡Œéƒ¨ç½²å°±æ˜¯ä½¿ç”¨xcodeç›´æ¥build and runå°†ç¨‹åºç¼–è¯‘åç›´æ¥è¿è¡Œåˆ°æ‰‹æœºä¸Šï¼Œè¿™æ ·å¯ä»¥è°ƒè¯•ã€‚å‘å¸ƒéƒ¨ç½²å°±æ˜¯ä½¿ç”¨achiveæ‰“åŒ…ä¸€ä¸ªipaå†å°†ipaå®‰è£…åˆ°æ‰‹æœºä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™é‡Œå°±åªè¯´ä¸€ä¸ªé—®é¢˜ï¼Œä¸è¿‡æˆ‘è§‰å¾—è‚¯å®šè¿˜æœ‰å…¶å®ƒçš„å·®å¼‚ã€‚è¿™ä¸ªé—®é¢˜è¿˜
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="XCode" scheme="http://yoursite.com/tags/XCode/"/>
    
  </entry>
  
  <entry>
    <title>Coding Guidelines for Cocoa ç¿»è¯‘</title>
    <link href="http://yoursite.com/2014/06/10/objective-c_coding_guidelines_translation/"/>
    <id>http://yoursite.com/2014/06/10/objective-c_coding_guidelines_translation/</id>
    <published>2014-06-10T05:00:00.000Z</published>
    <updated>2016-04-07T12:25:58.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;å¾ˆå¤šäººä¸å¤ªæ³¨æ„ä»£ç ç¼–å†™è§„èŒƒï¼Œè¿™é‡Œç¿»è¯‘ä¸€ä¸‹Appleçš„è¿™ä¸ªæ–‡æ¡£ï¼Œå¸Œæœ›å¤§å®¶ä¸€å®šè¦æ³¨æ„å†™ä»£ç çš„è§„èŒƒï¼Œäºäººäºå·±éƒ½æ˜¯ç™¾åˆ©è€Œæ— ä¸€å®³ã€‚
ç¿»è¯‘ä¸é‚£ä¹ˆå‡†ç¡®ï¼Œå¦‚æœè§‰å¾—æœ‰é—®é¢˜å¯ä»¥å‚çœ‹Appleè‡ªå®¶çš„æ–‡æ¡£ã€‚&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html#//apple_ref/doc/uid/10000146i&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;coding Guidelines for Cocoa&lt;/a&gt;. æ¬¢è¿æ‹ç –ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åŸºæœ¬çš„å‘½åè§„åˆ™&quot;&gt;&lt;a href=&quot;#åŸºæœ¬çš„å‘½åè§„åˆ™&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬çš„å‘½åè§„åˆ™&quot;&gt;&lt;/a&gt;åŸºæœ¬çš„å‘½åè§„åˆ™&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€é€šç”¨åŸåˆ™&quot;&gt;&lt;a href=&quot;#ä¸€ã€é€šç”¨åŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€é€šç”¨åŸåˆ™&quot;&gt;&lt;/a&gt;ä¸€ã€é€šç”¨åŸåˆ™&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¸…æ™°&lt;/strong&gt;&lt;br&gt;åº”è¯¥å°½å¯èƒ½çš„æ¸…æ™°å¹¶ä¸”ç®€æ´ï¼Œä½†æ˜¯ä¸èƒ½ä¸ºäº†ç®€æ´è€Œå½±å“æ¸…æ™°æ€§  &lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;&lt;div class=&quot;table_container&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½å&lt;/th&gt;
&lt;th&gt;æ¸…æ™°åº¦&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;insertObject: atIndex:&lt;/td&gt;
&lt;td&gt;good&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;insert:at:&lt;/td&gt;
&lt;td&gt;ä¸æ¸…æ™°ï¼Œåˆ°åº•insertä»€ä¹ˆï¼ŸatæŒ‡çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;remove:&lt;/td&gt;
&lt;td&gt;ä¸æ¸…æ™°ï¼Œè¦removeä»€ä¹ˆ?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;removeObjectAtIndex:&lt;/td&gt;
&lt;td&gt;good&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;&lt;/div&gt;&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ä¹Ÿä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œå°±ç®—å®ƒä»¬æ¯”è¾ƒé•¿ä¹Ÿåº”è¯¥æ‹¼å†™å‡ºæ¥ï¼š&lt;code&gt;setBackgroundColor:&lt;/code&gt; æ€»æ˜¯å¥½è¿‡ &lt;code&gt;setBkgdColor:&lt;/code&gt;ï¼Œä¸€ç›®äº†ç„¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¹Ÿè®¸ä½ ä¼šè®¤ä¸ºä¸€ä¸ªç¼©å†™æ˜¯çš†çŸ¥çš„ï¼Œä½†æ˜¯æœ‰å¯èƒ½é˜…è¯»ä½ ä»£ç çš„äººå’Œä½ æœ‰ä¸åŒçš„æ–‡åŒ–èƒŒæ™¯ï¼Œç¼©å†™çš„å«ä¹‰å°†ä¼šæ··æ·†ã€‚ä¸è¿‡ç¡®å®æœ‰ä¸€äº›ç¼©å†™æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œåé¢ä¼šæåˆ°ã€‚è¿™äº›ç¼©å†™æœ‰å¾ˆæ·±çš„å†å²èƒŒæ™¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸è¦åœ¨APIå‘½åä¸­å¼•å…¥æ­§ä¹‰ï¼Œæ–­å¥å¯èƒ½ä¸åŒï¼Œå¯¼è‡´è¯­æ„ä¹Ÿä¼šä¸åŒã€‚&lt;/p&gt;
&lt;div&gt;&lt;div class=&quot;table_container&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Code&lt;/th&gt;
&lt;th&gt;Commentary&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;sendPort&lt;/td&gt;
&lt;td&gt;è¿™æ˜¯å‘é€portï¼Ÿè¿˜æ˜¯è¯´è¿”å›ä¸€ä¸ªportï¼Ÿæ˜¯åŠ¨è¯è¿˜æ˜¯åè¯ï¼Ÿ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;displayName&lt;/td&gt;
&lt;td&gt;æ˜¯è¦æ˜¾ç¤ºä¸€ä¸ªåå­—ï¼Ÿè¿˜æ˜¯è·å–åå­—ï¼Ÿä»ç„¶ä¸ç¡®å®šæ˜¯åŠ¨è¯è¿˜æ˜¯åè¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸€è‡´æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°½é‡ä¿æŒè·Ÿcocoaæ¥å£ä¸€è‡´çš„APIå‘½åé£æ ¼ã€‚å¦‚æœä½ çš„ç±»éœ€è¦ä»å¤šæ€ç‰¹æ€§ä¸­è·ç›Šï¼Œé‚£ä¹ˆåœ¨ä¸åŒçš„ç±»ä½¿ç”¨ç›¸åŒçš„åå­—å°†ä¼šååˆ†é‡è¦ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;-(&lt;span class=&quot;hljs-built_in&quot;&gt;NSInteger&lt;/span&gt;)tag;
-(&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)setStringValue:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSString&lt;/span&gt; *)value;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸è¦è‡ªå¼•ç”¨ï¼ˆNo Self Referenceï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‘½åä¸è¦è‡ªå…³è”ï¼Œæ¯”å¦‚NSStringObjectå°±ä¸å¥½ã€‚ä½†æ˜¯ä½œä¸ºmaskçš„å¸¸é‡ä»¥åŠnotificationçš„åå­—å‘½åæ˜¯ä¸ªä¾‹å¤–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äºŒã€å‰ç¼€&quot;&gt;&lt;a href=&quot;#äºŒã€å‰ç¼€&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€å‰ç¼€&quot;&gt;&lt;/a&gt;äºŒã€å‰ç¼€&lt;/h3&gt;&lt;p&gt;å‰ç¼€å¯¹äºç¨‹åºæ¥å£æ¥è®²ååˆ†é‡è¦ã€‚å‰ç¼€åˆ’åˆ†äº†åŠŸèƒ½ä¸­çš„æ¨¡å—ã€‚å‰ç¼€é¿å…äº†ç¬¬ä¸‰æ–¹å¼€å‘è€…å’Œè‹¹æœè‡ªèº«å®šä¹‰çš„ç¬¦å·ç›¸å†²çªã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¡¥å……ä¸€å¥ï¼šiosä¸­ä»…æœ‰ä¸€ä¸ªç¬¦å·è¡¨ï¼Œæ‰€æœ‰å•å…ƒç¼–è¯‘åéƒ½åœ¨ä¸€ä¸ªç¬¦å·è¡¨ä¸­ï¼Œå¦‚æœæ²¡æœ‰å‰ç¼€å¾ˆå®¹æ˜“å†²çªçš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‰ç¼€æœ‰å›ºå®šçš„æ ¼å¼ã€‚ä¸€èˆ¬æ˜¯2ä¸ªæˆ–è€…3ä¸ªå¤§å†™å­—æ¯å¹¶ä¸”ä¸å«ä¸‹åˆ’çº¿æˆ–å­å‰ç¼€ã€‚  &lt;/p&gt;
&lt;div&gt;&lt;div class=&quot;table_container&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Prefix&lt;/th&gt;
&lt;th&gt;Cocoa Framework&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;NS&lt;/td&gt;
&lt;td&gt;Foundation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NS&lt;/td&gt;
&lt;td&gt;Application Kit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AB&lt;/td&gt;
&lt;td&gt;Address Book&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IB&lt;/td&gt;
&lt;td&gt;Interface Builder&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;&lt;/div&gt;&lt;p&gt;å‰ç¼€ä½¿ç”¨äºç±»ï¼Œåè®®ï¼Œå‡½æ•°ï¼ˆfunctionï¼‰ï¼Œå¸¸é‡ä»¥åŠtypedefçš„structã€‚ ç±»é‡Œé¢çš„æ–¹æ³•ï¼ˆmethodï¼‰ä¸è¦ä½¿ç”¨å‰ç¼€ï¼ˆç±»æ–¹æ³•æˆ–è€…å®ä¾‹æ–¹æ³•ï¼‰ï¼Œå› ä¸ºå®šä¹‰è¿™äº›æ–¹æ³•çš„ç±»å·²ç»è¡¨è¾¾äº†ä»–ä»¬çš„å‘½åç©ºé—´äº†ã€‚å¦å¤–ï¼Œstructé‡Œé¢çš„å­—æ®µä¹Ÿä¸è¦æ·»åŠ å‰ç¼€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸‰ã€ä¹¦å†™ä¹ æƒ¯&quot;&gt;&lt;a href=&quot;#ä¸‰ã€ä¹¦å†™ä¹ æƒ¯&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€ä¹¦å†™ä¹ æƒ¯&quot;&gt;&lt;/a&gt;ä¸‰ã€ä¹¦å†™ä¹ æƒ¯&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¯¹äºå¤šä¸ªå•è¯ç»„æˆçš„å‘½ååº”è¯¥å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™å¹¶ä¸”ä¸éœ€è¦é€šè¿‡æ ‡ç‚¹ç¬¦å·æ¥è¿æ¥ï¼Œç›´æ¥æ‹¼ä¸€èµ·å°±è¡Œäº†ï¼Œä½¿ç”¨é©¼å³°è§„åˆ™å³å¯ã€‚ä½†æ˜¯å¯¹äºæ–¹æ³•ç¬¬ä¸€ä¸ªå•è¯ä¸å¤§å†™ï¼Œå°å†™å³å¯ã€‚è®°ä½ä¸è¦åŠ å‰ç¼€ã€‚&lt;code&gt;fileExistsAtPath:isDirectory:&lt;/code&gt;ã€‚ ä¸€ä¸ªä¾‹å¤–å°±æ˜¯å¦‚æœæ–¹æ³•æ˜¯ä»¥çš†çŸ¥çš„ç¼©å†™å¼€å§‹ï¼Œæ¯”å¦‚&lt;code&gt;TIFFRepresentation(NSImage *)&lt;/code&gt;ï¼Œé‚£å°±ä¿æŒã€‚å¯¹äºå‡½æ•°å’Œå¸¸é‡ä¿æŒå…¶ç›¸å…³è”çš„å‰ç¼€å¹¶å°†ç¬¬ä¸€ä¸ªåµŒå…¥çš„å•è¯é¦–å­—æ¯å¤§å†™ã€‚æ¯”å¦‚ï¼š&lt;code&gt;NSRunAlertPanelï¼ŒNSCellDisabled&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¸€å®šé¿å…ä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºç§æœ‰æ–¹æ³•çš„å‰ç¼€ï¼Œä½†æ˜¯ä½œä¸ºå®ä¾‹å˜é‡çš„å‰ç¼€æ˜¯å…è®¸çš„ã€‚Appleä¿ç•™ä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºç§æœ‰æ–¹æ³•å‰ç¼€çš„æƒåˆ©ã€‚ç¬¬ä¸‰æ–¹ä½¿ç”¨çš„è¯å¯èƒ½å¼•èµ·å‘½åå†²çªã€‚ä½ å¯èƒ½æ— æ„é—´å°±è¦†ç›–äº†å·²æœ‰çš„ç§æœ‰æ–¹æ³•å¹¶å¸¦æ¥ç¾éš¾æ€§çš„åæœã€‚åé¢ä¼šè®²ç§æœ‰æ–¹æ³•çš„å‘½åå»ºè®®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å››ã€ç±»å’Œåè®®çš„å‘½å&quot;&gt;&lt;a href=&quot;#å››ã€ç±»å’Œåè®®çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;å››ã€ç±»å’Œåè®®çš„å‘½å&quot;&gt;&lt;/a&gt;å››ã€ç±»å’Œåè®®çš„å‘½å&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ç±»ååº”è¯¥åŒ…å«ä¸€ä¸ªåè¯ç”¨ä»¥è¯´æ˜è¿™ä¸ªç±»æˆ–è€…è¿™ä¸ªç±»çš„å®ä¾‹ä»£è¡¨ä»€ä¹ˆï¼Œåå­—åº”è¯¥åŒ…å«ä¸€ä¸ªåˆé€‚çš„ç¼©å†™ã€‚ç³»ç»Ÿçš„æ¡†æ¶å°±æ˜¯å¾ˆå¥½çš„ä¾‹å­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å¦‚&lt;code&gt;NSString, NSDate, NSScanner, NSApplication, UIApplication, UIButton&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åè®®çš„å‘½ååº”è¯¥æ ¹æ®åè®®ç»„åˆçš„æ–¹æ³•æ¥ç¡®å®šã€‚
è®¸å¤šçš„åè®®æ‰€è§„å®šçš„æ–¹æ³•è·Ÿå…·ä½“ç±»æ— å…³ï¼Œè¿™ç§åè®®å°±ä¸è¦å‘½åå¾—åƒä¸€ä¸ªç±»ï¼Œä¸ç„¶å®¹æ˜“æ··æ·†ã€‚é€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨åŠ¨åè¯ï¼Œå¦‚NSLockingè€Œä¸æ˜¯NSLockï¼Œå› ä¸ºNSLockæ›´åƒæ˜¯ä¸€ä¸ªç±»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœ‰æ—¶å€™ä¸€äº›åè®®å¯èƒ½åŒ…å«äº†ä¸€äº›ä¸ç›¸å…³çš„æ–¹æ³•ï¼ˆå› ä¸ºä¸æƒ³åˆ›å»ºå¾ˆå¤šå°çš„åè®®ï¼‰ï¼Œè¿™ç§åè®®ä¸€èˆ¬éƒ½æ˜¯å’ŒæŸäº›ç‰¹å®šç±»ç›¸å…³çš„ï¼Œè¿™ç§æƒ…å†µä¸‹é€šå¸¸å°†åè®®å’Œç±»çš„åå­—å¼„å¾—ä¸€æ ·ã€‚æ¯”å¦‚&lt;code&gt;NSObject&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;äº”ã€å¤´æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#äº”ã€å¤´æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;äº”ã€å¤´æ–‡ä»¶&quot;&gt;&lt;/a&gt;äº”ã€å¤´æ–‡ä»¶&lt;/h3&gt;&lt;p&gt;å¤´æ–‡ä»¶çš„å‘½åé€šå¸¸éœ€è¦è¡¨æ˜å®ƒæ‰€åŒ…å«çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç±»æˆ–è€…åè®®ä¸æ˜¯æŸä¸€ç»„åŠŸèƒ½çš„ä¸€éƒ¨åˆ†åˆ™å•ç‹¬åˆ›å»ºå¤´æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯æœ‰å…³è”æ€§çš„ç±»æˆ–è€…åè®®åˆ™æœ€å¥½æ”¾åˆ°ä¸»ç±»ï¼ˆåˆ†ç±»ï¼Œåè®®ï¼‰ä¸­ã€‚æ¯”å¦‚NSStringå’ŒNSMutableStringã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯æ¡†æ¶çš„è¯ï¼Œé‚£åº”è¯¥æœ‰ä¸€ä¸ªå¤´æ–‡ä»¶åŒ…å«æ‰€æœ‰çš„æ¡†æ¶ä¸­çš„å¤´æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;ç»™å¦å¤–çš„æ¡†æ¶ä¸­çš„ç±»æ·»åŠ åˆ†ç±»æ–‡ä»¶æ—¶ï¼Œåº”æ·»åŠ Additionsï¼Œå¦‚ApplicationKitä¸­çš„NSBundleAdditions.hï¼ˆä¸ä¼šæœ‰é—®é¢˜ä¹ˆï¼Ÿå¯èƒ½å¤šä¸ªæ¡†æ¶éƒ½æ‰©å±•NSBundleï¼Ÿï¼‰&lt;/li&gt;
&lt;li&gt;ç›¸å…³è”çš„å‡½æ•°ä»¥åŠæ•°æ®ç±»å‹ï¼Œå¸¸é‡ç­‰åº”è¯¥æ”¾åˆ°ä¸€ä¸ªåˆé€‚å‘½åçš„å¤´æ–‡ä»¶é‡Œé¢ï¼Œå¦‚NSGraphics.h&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;ç»™æ–¹æ³•å‘½å&quot;&gt;&lt;a href=&quot;#ç»™æ–¹æ³•å‘½å&quot; class=&quot;headerlink&quot; title=&quot;ç»™æ–¹æ³•å‘½å&quot;&gt;&lt;/a&gt;ç»™æ–¹æ³•å‘½å&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€åŸºæœ¬è§„åˆ™&quot;&gt;&lt;a href=&quot;#ä¸€ã€åŸºæœ¬è§„åˆ™&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€åŸºæœ¬è§„åˆ™&quot;&gt;&lt;/a&gt;ä¸€ã€åŸºæœ¬è§„åˆ™&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å°å†™å¼€å¤´å¹¶ä¸”é©¼å³°åé¢çš„å•è¯ï¼Œä¸è¦ä½¿ç”¨å‰ç¼€ã€‚ä¸¤ä¸ªä¾‹å¤–ï¼šä¸€ä¸ªæ˜¯ä½¿ç”¨å¦‚TIFFæˆ–è€…PDFè¿™ç§çš†çŸ¥çš„å‰ç¼€å¼€å¤´ï¼Œå¦ä¸€ç§å°±æ˜¯å‘½åç§æœ‰æ–¹æ³•æ—¶çš„ä¸€ç§ç‰¹æ®Šå¤„ç†ï¼Œå¦‚XX_XXXè¿™ç§ã€‚å‚è€ƒåé¢çš„ç§æœ‰æ–¹æ³•å‘½åã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ–¹æ³•ä»£è¡¨çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æ‰€é‡‡å–çš„åŠ¨ä½œï¼Œé‚£ä¹ˆä»¥åŠ¨è¯å¼€å¤´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)invokeWithTarget:(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)target;      
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)selectTabViewItem:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSTabViewItem&lt;/span&gt; *)tabViewItem;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸è¦ä½¿ç”¨doæˆ–è€…doesï¼Œå› ä¸ºè¿™ä¸¤è¯çš„å­˜åœ¨ä»·å€¼å‡ ä¹ä¸º0ã€‚ä¸€ä¸ªä¾‹å¤–ï¼š&lt;code&gt;- (void)doesNotRecognizeSelector:(SEL)aSelector&lt;/code&gt;ã€‚
å¦å¤–åŠ¨è¯å‰é¢ä¸è¦ä½¿ç”¨å‰¯è¯æˆ–è€…å½¢å®¹è¯ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœæ–¹æ³•è¿”å›çš„æ˜¯æŸä¸ªå±æ€§ï¼Œåˆ™ç›´æ¥ç”¨è¿™ä¸ªå±æ€§ååšåå­—ã€‚å•ä¸ªå±æ€§ä¸è¦ä½¿ç”¨getï¼Œæ¯«æ— æ„ä¹‰ã€‚å¦‚æœä¸ä½¿ç”¨getä¼šå¼•èµ·æ··æ·†æ‰åº”è¯¥æ·»åŠ getã€‚å‚è€ƒâ€å±æ€§è®¿é—®æ–¹æ³•â€œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨æ‰€æœ‰å‚æ•°å‰é¢æ·»åŠ å…³é”®å­—ï¼Œç”¨ä½œè§£é‡Šå‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¦‚æœå·²æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç°åœ¨éœ€è¦æ·»åŠ å¦å¤–ä¸€ä¸ªç›¸æ¯”ç°åœ¨æœ‰æ›´å¤šå‚æ•°çš„æ–¹æ³•ï¼Œé‚£å°±ä¿æŒå‰é¢çš„å£°æ˜ä¸å˜ï¼Œè€Œåœ¨åé¢æ·»åŠ æ–°çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)initWithFrame:(&lt;span class=&quot;hljs-built_in&quot;&gt;CGRect&lt;/span&gt;)frameRect;
- (&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt;)initWithFrame:(&lt;span class=&quot;hljs-built_in&quot;&gt;CGRect&lt;/span&gt;)frameRect mode:(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;)aMode;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;ä¸è¦ä½¿ç”¨andæ¥è¿æ¥å„ä¸ªå‚æ•°ï¼Œé™¤éå‚æ•°æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªæ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)openFile:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSString&lt;/span&gt; *)fullPath withApplication:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSString&lt;/span&gt; *)appName andDeactivate:(&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)flag;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;äºŒã€accessoræ–¹æ³•&quot;&gt;&lt;a href=&quot;#äºŒã€accessoræ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€accessoræ–¹æ³•&quot;&gt;&lt;/a&gt;äºŒã€accessoræ–¹æ³•&lt;/h3&gt;&lt;p&gt;è¿™ç±»æ–¹æ³•å°±æ˜¯å€¼è®¾ç½®ä»¥åŠè·å–å¯¹è±¡å±æ€§çš„æ–¹æ³•ï¼Œä¹¦å†™æ–¹æ³•æœ‰è‡ªå·±çš„è§„åˆ™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœå±æ€§æ˜¯åè¯ï¼Œåˆ™åº”è¯¥æ˜¯&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (type)noun;
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)setNoun:(type)aNoun;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœæ˜¯å½¢å®¹è¯åˆ™åº”è¯¥æ˜¯&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)isEditable;
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)setEditable:(&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)flag;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœæ˜¯åŠ¨è¯ï¼Œåº”ä½¿ç”¨ç°åœ¨æ—¶æ€ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)showsAlpha;                                          
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)setShowsAlpha:(&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)flag;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸è¦æŠŠåŠ¨è¯è½¬æ¢ä¸ºè¿‡å»åˆ†è¯ã€‚
å¯ä»¥ä½¿ç”¨æƒ…æ€åŠ¨è¯ canï¼Œshouldï¼Œwillç­‰ä»¥å¼ºè°ƒæ„ä¹‰ï¼Œä½†æ˜¯ä¸è¦ä½¿ç”¨doæˆ–è€…doesã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;getä»…ä½¿ç”¨åœ¨å¯èƒ½è¿”å›å¤šä¸ªå€¼çš„æƒ…å†µä¸­ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)getLineDash:(&lt;span class=&quot;hljs-keyword&quot;&gt;float&lt;/span&gt; *)pattern count:(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; *)count phase:(&lt;span class=&quot;hljs-keyword&quot;&gt;float&lt;/span&gt; *)phase;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ç§æ–¹æ³•åº”è¯¥èƒ½å¤Ÿæ¥å—å‚æ•°ä¸ºNULLçš„outå‚æ•°ï¼Œå¦‚countï¼Œ phaseã€‚ &lt;/p&gt;
&lt;h3 id=&quot;ä¸‰ã€ä»£ç†æ–¹æ³•&quot;&gt;&lt;a href=&quot;#ä¸‰ã€ä»£ç†æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€ä»£ç†æ–¹æ³•&quot;&gt;&lt;/a&gt;ä¸‰ã€ä»£ç†æ–¹æ³•&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä»¥å‘é€æ¶ˆæ¯çš„ç±»å¼€å¤´ï¼Œå»æ‰å‰ç¼€ï¼Œå¹¶ä¸”å°å†™å¼€å¤´. &lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)tableView:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSTableView&lt;/span&gt; *)tableView shouldSelectRow:(&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt;)row;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;å†’å·åº”ç›´æ¥å†™åœ¨ç±»åé¢ï¼Œå¦‚æœä¸Šé¢çš„tableViewï¼Œé™¤éæ•´ä¸ªä»£ç†æ–¹æ³•ä»…æœ‰ä¸€ä¸ªå‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;-(&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)applicationOpenUntitledFile:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSApplication&lt;/span&gt; *)sender;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€ä¸ªä¾‹å¤–å°±æ˜¯æ¥æ”¶é€šçŸ¥çš„æ–¹æ³•ï¼Œæ­¤æ—¶å‚æ•°æ˜¯é€šçŸ¥è€Œä¸æ˜¯å‘é€é€šçŸ¥çš„ç±»ã€‚ &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;-(&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)windowDidChangeScreen:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSNotification&lt;/span&gt; *)notification;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨willå’Œdidå‘Šè¯‰ä»£ç†æŸä¸ªäº‹æƒ…å°†è¦å‘ç”Ÿæˆ–è€…å·²ç»å‘ç”Ÿã€‚å¦‚æœæ˜¯é—®ä»£ç†æ˜¯å¦è¦åšæŸäº‹æƒ…åˆ™åº”è¯¥ç”¨shouldã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å››ã€é›†åˆæ–¹æ³•&quot;&gt;&lt;a href=&quot;#å››ã€é›†åˆæ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;å››ã€é›†åˆæ–¹æ³•&quot;&gt;&lt;/a&gt;å››ã€é›†åˆæ–¹æ³•&lt;/h3&gt;&lt;p&gt;å¯¹äºç®¡ç†å¤šä¸ªå¯¹è±¡çš„é›†åˆå¯¹è±¡ï¼ˆæ¯ä¸ªé›†åˆä¸­çš„å¯¹è±¡chengweiiä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œä¹ æƒ¯ä¸Šçš„å‘½åæ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)addLayoutManager:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutManager&lt;/span&gt; *)obj;
- (&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt;)removeLayoutManager:(&lt;span class=&quot;hljs-built_in&quot;&gt;NSLayoutManager&lt;/span&gt; *)obj;
- (&lt;span class=&quot;hljs-built_in&quot;&gt;NSArray&lt;/span&gt; *)layoutManagers;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ‰å‡ ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ï¼šå¦‚æœé›†åˆæ— åºï¼Œè¿”å›é›†åˆæ—¶åº”ä½¿ç”¨NSSetè€Œä¸æ˜¯NSArrayã€‚å¦‚æœæœ‰åºåº”è¯¥æä¾›æ’å…¥åˆ°æŒ‡å®šä½ç½®å’Œä»æŒ‡å®šä½ç½®åˆ é™¤çš„å…ƒç´ çš„æ–¹æ³•ã€‚ é›†åˆæ–¹æ³•åº”å½“æŒæœ‰æ’å…¥çš„å¯¹è±¡ï¼Œå½“åˆ é™¤æ—¶åº”è¯¥é‡Šæ”¾è¯¥å¯¹è±¡ã€‚ å¦‚æœè¢«æ’å…¥çš„å…ƒç´ éœ€è¦çŸ¥é“ä¸»é›†åˆå¯¹è±¡çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆè®¾ç½®çš„æ—¶å€™ä¸è¦retainã€‚&lt;/p&gt;
&lt;h3 id=&quot;äº”ã€-æ–¹æ³•å‚æ•°&quot;&gt;&lt;a href=&quot;#äº”ã€-æ–¹æ³•å‚æ•°&quot; class=&quot;headerlink&quot; title=&quot;äº”ã€ æ–¹æ³•å‚æ•°&quot;&gt;&lt;/a&gt;äº”ã€ æ–¹æ³•å‚æ•°&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å‚æ•°åä»¥å°å†™å¼€å§‹ï¼Œä»ç„¶æ˜¯ä¸‹ä¸€ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚ removeObject:(id)anObject;&lt;/li&gt;
&lt;li&gt;ä¸è¦åœ¨å‚æ•°åä¸­ä½¿ç”¨pointeræˆ–è€…ptrç­‰ï¼Œåº”è¯¥è®©å‚æ•°çš„ç±»å‹æ¥è¯´æ˜å…¶æ˜¯ä¸€ä¸ªæŒ‡é’ˆè€Œä¸æ˜¯è®©å‚æ•°åæ¥è¯´æ˜ã€‚&lt;/li&gt;
&lt;li&gt;å°½é‡ä¸è¦ä½¿ç”¨ä¸€ä¸¤ä¸ªå­—æ¯ä½œä¸ºå‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å°½é‡å°‘ç”¨ç¼©å†™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å…­ã€ç§æœ‰æ–¹æ³•&quot;&gt;&lt;a href=&quot;#å…­ã€ç§æœ‰æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;å…­ã€ç§æœ‰æ–¹æ³•&quot;&gt;&lt;/a&gt;å…­ã€ç§æœ‰æ–¹æ³•&lt;/h3&gt;&lt;p&gt;å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç§æœ‰æ–¹æ³•çš„å‘½åè§„åˆ™ä¸å…¬å…±æ–¹æ³•çš„å‘½åè§„åˆ™ç›¸åŒã€‚ä½†æ˜¯å·²æœ‰ä¸€ä¸ªä¹ æƒ¯å°±æ˜¯ç»™ç§æœ‰æ–¹æ³•æ·»åŠ ä¸€ä¸ªå‰ç¼€å¥½å’Œå…¬å…±æ–¹æ³•ç›¸åŒºåˆ†ï¼Œå°½ç®¡æœ‰è¿™ä¹ˆä¸€ä¸ªä¹ æƒ¯ï¼Œä½†æ˜¯è¿™ä¹ˆç»™ç§æœ‰æ–¹æ³•å‘½åæœ‰æ—¶ä¼šå¼•å‘å¥‡æ€ªçš„é—®é¢˜ã€‚ç‰¹åˆ«æ˜¯å½“ä½ è®¾è®¡ä¸€ä¸ªcocoaæ¡†æ¶ç±»çš„å­ç±»æ—¶ï¼Œä½ æ²¡æ³•çŸ¥é“ä½ çš„æ–¹æ³•æ˜¯ä¸æ˜¯ä¸å°å¿ƒè¦†ç›–äº†æ¡†æ¶ç±»çš„ç§æœ‰æ–¹æ³•ã€‚
cocoaæ¡†æ¶ä¸­çš„å¤§éƒ¨åˆ†æ–¹æ³•éƒ½ä»¥ä¸‹åˆ’çº¿å¼€å¤´æ¥è¡¨ç¤ºä»–ä»¬æ˜¯ç§æœ‰æ–¹æ³•ï¼Œå› æ­¤ä¸€å®šè¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸è¦ä»¥ä¸‹åˆ’çº¿å¼€å¤´æ¥å‘½åä½ çš„ç§æœ‰æ–¹æ³•ï¼ŒAppleä¿ç•™è¿™ä¹ˆåšçš„ä¹ æƒ¯ï¼ˆApple reserves this conventionï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ åœ¨ç»§æ‰¿ä¸€ä¸ªå¤§ç±»ï¼Œä¾‹å¦‚UIViewï¼Œå¹¶ä¸”ä½ æƒ³ç¡®ä¿ä½ çš„ç§æœ‰æ–¹æ³•ä¸ä¼šå’Œçˆ¶ç±»çš„é‡åï¼Œä½ å¯ä»¥æ·»åŠ ä½ ä¸“å±çš„å‰ç¼€ï¼Œä¾‹å¦‚XX_ï¼ŒRR_addObject:&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œä¸æ˜¯è¦æ•…æ„å’Œä¹‹å‰æ‰€è¿°çš„è§„åˆ™ç›¸è¿èƒŒï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†é¿å…ä¸å°å¿ƒè¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;å‡½æ•°å‘½å&quot;&gt;&lt;a href=&quot;#å‡½æ•°å‘½å&quot; class=&quot;headerlink&quot; title=&quot;å‡½æ•°å‘½å&quot;&gt;&lt;/a&gt;å‡½æ•°å‘½å&lt;/h2&gt;&lt;p&gt;å‡½æ•°å‘½åå¤§éƒ¨åˆ†æƒ…å†µä¸‹å’Œæ–¹æ³•å‘½åç›¸åŒã€‚ä½†æ˜¯ä»¥ä¸‹æ˜¯ä¸€äº›åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‡½æ•°ååº”è¯¥ä¸ä½¿ç”¨çš„ç±»æˆ–è€…å¸¸é‡æœ‰ç›¸åŒçš„å‰ç¼€ï¼ŒCGRectMakeï¼Œ&lt;/li&gt;
&lt;li&gt;å‰ç¼€åé¢çš„ç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚&lt;/li&gt;
&lt;li&gt;å¤§éƒ¨åˆ†å‡½æ•°ä»¥åŠ¨è¯å¼€å¤´æè¿°äº†å®ƒçš„åŠ¨ä½œã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‡½æ•°è¿”å›å…¶ç¬¬ä¸€ä¸ªå‚æ•°çš„æŸä¸ªå±æ€§åˆ™å»æ‰åŠ¨è¯ã€‚ NSHeight(NSRect aRect)&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿”å›å€¼æ˜¯æŒ‡é’ˆï¼Œåˆ™ä»¥getå¼€å¤´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;å±æ€§å‘½åå’Œæ•°æ®ç±»å‹å‘½å&quot;&gt;&lt;a href=&quot;#å±æ€§å‘½åå’Œæ•°æ®ç±»å‹å‘½å&quot; class=&quot;headerlink&quot; title=&quot;å±æ€§å‘½åå’Œæ•°æ®ç±»å‹å‘½å&quot;&gt;&lt;/a&gt;å±æ€§å‘½åå’Œæ•°æ®ç±»å‹å‘½å&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚æè¿°å£°æ˜å±æ€§ï¼Œå®ä¾‹å˜é‡ï¼Œå¸¸é‡ï¼Œé€šçŸ¥ï¼Œå¼‚å¸¸çš„å‘½åã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸€ã€-propertyçš„å‘½å&quot;&gt;&lt;a href=&quot;#ä¸€ã€-propertyçš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€ propertyçš„å‘½å&quot;&gt;&lt;/a&gt;ä¸€ã€ propertyçš„å‘½å&lt;/h3&gt;&lt;p&gt;propertyçš„å‘½åå’Œsetterï¼Œgetterçš„å‘½åå¾ˆç›¸ä¼¼ï¼Œå¦‚æœpropertyæ˜¯åè¯æˆ–è€…åŠ¨è¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;strong&lt;/span&gt;) &lt;span class=&quot;hljs-built_in&quot;&gt;NSString&lt;/span&gt; *title;
&lt;span class=&quot;hljs-keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;assign&lt;/span&gt;) &lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt; showsAlpha;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœpropertyæ˜¯å½¢å®¹è¯ï¼Œåˆ™å»æ‰å‰ç¼€is.&lt;code&gt;@property(assign, getter=isEditable) BOOL editable;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åå­—åº”è¯¥å‡†ç¡®åœ°è¡¨è¾¾å±æ€§æ‰€å­˜å‚¨çš„å†…å®¹ï¼Œé™¤äº†åœ¨initå’Œdeallocä¸­å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼Œå…¶ä»–åœ°æ–¹éƒ½åº”è¯¥ä½¿ç”¨setterå’Œgetterã€‚è‡ªåŠ¨ç”Ÿæˆçš„å®ä¾‹å˜é‡éƒ½æ˜¯ä»¥ä¸‹åˆ’çº¿å¼€å¤´ã€‚&lt;/p&gt;
&lt;p&gt;æ·»åŠ å®ä¾‹å˜é‡æ—¶è¦æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è¦å£°æ˜public çš„å®ä¾‹å˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å‘è€…åº”è¯¥å°†propertyä½œä¸ºå¯¹è±¡çš„æ¥å£æ¥å¯¹å¾…è€Œä¸æ˜¯å…³å¿ƒå…·ä½“å­˜å‚¨çš„æ•°æ®ã€‚åº”è¯¥é€šè¿‡å£°æ˜property å’Œsynthesise æ¥è¡¨è¾¾å¯¹åº”çš„å®ä¾‹å˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ ç¡®å®éœ€è¦å£°æ˜å®ä¾‹å˜é‡ï¼Œä½¿ç”¨@privateæˆ–è€…@protectedã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ æœŸæœ›ä½ çš„ç±»è¢«ç»§æ‰¿å¹¶ä¸”è¿™äº›å­ç±»éœ€è¦ç›´æ¥è®¿é—®çˆ¶ç±»çš„å®ä¾‹å˜é‡ï¼Œé‚£ä¹ˆä½¿ç”¨@protectedã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ªå®ä¾‹å˜é‡éœ€è¦è¢«å¤–éƒ¨è®¿é—®åˆ™åº”è¯¥ç»™ä»–å†™setterå’Œgetteræ–¹æ³•ï¼Œæœ€å¥½æ˜¯å£°æ˜ä¸ºpropertyã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;äºŒã€-å¸¸é‡&quot;&gt;&lt;a href=&quot;#äºŒã€-å¸¸é‡&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€ å¸¸é‡&quot;&gt;&lt;/a&gt;äºŒã€ å¸¸é‡&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æšä¸¾çš„å¸¸é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæ˜¯æ•´å‹æšä¸¾åˆ™ä½¿ç”¨enumã€‚æšä¸¾å˜é‡çš„å®šä¹‰åº”è¯¥å’Œå‡½æ•°åå®šä¹‰è§„åˆ™ç›¸åŒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;enum&lt;/span&gt; _&lt;span class=&quot;hljs-built_in&quot;&gt;NSMatrixMode&lt;/span&gt; {
    &lt;span class=&quot;hljs-built_in&quot;&gt;NSRadioModeMatrix&lt;/span&gt;     = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,
    &lt;span class=&quot;hljs-built_in&quot;&gt;NSHighlightModeMatrix&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,
    &lt;span class=&quot;hljs-built_in&quot;&gt;NSListModeMatrix&lt;/span&gt;      = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,
    &lt;span class=&quot;hljs-built_in&quot;&gt;NSTrackModeMatrix&lt;/span&gt;= &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;
} &lt;span class=&quot;hljs-built_in&quot;&gt;NSMatrixMode&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;_NSMatrixMode&lt;/code&gt; å¯ä»¥ä¸å†™ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥åˆ›å»ºæ²¡æœ‰åå­—çš„enumã€‚é‚£æ ·å°±ç›´æ¥ä½¿ç”¨åå­—ï¼Œç±»å‹å°±æ˜¯NSIntegerã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;constå£°æ˜çš„å¸¸é‡
æµ®ç‚¹æ•°å¸¸é‡åº”ä½¿ç”¨constå£°æ˜ï¼Œå¦‚æœæ•´å½¢å¸¸é‡ç›¸äº’ä¹‹é—´æ— å…³åˆ™å•ç‹¬ç”¨constå£°æ˜ï¼Œå¦åˆ™åº”è¯¥å£°æ˜ä¸ºenumã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…¶ä»–ç±»å‹å¸¸é‡
æ€»ä¹‹ï¼Œ&lt;strong&gt;ä¸è¦ä½¿ç”¨#defineå»å®šä¹‰å¸¸é‡&lt;/strong&gt;ã€‚
ä½¿ç”¨å¤§å†™çš„é¢„ç¼–è¯‘å®å»åˆ¤æ–­ä»£ç å—æ˜¯å¦éœ€è¦å¤„ç†ã€‚ #ifdef DEBUG
ç¼–è¯‘å™¨çš„é¢„ç¼–è¯‘å®å‰åéƒ½æ˜¯åŒä¸‹åˆ’çº¿ã€‚
é€šçŸ¥å’Œå­—å…¸çš„keyä¹Ÿéœ€è¦ç”¨constå®šä¹‰å­—ç¬¦ä¸²ã€‚æ¯”å¦‚APPKIT_EXTERN NSString *NSPrintCopies;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ä¸‰ã€é€šçŸ¥å’Œå¼‚å¸¸&quot;&gt;&lt;a href=&quot;#ä¸‰ã€é€šçŸ¥å’Œå¼‚å¸¸&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€é€šçŸ¥å’Œå¼‚å¸¸&quot;&gt;&lt;/a&gt;ä¸‰ã€é€šçŸ¥å’Œå¼‚å¸¸&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;é€šçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªç±»æœ‰ä»£ç†ï¼Œé‚£ä¹ˆå®ƒå¤§å¤šæ•°çš„é€šçŸ¥éƒ½æ˜¯é€šè¿‡ä»£ç†æ–¹æ³•è¿›è¡Œæ¥å—çš„ï¼Œé€šçŸ¥çš„åå­—åº”è¯¥èƒ½æ­£ç¡®å¯¹åº”ç›¸å…³ä»£ç†æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š&lt;code&gt;applicationDidBecomeActive:&lt;/code&gt;è¿™ä¸ªä»£ç†æ–¹æ³•åŒæ—¶ä¹Ÿæœ‰ä¸€ä¸ª&lt;code&gt;UIApplicationDidBecomeActiveNotification&lt;/code&gt;é€šçŸ¥ã€‚
é€šçŸ¥çš„æ ¼å¼ä¸º[å…³è”ç±»çš„ç±»å]+[did|will]+[ç‰¹å®šçš„åŠ¨ä½œç­‰åå­—]+Notificationï¼Œå¦‚ä¸Šä¾‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼‚å¸¸&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°½ç®¡ä½ å¯ä»¥éšæ„ä½¿ç”¨NSExceptionå’Œç›¸å…³çš„æ–¹æ³•ï¼Œä½†æ˜¯Appleä¿ç•™ä½¿ç”¨exceptionæ¥å¤„ç†ç¨‹åºé”™è¯¯æ¯”å¦‚æ•°ç»„è¶Šç•Œï¼Œä½†æ˜¯ä¸ä¼šæ‹¿æ¥å¤„ç†å¸¸è§„çš„å¯èƒ½å‡ºé”™çš„åœºæ™¯.&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä½¿ç”¨nilï¼ŒNULLï¼ŒNOæˆ–è€…error codesä½œä¸ºè¿”å›å€¼ã€‚(use returned values such as nil, NULL, NO, or error codes).&lt;/p&gt;
&lt;p&gt;exceptionçš„å‘½åè§„åˆ™å¦‚ä¸‹ï¼š
[prefix]+[å”¯ä¸€çš„åå­—]+Exception;&lt;/p&gt;
&lt;h2 id=&quot;çš†çŸ¥çš„ç¼©å†™&quot;&gt;&lt;a href=&quot;#çš†çŸ¥çš„ç¼©å†™&quot; class=&quot;headerlink&quot; title=&quot;çš†çŸ¥çš„ç¼©å†™&quot;&gt;&lt;/a&gt;çš†çŸ¥çš„ç¼©å†™&lt;/h2&gt;&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹å¼€å‘è€…ä¸åº”è¯¥ä½¿ç”¨ç¼©å†™ï¼Œä½†æ˜¯ä»¥ä¸‹çš„ç¼©å†™æ˜¯çš†çŸ¥çš„å¹¶ä¸”å…è®¸çš„ã€‚
Cé‡Œé¢çš„é‚£äº›ç›¸å½“æœ‰å†å²çš„ç¼©å†™æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œå¦‚allocï¼Œgetcç­‰ã€‚&lt;/p&gt;
&lt;div&gt;&lt;div class=&quot;table_container&quot;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Abbreviation&lt;/th&gt;
&lt;th&gt;Meaning and comments&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;alloc&lt;/td&gt;
&lt;td&gt;Allocate.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;alt&lt;/td&gt;
&lt;td&gt;Alternate.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;app&lt;/td&gt;
&lt;td&gt;Application. For example, NSApp the global application object. However, â€œapplicationâ€ is spelled out in delegate methods, notifications, and so on.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;calc&lt;/td&gt;
&lt;td&gt;Calculate.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dealloc&lt;/td&gt;
&lt;td&gt;Deallocate.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;func&lt;/td&gt;
&lt;td&gt;Function.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;horiz&lt;/td&gt;
&lt;td&gt;Horizontal.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;info&lt;/td&gt;
&lt;td&gt;Information.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;init&lt;/td&gt;
&lt;td&gt;Initialize (for methods that initialize new objects).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;Integer (in the context of a C intâ€”for an NSInteger value, use integer).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;max&lt;/td&gt;
&lt;td&gt;Maximum.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;min&lt;/td&gt;
&lt;td&gt;Minimum.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;msg&lt;/td&gt;
&lt;td&gt;Message.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nib&lt;/td&gt;
&lt;td&gt;Interface Builder archive.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pboard&lt;/td&gt;
&lt;td&gt;Pasteboard (but only in constants).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rect&lt;/td&gt;
&lt;td&gt;Rectangle.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rep&lt;/td&gt;
&lt;td&gt;Representation (used in class name such as NSBitmapImageRep).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;temp&lt;/td&gt;
&lt;td&gt;Temporary.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vert&lt;/td&gt;
&lt;td&gt;Vertical.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;&lt;/div&gt;&lt;p&gt;è¿˜æœ‰ä¸€äº›è®¡ç®—æœºè¡Œä¸šçš„ä¸“ä¸šæœ¯è¯­ä¹Ÿå¯ä»¥ç¼©å†™ï¼ŒASCII,PDF,XML,HTML,URL,RTF,HTTPï¼ŒTIFF,JPG,PNG,GIF,LZW,ROM,RGB,CMYK,MIDI,FTP.&lt;/p&gt;
&lt;h2 id=&quot;é’ˆå¯¹æ¡†æ¶å¼€å‘è€…çš„å»ºè®®&quot;&gt;&lt;a href=&quot;#é’ˆå¯¹æ¡†æ¶å¼€å‘è€…çš„å»ºè®®&quot; class=&quot;headerlink&quot; title=&quot;é’ˆå¯¹æ¡†æ¶å¼€å‘è€…çš„å»ºè®®&quot;&gt;&lt;/a&gt;é’ˆå¯¹æ¡†æ¶å¼€å‘è€…çš„å»ºè®®&lt;/h2&gt;&lt;p&gt;è¿™ç±»äººåº”è¯¥æ›´åŠ å°å¿ƒåœ°ä¹¦å†™codeã€‚æ¡†æ¶ä¼šè¢«å¾ˆå¤šå®¢æˆ·ç«¯å¼•å…¥ï¼Œå¦‚æœç¨æœ‰ç–å¿½å°†æœ‰å¯èƒ½å¼•èµ·ç³»ç»ŸèŒƒå›´çš„é”™è¯¯ã€‚ä»¥ä¸‹çš„å»ºè®®å°†å¸®åŠ©è¿™ç±»äººä¿æŒæ¡†æ¶çš„æ•ˆç‡å’Œå®Œæ•´æ€§ã€‚è¿™äº›æŠ€æœ¯ä¸ä»…ä»…é€‚ç”¨äºæ¡†æ¶å¼€å‘ï¼Œappå¼€å‘ä¹Ÿå¯ä»¥å‚è€ƒã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç±»åˆå§‹åŒ–&quot;&gt;&lt;a href=&quot;#ç±»åˆå§‹åŒ–&quot; class=&quot;headerlink&quot; title=&quot;ç±»åˆå§‹åŒ–&quot;&gt;&lt;/a&gt;ç±»åˆå§‹åŒ–&lt;/h3&gt;&lt;p&gt;initializeçš„ç±»æ–¹æ³•ç»™äºˆäº†ç±»ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥æœ‰ä¸€æ¬¡å»¶è¿Ÿåˆ°è¿™ä¸ªç±»çš„ä»»æ„æ–¹æ³•è¢«è°ƒç”¨å‰æ‰æ‰§è¡Œä»£ç çš„æœºä¼šã€‚é€šå¸¸å¯ç”¨æ¥è®¾ç½®ç±»çš„versionç­‰ã€‚
runtimeä¼šåœ¨ç»§æ‰¿æ ‘ä¸Šè°ƒç”¨initializeï¼Œå› æ­¤å¦‚æœå­ç±»æ²¡æœ‰å®ç°è¯¥æ–¹æ³•ï¼Œé‚£ä¹ˆçˆ¶ç±»çš„è¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šè¢«è°ƒèµ·ä¸¤æ¬¡ã€‚è€Œä¸€èˆ¬å¼€å‘è€…å¯èƒ½ä»…ä»…æƒ³æ‰§è¡Œä¸€æ¬¡ã€‚å¯ä»¥ä½¿ç”¨dispatch_onceã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³ç¡®è®¤å½“å‰ä¸Šä¸‹æ–‡æ˜¯çˆ¶ç±»çš„æƒ…å†µä¸‹æ‰æ‰§è¡Œï¼Œé‚£å¯ä»¥æ·»åŠ åˆ¤æ–­ï¼Œå½“selfæ˜¯çˆ¶ç±»æ—¶æ‰æ‰§è¡Œã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt; == [&lt;span class=&quot;hljs-built_in&quot;&gt;NSFoo&lt;/span&gt; class]) { 
    &lt;span class=&quot;hljs-comment&quot;&gt;//do something &lt;/span&gt;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸è¦ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦‚æœç¡®å®æƒ³è§¦å‘initializeé‚£å°±è°ƒç”¨[NSFoo self].&lt;/p&gt;
&lt;h3 id=&quot;æŒ‡å®šçš„å®ä¾‹åˆå§‹åŒ–æ–¹æ³•&quot;&gt;&lt;a href=&quot;#æŒ‡å®šçš„å®ä¾‹åˆå§‹åŒ–æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;æŒ‡å®šçš„å®ä¾‹åˆå§‹åŒ–æ–¹æ³•&quot;&gt;&lt;/a&gt;æŒ‡å®šçš„å®ä¾‹åˆå§‹åŒ–æ–¹æ³•&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬initå³æ˜¯ã€‚éœ€è¦åœ¨æ–¹æ³•ä¸­è°ƒç”¨superã€‚æ¯ä¸€ä¸ªå…¬å…±çš„ç±»éƒ½åº”è¯¥æœ‰è‡³å°‘1ä¸ªæŒ‡å®šçš„åˆå§‹åŒ–æ–¹æ³•ã€‚ä¾‹å¦‚&lt;code&gt;initWithFrame:&lt;/code&gt; ã€‚æœ‰ä¸€äº›ç±»çš„initæ–¹æ³•æ˜¯ä¸æœŸæœ›è¢«é‡å†™çš„ï¼Œæ¯”å¦‚NSString å’Œå…¶ä»–æŠ½è±¡ç±»é›†åˆçš„é¡¶å±‚ç±»ï¼Œå› ä¸ºè¿™äº›é›†åˆç±»çš„å­ç±»è‡ªå·±æœ‰è‡ªå·±çš„å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;åº”è¯¥æ¸…æ™°åœ°æ ‡æ³¨å‡ºæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œå¦‚æœä½ æœŸæœ›ä½ çš„ç±»è¢«ç»§æ‰¿çš„è¯ã€‚å­ç±»èƒ½å¤Ÿä»…é‡è½½æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•å°±èƒ½æ­£å¸¸å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;åˆå§‹åŒ–ä¸­çš„é”™è¯¯æ£€æµ‹&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–ä¸­çš„é”™è¯¯æ£€æµ‹&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹åŒ–ä¸­çš„é”™è¯¯æ£€æµ‹&quot;&gt;&lt;/a&gt;åˆå§‹åŒ–ä¸­çš„é”™è¯¯æ£€æµ‹&lt;/h3&gt;&lt;p&gt;è‰¯å¥½çš„åˆå§‹åŒ–æ–¹æ³•åº”è¯¥æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨superçš„åˆå§‹åŒ–æ–¹æ³•æ¥é‡æ–°ç»™selfèµ‹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;æ£€æµ‹selfæ˜¯å¦ä¸ºnilï¼Œå¦‚æœæ˜¯çš„è¯è¯´æ˜çˆ¶ç±»çš„åˆå§‹åŒ–å‡ºé”™äº†ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåˆå§‹åŒ–å‡ºé”™åˆ™è¿”å›nilã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;ç‰ˆæœ¬å’Œå…¼å®¹æ€§&quot;&gt;&lt;a href=&quot;#ç‰ˆæœ¬å’Œå…¼å®¹æ€§&quot; class=&quot;headerlink&quot; title=&quot;ç‰ˆæœ¬å’Œå…¼å®¹æ€§&quot;&gt;&lt;/a&gt;ç‰ˆæœ¬å’Œå…¼å®¹æ€§&lt;/h3&gt;&lt;p&gt;å½“æ·»åŠ æ–°çš„ç±»æˆ–è€…æ–¹æ³•åˆ°æ¡†æ¶æ—¶ä¸€èˆ¬ä¸éœ€è¦ä¸ºæ¯ä¸ªæ–°åŠŸèƒ½æŒ‡å®šç‰ˆæœ¬ã€‚å¼€å‘è€…ä¸€èˆ¬åº”è¯¥é€šè¿‡runtimeå»æ£€æµ‹æ˜¯å¦ç›¸åº”æŸä¸ªæ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªç‰¹æ€§æ˜¯å¦å¯ç”¨ï¼Œè¿™ç§æ£€æµ‹æ–¹æ³•ä¸€èˆ¬æ¯”æ£€æµ‹ç‰ˆæœ¬æ›´åŠ¨æ€æ›´æœ‰æ•ˆã€‚ &lt;/p&gt;
&lt;p&gt;æœ‰æ—¶ä¸€ä¸ªæ–°åŠŸèƒ½æˆ–è€…bug fixä¸æ˜¯é‚£ä¹ˆå®¹æ˜“è¢«runtimeæ£€æŸ¥ï¼Œåˆ™åº”è¯¥æä¾›frameworkçš„vsersionä¾›å¼€å‘è€…æŸ¥çœ‹ã€‚
è¦æ ‡æ˜å˜åŒ–çš„ç‰ˆæœ¬ã€‚å¹¶è®¾ç½®å®ƒå…¨å±€å¯è®¿é—®ã€‚å¯ä»¥æ”¾åœ¨æ¡†æ¶çš„info.plisté‡Œé¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;keyed-Archiving&quot;&gt;&lt;a href=&quot;#keyed-Archiving&quot; class=&quot;headerlink&quot; title=&quot;keyed Archiving&quot;&gt;&lt;/a&gt;keyed Archiving&lt;/h3&gt;&lt;p&gt;å¦‚æœæ¡†æ¶éœ€è¦ç”¨åˆ°è¯¥æŠ€æœ¯ï¼Œåˆ™ä¸€å®šè¦è€ƒè™‘åˆ°ä¸€ä¸‹çš„æƒ…å†µï¼š
å¦‚æœkeyæ²¡æœ‰ï¼Œåˆ™è¿”å›çš„æ˜¯nilï¼ŒNULLï¼ŒNOï¼Œ0æˆ–è€…0.0ç­‰ã€‚åº”è¯¥æ£€æµ‹ä¸€ä¸‹è¿™äº›å€¼ä»¥å‡å°‘è¦å†™çš„æ•°æ®ã€‚
encodeå’Œdecodeéƒ½æ˜¯å¯ä»¥å‘åå…¼å®¹çš„ã€‚missing keyä¸ä¼šæœ‰å´©æºƒã€‚
keyåº”è¯¥å’Œæ¡†æ¶ä¸­å…¶ä»–æ–¹æ³•æœ‰ç›¸åŒçš„å‰ç¼€ï¼Œç„¶åæ˜¯å˜é‡åã€‚æ€»ä¹‹ä¸è¦è·Ÿçˆ¶ç±»æˆ–è€…å­ç±»çš„å†²çªã€‚
bitfieldsæœ€å¥½ä¸è¦ç¢°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¼‚å¸¸å’Œé”™è¯¯&quot;&gt;&lt;a href=&quot;#å¼‚å¸¸å’Œé”™è¯¯&quot; class=&quot;headerlink&quot; title=&quot;å¼‚å¸¸å’Œé”™è¯¯&quot;&gt;&lt;/a&gt;å¼‚å¸¸å’Œé”™è¯¯&lt;/h3&gt;&lt;p&gt;æŠ›å‡ºå¼‚å¸¸ä¸æ˜¯æ­£å¸¸æ‰§è¡Œçš„æµç¨‹ï¼Œè€Œå†™ä¹Ÿä¸æ˜¯ç”¨æ¥æ²Ÿé€štuntimeæˆ–è€…ç”¨æˆ·é”™è¯¯çš„ã€‚æ¯”å¦‚æ–‡ä»¶æ²¡æ‰¾åˆ°ï¼Œæ²¡æœ‰æ­¤ç”¨æˆ·ï¼Œæ–‡ä»¶ç±»å‹æœ‰è¯¯ï¼Œå­—ç¬¦ä¸²è½¬æ¢ç¼–ç å¤±è´¥ç­‰ã€‚è¿™ç±»é”™è¯¯æ˜¯errorï¼Œä¸æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;æŠ›å‡ºå¼‚å¸¸ä¸€èˆ¬æ˜¯ç¨‹åºé€»è¾‘é”™è¯¯ã€‚æ¯”å¦‚æ•°ç»„è¶Šç•Œï¼Œå°è¯•ä¿®æ”¹ä¸å¯ä¿®æ”¹çš„å¯¹è±¡ï¼Œé”™è¯¯çš„å‚æ•°ç±»å‹ç­‰ã€‚å¼‚å¸¸åº”è¯¥æ˜¯ç»™å¼€å‘è€…åœ¨å¼€å‘æµ‹è¯•ä¸­ä½¿ç”¨æ¥å®šä½é—®é¢˜çš„ï¼Œç¨‹åºæ­£å¸¸é€»è¾‘ä¸­ä¸éœ€è¦å»å¤„ç†å¼‚å¸¸ã€‚å¦‚æœæŠ›å‡ºäº†å¼‚å¸¸ä½†æ˜¯æ²¡æœ‰catchï¼Œé‚£ä¹ˆé¡¶å±‚çš„å¤„ç†å°†æ•è·å¼‚å¸¸å¹¶æŠ¥å‘Šï¼Œç„¶åæ‰§è¡Œç»§ç»­ã€‚å¼€å‘è€…å¯ä»¥æ›¿æ¢é»˜è®¤çš„è¡Œä¸ºï¼Œä»¥æä¾›æ›´å¤šçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å†™åˆ°æ–‡ä»¶å†é€€å‡ºç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;cocoaæ¡†æ¶ä¸­çš„erroræ˜¯å’Œå…¶ä»–åº“ä¸å¤ªä¸€æ ·ã€‚ä¸€èˆ¬æ²¡æœ‰error codesã€‚å¼€å‘è€…åº”è¯¥æ£€æµ‹è¿”å›çš„errorä¸ºNOæˆ–è€…nilï¼Œå¦‚æœç¡®å®æœ‰é”™è¯¯äº§ç”Ÿä¸è¦è¯•å›¾æ ¹æ®errorcodeå»åˆ¤æ–­è¦åšä»€ä¹ˆï¼Œåº”è¯¥æŠ›å‡ºå¼‚å¸¸æˆ–è€…åœ¨æ—¥å¿—ä¸­è®°å½•é”™è¯¯ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç¡®å®éœ€è¦çŸ¥é“é”™è¯¯æƒ…å†µï¼Œé‚£ä¹ˆç”¨æŒ‡é’ˆin-outï¼Œæ–¹æ³•çš„è¿”å›å€¼åˆ™åº”è¯¥ä¸ºnilæˆ–è€…NOã€‚åŒæ—¶æ–¹æ³•éœ€è¦æ£€æµ‹ä¼ é€’è¿›æ¥çš„errorå‚æ•°æ˜¯å¦ä¸ºNULLã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¸¸é‡æ•°æ®&quot;&gt;&lt;a href=&quot;#å¸¸é‡æ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;å¸¸é‡æ•°æ®&quot;&gt;&lt;/a&gt;å¸¸é‡æ•°æ®&lt;/h3&gt;&lt;p&gt;ä¸ºäº†æ€§èƒ½ï¼Œåº”è¯¥å°½é‡æŠŠæ¡†æ¶é‡Œé¢çš„æ•°æ®åšæˆå¸¸é‡ï¼Œå› ä¸ºéå¸¸é‡çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡æ˜¯æ”¾åœ¨è¯»å†™æ•°æ®æ®µä¸­çš„ã€‚é™æ€å˜é‡åœ¨æ¯ä¸ªå®ä¾‹ä¸­éƒ½ä¼šå­˜åœ¨ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šå¢åŠ å†…å­˜é¡µçš„ä½¿ç”¨ã€‚
åº”è¯¥å°†å¸¸é‡å°±æ ‡è®°ä¸ºå¸¸é‡ï¼Œæ­£å¸¸æƒ…å†µä¸‹å¸¸é‡ä¼šå­˜åœ¨äºä»£ç æ®µï¼ŒIf there are no char * pointers in the blockï¼Œæ•°æ®å°†å­˜å‚¨åˆ°åªè¯»æ•°æ®æ®µã€‚
å› è¯¥åˆå§‹åŒ–é™æ€å˜äº†ï¼Œä»¥ä¿è¯æ•°æ®è¢«æ”¾åˆ°è¯»å†™æ•°æ®æ®µä¸­è€Œä¸æ˜¯æœªåˆå§‹åŒ–æ•°æ®æ®µã€‚å¦‚æœæ²¡æœ‰åˆé€‚çš„å€¼åˆ™ç»™0ï¼ŒNULLï¼Œ0.0ä¹‹ç±»çš„
ä¸è¦ä¸€ä¸‹åˆ†é…æ‰€æœ‰çš„å†…å­˜ï¼Œå¦‚æœéœ€è¦ä¸€äº›ä¸´æ—¶çš„ç¼“å†²åŒºï¼Œä¸€èˆ¬ä½¿ç”¨æ ˆè€Œä¸æ˜¯åˆ†é…ä¸€ä¸ªç¼“å†²ï¼ˆitâ€™s usually better to use the stack than to allocate a bufferï¼‰ã€‚æ ˆæœ‰å¤§å°é™åˆ¶ï¼Œ512KBï¼Œæ‰€ä»¥æ ¹æ®æ–¹æ³•å’Œç¼“å†²çš„ç”¨é€”æ¥å†³å®šæ˜¯å¦éœ€è¦ç”¨æ ˆã€‚å¦‚æœéœ€æ±‚æ¯”è¾ƒå°ï¼Œ1Kä»¥å†…ï¼Œç”¨æ ˆæ˜¯okçš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¯¹è±¡æ¯”è¾ƒ&quot;&gt;&lt;a href=&quot;#å¯¹è±¡æ¯”è¾ƒ&quot; class=&quot;headerlink&quot; title=&quot;å¯¹è±¡æ¯”è¾ƒ&quot;&gt;&lt;/a&gt;å¯¹è±¡æ¯”è¾ƒ&lt;/h3&gt;&lt;p&gt;æ³¨æ„åŒºåˆ†isEqualï¼šå’Œè¡¨æ˜äº†å¯¹è±¡çš„å¦‚isEqualToStringï¼šã€‚å‰è€…å¯ä»¥ä¼ å…¥æ¨¡ç³Šçš„å¯¹è±¡ï¼Œä¸è¿‡åˆ¤å®šä¸ç›¸åŒåˆ™è¿”å›NOï¼Œä½†æ˜¯åè€…æ˜¯æŒ‡å®šäº†å‚æ•°ç±»å‹çš„ã€‚å› æ­¤åœ¨å†…éƒ¨ä¸å†æ‰§è¡Œç±»å‹æ£€æŸ¥ï¼Œå¿«ä½†æ˜¯ä¸é‚£ä¹ˆå®‰å…¨ã€‚å¦‚æœæ˜¯ä»å¤–éƒ¨æ–‡ä»¶è¯»å…¥çš„æœ€å¥½ä½¿ç”¨å‰è€…ï¼Œå› ä¸ºé‚£æ ·æ›´å®‰å…¨ï¼Œé™¤éå·²çŸ¥ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–è¦æ³¨æ„ï¼ŒisEqualï¼šå’Œhashæ˜¯å…³è”çš„ï¼ŒåŸºäºhashæœºåˆ¶çš„cocoaå¯¹è±¡æ¯”å¦‚NSDictionaryç­‰å¦‚æœ[A isEqual:B] == YESï¼Œåˆ™[A hash] == [B hash]ä¹Ÿä¸€å®šæˆç«‹ã€‚å› æ­¤ï¼Œå¦‚æœä½ é‡è½½isEqualï¼šé‚£ä½ ä¹Ÿåº”è¯¥é‡è½½hashã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒisEqualä»…æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸åŒï¼Œè€Œhashæ˜¯åŸºäºåœ°å€è®¡ç®—çš„ï¼Œå› æ­¤æœ¬è´¨ä¸Šä¸¤è€…ç›¸åŒã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      è¯»ç½¢æ–‡æ¡£, å¯¹äºç†è§£Appleçš„ç³»ç»Ÿå’ŒAPIè®¾è®¡æœ‰äº†æ–°çš„è®¤è¯†, è§‰å¾—iOSå¼€å‘éƒ½åº”è¯¥è®¤çœŸè¯»ä¸€ä¸‹.ç¿»è¯‘ç®—æ˜¯åšä¸ªmark, ä¹ŸåŠ æ·±ä¸€ä¸‹è‡ªå·±çš„ç†è§£.
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Objective-C Resolve Method</title>
    <link href="http://yoursite.com/2014/06/10/Objective-C%20Resolve%20Method/"/>
    <id>http://yoursite.com/2014/06/10/Objective-C Resolve Method/</id>
    <published>2014-06-10T04:00:00.000Z</published>
    <updated>2016-04-04T10:21:04.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ¬æ–‡ç®€å•ä»‹ç»äº†ä¸€ä¸‹&lt;code&gt;objective-c&lt;/code&gt;ä¸­ä¸ºç±»åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ æ–¹æ³•çš„æŠ€æœ¯.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008048&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;apple runtime æ–‡æ¡£&lt;/a&gt; æ–‡æ¡£ä¸­ä»‹ç»äº†runtimeçŸ¥è¯†ä»¥åŠresolve methodçš„ä¸€äº›å†…å®¹ï¼Œä½†æ˜¯ä¸è¯¦ç»†ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŠ¨æ€æ¶ˆæ¯å†³è®®æ˜¯åœ¨ä¸€ä¸ªå¯¹è±¡ä¸èƒ½å¤„ç†æŸä¸ªselectoræ—¶æ‰€å‘ç”Ÿçš„ã€‚å†³è®®æ¯”æ¶ˆæ¯è½¬å‘è¦å…ˆå‘ç”Ÿï¼Œå¦‚æœå†³è®®æˆåŠŸï¼Œåˆ™ä¼šè°ƒç”¨æ–¹æ³•ï¼Œä¸ä¼šç»§ç»­è½¬å‘æµç¨‹ï¼Œå¦åˆ™è¿›å…¥è½¬å‘æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å†³è®®æœ‰ä¸¤ä¸ªæ–¹å¼ï¼Œä¸€ä¸ªæ˜¯æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯æ·»åŠ ç±»æ–¹æ³•ã€‚ç°åœ¨äº’è”ç½‘ä¸Šçš„å¸–å­å¤§å¤šæ•°éƒ½æ˜¯æŠ„è¢­ï¼ŒåŸºæœ¬ä¸Šéƒ½åªè®²åˆ°å¦‚ä½•æ·»åŠ å®ä¾‹æ–¹æ³•è€Œå¯¹äºç±»æ–¹æ³•çš„æ·»åŠ éƒ½æ˜¯ä¸€ç¬”å¸¦è¿‡ã€‚æœ¬æ–‡å°†çœŸæ­£ä»‹ç»å¦‚ä½•æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;NSObjectçš„ç±»å£°æ˜ä¸­æœ‰å¦‚ä¸‹ä»£ç :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;+ (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)resolveClassMethod:(SEL)sel __OSX_&lt;span class=&quot;hljs-built_in&quot;&gt;AVAILABLE_STARTING&lt;/span&gt;(__MAC_10_5, __IPHONE_2_0);
+ (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)resolveInstanceMethod:(SEL)sel __OSX_&lt;span class=&quot;hljs-built_in&quot;&gt;AVAILABLE_STARTING&lt;/span&gt;(__MAC_10_5, __IPHONE_2_0);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‰è€…æ˜¯å†³è®®ç±»æ–¹æ³•ï¼Œåè€…å†³è®®å®ä¾‹æ–¹æ³•ã€‚è§¦å‘å†³è®®çš„æµç¨‹å¾ˆç®€å•ï¼Œåªéœ€è¦å¯¹æŸä¸ª&lt;strong&gt;å¯¹è±¡&lt;/strong&gt;å‘é€å…¶ä¸èƒ½å“åº”çš„æ¶ˆæ¯å³å¯ã€‚ç„¶åä¼šæ ¹æ®å¯¹è±¡çš„æ€§è´¨è°ƒç”¨ä¸åŒçš„å†³è®®æ–¹æ³•ã€‚å¦‚æœæ˜¯å®ä¾‹å¯¹è±¡åˆ™è°ƒç”¨&lt;code&gt;resolveInstanceMethod&lt;/code&gt;ï¼Œå¦‚æœæ˜¯classå¯¹è±¡åˆ™è°ƒç”¨&lt;code&gt;resloveClassMethod&lt;/code&gt;ã€‚
è¦äº†è§£å¦‚ä½•ç»™&lt;strong&gt;å¯¹è±¡&lt;/strong&gt;åŠ¨æ€æ·»åŠ æ–¹æ³•éœ€è¦çŸ¥é“objective-cä¸­çš„ç±»ç»§æ‰¿ç»“æ„ï¼Œä»¥åŠç†è§£classå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;objective-cçš„ç±»ç»“æ„&quot;&gt;&lt;a href=&quot;#objective-cçš„ç±»ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;objective-cçš„ç±»ç»“æ„&quot;&gt;&lt;/a&gt;objective-cçš„ç±»ç»“æ„&lt;/h3&gt;&lt;p&gt;æŸä¸ªç±»å¦‚&lt;code&gt;XLPerson&lt;/code&gt;ï¼Œå®ƒç»§æ‰¿è‡ª&lt;code&gt;NSObject&lt;/code&gt;ï¼Œä¸€ä¸ªå®ä¾‹ä¸º&lt;code&gt;personA&lt;/code&gt;ã€‚&lt;code&gt;personA&lt;/code&gt;çš„ç±»ä¸º&lt;code&gt;XLPerson&lt;/code&gt;ï¼Œ&lt;code&gt;XLPerson&lt;/code&gt;æ˜¯ä¸€ä¸ªclasså¯¹è±¡ï¼Œå®ƒçš„ç±»æ˜¯ä¸€ç§metaClassï¼Œç”¨ä»¥ä¸‹ä»£ç å¯ä»¥è·å–ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;OBJC_EXPORT Class objc_getMetaClass(&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;char&lt;/span&gt; *name)
    __OSX_&lt;span class=&quot;hljs-built_in&quot;&gt;AVAILABLE_STARTING&lt;/span&gt;(__MAC_10_0, __IPHONE_2_0);&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨æœ¬ä¾‹ä¸­è°ƒç”¨ä¸º&lt;code&gt;objc_getMetaClass(â€œXLPersonâ€)&lt;/code&gt;,è·å–åˆ°çš„classå¯¹è±¡æ˜¯&lt;code&gt;XLPerson&lt;/code&gt;çš„metaClassï¼Œäº¦å³&lt;code&gt;XLPerson&lt;/code&gt;çš„ç±»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ¶ˆæ¯å†³è®®çš„ç¤ºä¾‹ä»£ç &quot;&gt;&lt;a href=&quot;#æ¶ˆæ¯å†³è®®çš„ç¤ºä¾‹ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;æ¶ˆæ¯å†³è®®çš„ç¤ºä¾‹ä»£ç &quot;&gt;&lt;/a&gt;æ¶ˆæ¯å†³è®®çš„ç¤ºä¾‹ä»£ç &lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;å†³è®®å®ä¾‹æ–¹æ³•  &lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;+ (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)resolveInstanceMethod:(SEL)sel
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (sel == &lt;span class=&quot;hljs-keyword&quot;&gt;@selector&lt;/span&gt;(printWithInstance)) {
        IMP imp = imp_implementationWithBlock(^(&lt;span class=&quot;hljs-keyword&quot;&gt;id&lt;/span&gt; _&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;, SEL sel) {
            &lt;span class=&quot;hljs-built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;@&quot;print with instance&quot;&lt;/span&gt;);
        });
        class_addMethod(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;, sel, imp, &lt;span class=&quot;hljs-string&quot;&gt;&quot;v@:&quot;&lt;/span&gt;);
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;YES&lt;/span&gt;;
    }
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;hljs-keyword&quot;&gt;super&lt;/span&gt; resolveClassMethod:sel];
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç®€å•è§£é‡Šä¸‹ï¼Œå‘ç°æ˜¯&lt;code&gt;printWithInstance&lt;/code&gt;çš„selectorï¼Œæ‰‹åŠ¨åšäº†ä¸€ä¸ª&lt;code&gt;IMP&lt;/code&gt;ï¼Œç„¶åç»™classå¯¹è±¡åŠ ä¸Šã€‚ç„¶åè¿”å›YESï¼Œå‘Šè¯‰iOSå·²ç»å†³è®®æˆåŠŸï¼Œç„¶åiOSä¼šå†å°è¯•å»classå¯¹è±¡çš„&lt;code&gt;dispatch table&lt;/code&gt;ä¸­å¯»æ‰¾è¯¥å®ä¾‹æ–¹æ³•ï¼Œç„¶åæ‰¾åˆ°äº†ï¼Œè°ƒç”¨ï¼Œæ‰“å°å‡º&lt;code&gt;print with instance&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†³è®®ç±»æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&quot;objc hljs&quot;&gt;+ (&lt;span class=&quot;hljs-built_in&quot;&gt;BOOL&lt;/span&gt;)resolveClassMethod:(SEL)sel
{
    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (sel == &lt;span class=&quot;hljs-keyword&quot;&gt;@selector&lt;/span&gt;(printWithClass)) {
        IMP imp = imp_implementationWithBlock(^(Class class, SEL sel) {
            &lt;span class=&quot;hljs-built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;@&quot;print with class&quot;&lt;/span&gt;);
        });
        class_addMethod(objc_getMetaClass(&lt;span class=&quot;hljs-built_in&quot;&gt;NSStringFromClass&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;self&lt;/span&gt;).UTF8String), sel, imp, &lt;span class=&quot;hljs-string&quot;&gt;&quot;v@:&quot;&lt;/span&gt;);
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;YES&lt;/span&gt;;
    }
    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;hljs-keyword&quot;&gt;super&lt;/span&gt; resolveClassMethod:sel];
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å†³è®®ç±»æ–¹æ³•å’Œå†³è®®å®ä¾‹æ–¹æ³•çš„æµç¨‹æ˜¯ä¸€æ ·çš„ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯éœ€è¦åœ¨&lt;code&gt;dispatch table&lt;/code&gt;ä¸­æ·»åŠ æ–¹æ³•çš„ç±»å¯¹è±¡ä¸ä¸€æ ·ï¼Œå¯¹äºç±»æ–¹æ³•å†³è®®ï¼Œéœ€è¦åœ¨classå¯¹è±¡çš„metaClassä¸­æ·»åŠ ã€‚å› ä¸ºå¯¹classå¯¹è±¡å‘é€æ¶ˆæ¯æ—¶éœ€è¦åˆ°å…¶metaClassçš„&lt;code&gt;dispatch table&lt;/code&gt;ä¸­å¯»æ‰¾ï¼Œè¿™è·Ÿè°ƒç”¨å®ä¾‹æ–¹æ³•æ—¶éœ€è¦åˆ°classå¯¹è±¡å¯»æ‰¾æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;type-encoding&quot;&gt;&lt;a href=&quot;#type-encoding&quot; class=&quot;headerlink&quot; title=&quot;type encoding&quot;&gt;&lt;/a&gt;type encoding&lt;/h3&gt;&lt;p&gt;ä¸Šè¿°ä¸¤ä¾‹ä¸­éƒ½åœ¨ &lt;code&gt;class_addMethod&lt;/code&gt; è°ƒç”¨ä¸­ä¼ é€’äº†&lt;code&gt;â€œv@:â€&lt;/code&gt;ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°æ¥æè¿°æ·»åŠ çš„æ–¹æ³•çš„ç±»å‹ã€‚è¿™é‡Œæ³¨æ„ä¸è¦ç”¨ocçš„ä¸­æ‹¬å·è°ƒç”¨æ‰€å¹²æ‰°ï¼Œæ–¹æ³•çš„type encodingæ˜¯å…¶å¯¹åº”çš„cè¯­è¨€è°ƒç”¨çš„ç±»å‹ï¼Œå› ä¸ºæ–¹æ³•è°ƒç”¨ä¼šè½¬æ¢ä¸º&lt;code&gt;returnType msgSend(id receiver, SEL cmd, ...)&lt;/code&gt;ï¼Œä¸Šä¾‹ä¸­çš„&lt;code&gt;v@:&lt;/code&gt;ä»£è¡¨æ·»åŠ çš„æ–¹æ³•è¿”å›å€¼ä¸ºvoid(v), receiveræ˜¯å¯¹è±¡(@),cmdæ˜¯selector(:)ï¼Œæ²¡æœ‰å…¶ä»–å‚æ•°ã€‚æ›´å¤šå…³äºtype encodingçš„ä»‹ç»åœ¨è‹¹æœruntimeæ–‡æ¡£ä¸­æœ€åéƒ¨åˆ†æœ‰ä»‹ç»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;å­¦ä¹ åªæœ‰è„šè¸å®åœ°æ‰èƒ½å­¦åˆ°ã€‚ocçš„runtimeæ˜¯æ•´ä¸ªè¯­è¨€çš„ç²¾é«“ï¼Œä¸ç†è§£å®ƒå°†ä¸èƒ½ç†è§£å¾ˆå¤šocæ‰æœ‰çš„ç²¾è‰¯è®¾è®¡ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ç®€å•ä»‹ç»äº†ä¸€ä¸‹&lt;code&gt;objective-c&lt;/code&gt;ä¸­ä¸ºç±»åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ æ–¹æ³•çš„æŠ€æœ¯.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Coc
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
  </entry>
  
</feed>
